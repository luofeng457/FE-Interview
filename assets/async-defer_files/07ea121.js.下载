(window.webpackJsonp=window.webpackJsonp||[]).push([[61,2,4,8,155,158],{1006:function(t,e,n){"use strict";n(928)},1009:function(t,e,n){"use strict";n.r(e);n(137),n(45),n(22);var r=n(5),o=n(26),c=n(873),l=n(1105),d=n(1115),f=n.n(d),h=n(1116),m=n.n(h),v=n(1129),y=n(1088),_=n.n(y),w=n(1117),j=n.n(w),C=n(1089),O=n.n(C),k=n(1090),x=n.n(k),S=n(1118),P=n.n(S),L=n(1123),I=n.n(L),A=n(960),E=n.n(A),H=n(1132),V=n(1113),R=n(4465),T=(n(70),n(15),n(54),n(69),n(39),n(23),n(24),n(135),n(11),n(6),n(14),n(43),n(53),n(1020)),html=n(4369),B=n(271);function M(t,e){var n;if("undefined"==typeof Symbol||null==t[Symbol.iterator]){if(Array.isArray(t)||(n=function(t,e){if(!t)return;if("string"==typeof t)return $(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return $(t,e)}(t))||e&&t&&"number"==typeof t.length){n&&(t=n);var i=0,r=function(){};return{s:r,n:function(){return i>=t.length?{done:!0}:{done:!1,value:t[i++]}},e:function(t){throw t},f:r}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,c=!0,l=!1;return{s:function(){n=t[Symbol.iterator]()},n:function(){var t=n.next();return c=t.done,t},e:function(t){l=!0,o=t},f:function(){try{c||null==n.return||n.return()}finally{if(l)throw o}}}}function $(t,e){(null==e||e>t.length)&&(e=t.length);for(var i=0,n=new Array(e);i<e;i++)n[i]=t[i];return n}var D=1512*n(68).l;function U(t,e){var n;t.properties.src=Object(B.e)((null===(n=t.properties)||void 0===n?void 0:n.src)||"",D,0,{supportWebP:e},"zoomInCrop"),t.properties.loading="lazy"}var F=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=t.copyable,n=t.supportWebP,r=void 0!==n&&n;return function(t,n){var c,l,d="juejin",f=null===(c=n.frontmatter)||void 0===c?void 0:c.theme;Object.keys(E.a).includes(f)&&(d=f),null===(l=t.children)||void 0===l||l.unshift({type:"element",tagName:"style",children:[{type:"text",value:E.a[d].style}]});var h=0;Object(T.a)(t,"element",(function(t,n,c){var l;switch(t.properties||(t.properties={}),t.tagName){case"a":var p=t.properties||{},d=p.href||"";d&&!d.toString().startsWith("#")&&(p.target="_blank"),p.title=d;var f=t.children;if(f&&f[0]&&"text"===f[0].type){/^(https?:\/\/)?[-a-z0-9@:%._+~#=]{1,256}\.[a-z]{2,6}/i.test(f[0].value)&&(f[0].value=f[0].value.replace(/^https?:\/\//i,"").replace(/\/(.*)$/,(function(t){return t.length>12?"".concat(t.slice(0,12),"…"):t})))}Object(o.e)(d)&&(p.ref="nofollow noopener noreferrer",p.href=Object(o.h)(d)?Object(o.d)(d):d);break;case"h1":case"h2":case"h3":case"h4":case"h5":case"h6":t.properties["data-id"]="heading-".concat(h++);break;case"img":U(t,r);break;case"code":if(!c||"pre"!==c.tagName)return;t.properties.className=null!==(l=t.properties.className)&&void 0!==l?l:[];var m,v=t.properties.className;e&&!v.includes("language-mermaid")&&(v.push("copyable"),t.children.push(Object(html.a)("span.copy-code-btn",["复制代码"])));var y,_=M(v);try{for(_.s();!(y=_.n()).done;){var w=y.value;if("lang-"===w.slice(0,5)){m=w.slice(5);break}if("language-"===w.slice(0,9)){m=w.slice(9);break}}}catch(t){_.e(t)}finally{_.f()}m&&(t.properties.lang=m)}}))}},N=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=t.supportWebP,n=void 0!==e&&e;return function(t){Object(T.a)(t,"element",(function(t){switch(t.properties||(t.properties={}),t.tagName){case"img":U(t,n)}}))}},Z=n(1124),z=n(8),W=n(1106),G=n(954),J=n(1097),K=n.n(J),Q=n(156),Y=n(975),X=n.n(Y),tt=n(976),et=n.n(tt),nt=n(977),it=n.n(nt),ot=n(978),st=n.n(ot),ct=(n(1125),n(18)),at=Object(z.d)({components:{Viewer:l.b},props:{markdown:{type:String},html:{type:String},copyable:{type:Boolean,default:!1},cachedHtml:{type:String,default:""},needLoginBeforeCopyCode:{type:Boolean,default:!1},isLogined:{type:Boolean,default:!1}},data:function(){return{sanitize:G.c,commonPlugins:(component=this,[O()(),f()({languages:G.b,subset:G.a}),_()(),Object(v.a)(),j()(),P()(),m()({background:"rgba(0,0,0,0.7)"}),x()({test:o.e,internalProps:{target:"_blank"}}),Object(Z.viewer)({auditingBackground:component.$device.isMobile?et.a:X.a,loadingBackground:component.$device.isMobile?st.a:it.a}),{remark:function(p){return p.use(W.b)}},K()()])};var component},computed:{withoutViewer:function(){return!!this.cachedHtml||!this.markdown},supportWebP:function(){var t;return Object(ct.j)(null===(t=this.$nuxt)||void 0===t?void 0:t.context)},sanitizedHtml:function(){return this.cachedHtml?-1===this.cachedHtml.indexOf("webp")||this.supportWebP?this.cachedHtml:Object(H.a)().use(N,{supportWebP:this.supportWebP}).processSync(this.cachedHtml):this.html?Object(H.a)().use(V.a).use(R.a,{subset:G.a,languages:G.b}).use(F,{copyable:this.copyable,supportWebP:this.supportWebP}).processSync(this.html):this.cachedHtml||""},plugins:function(){var t=this,e={viewerEffect:function(t){var e,n,o=t.file,c=t.markdownBody;n=(null==o?void 0:o.frontmatter)&&"string"!=typeof o.frontmatter?o.frontmatter:{};var l=document.createElement("style");return null===(e=c||document.head)||void 0===e||e.appendChild(l),Object(r.a)(regeneratorRuntime.mark((function t(){var e,r,o,c,d,f;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return c=null!==(e=n.highlight)&&void 0!==e?e:null===(r=E.a[n.theme])||void 0===r?void 0:r.highlight,d=null!==(o=I.a[c])&&void 0!==o?o:I.a.github,t.next=4,d().then((function(t){return t.default}));case 4:f=t.sent,l.innerHTML=f;case 6:case"end":return t.stop()}}),t)})))(),function(){l.remove()}},rehype:function(u){return u.use(F,{copyable:t.copyable,supportWebP:t.supportWebP})}};return this.commonPlugins.concat(e)},remarkRehypeOptions:function(){return{handlers:Object.assign({},W.a)}}},mounted:function(){var t=this;this.withoutViewer&&this.plugins.forEach((function(p){var e;null===(e=p.viewerEffect)||void 0===e||e.call(p,{markdownBody:t.$el})}))},methods:{onContentElementClick:function(t){var e;if(this.copyable){var n=t.target;if("copy-code-btn"===n.className){var text=n.textContent||"",r=n.parentNode,content=null===(e=null==r?void 0:r.textContent)||void 0===e?void 0:e.replace(new RegExp("\n?".concat(text,"$")),"");try{if(this.needLoginBeforeCopyCode&&!this.isLogined)return this.$requestLogin(),void this.$TEA("login_guide_click",{from:Q.a.code});Object(c.a)(content||""),this.$alertMsg("代码复制成功")}catch(t){this.$error("代码复制失败")}}}}}}),ut=(n(979),n(27)),lt=Object(ut.a)(at,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"article-content",on:{"!click":function(e){return t.onContentElementClick(e)}}},[!t.cachedHtml&&t.markdown?n("viewer",{attrs:{value:t.markdown,plugins:t.plugins,sanitize:t.sanitize,"remark-rehype":t.remarkRehypeOptions}}):n("div",{staticClass:"markdown-body",class:{cache:t.cachedHtml,html:t.html},domProps:{innerHTML:t._s(t.sanitizedHtml)}})],1)}),[],!1,null,null,null);e.default=lt.exports},1011:function(t,e,n){},1019:function(t,e,n){"use strict";var r=n(49),o=n(8),c=Object(o.d)({props:{userId:{type:String,default:""},type:{type:String,default:"default"},teaType:{type:String,default:""}},setup:function(){return{handleTea:function(t){Object(r.d)("private_msg_page_show",{visit_source:t})}}}}),l=(n(1031),n(27)),component=Object(l.a)(c,(function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("NuxtLink",{staticClass:"im-button",class:{"has-icon":"hasIcon"===t.type},attrs:{to:"/notification/im?participantId="+t.userId},nativeOn:{click:function(e){return t.handleTea(t.teaType)}}},["hasIcon"===t.type?r("img",{staticClass:"im-icon",attrs:{src:n(1030),alt:"私信"}}):t._e(),t._v(" "),r("div",[t._v("私信")])])}),[],!1,null,"11443840",null);e.a=component.exports},1029:function(t,e,n){"use strict";n(956)},1030:function(t,e){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACoAAAAqCAYAAADFw8lbAAAACXBIWXMAACE4AAAhOAFFljFgAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAHLSURBVHgB7ZdbTsJAGIXPT9AXE8KjiRe6A3EH7EB2IK5AdsDPDlwC7ABXIEvAFdh4SXxsfNToeGqBTLFQCmOKyXxJ05lpO/P1NO1MAY/H4wRZbDhUE+wDXR44Qwl8AeEH0H9VCe32lOhU8o7FAOUSvgHnkUo0a6jYR/eAFsqXjAlqBh27ISUquyGZIKjb1Qr+CV7UNV7UNZWFyo0BrlicoCQ4/phvfDd2sdtl2QWBmiZniS6LF9zq+FviD/uQ442eVcZZJ0heDxSufwJtnnjNahMOidMTwahiMAytWSiLlOgRU6RUtDjPznCUcm56dYZzwOFeVCaZoqdqlLse73QUd/akMkK2cOGU10nvWE2LffYkmcr7jyo6O1bNuoAntrlrUzzkfvBOaTvl6UCDeMtJea30askNd7HiKVWxmoCbckWlJ2oyUw6Tx9OZpczyJd/YyAjGBdLLJU90TpGUl/WxbnpbiVoEyEl5kaLpZbGJ6JxVKW+THlyLWgSYptxQMzaJmNNvrivROWaLx7sKv3pyjRd1jRd1jRd1TVrUIMKuIHiwq+mfO/lZ+YQon5BLxFu74dc/E9eVARe6yqmwgRKg0D3T07x/KI/HsyHfQKq0yUCbcHQAAAAASUVORK5CYII="},1031:function(t,e,n){"use strict";n(957)},1032:function(t,e,n){"use strict";n(958)},1033:function(t,e,n){"use strict";n(959)},1053:function(t,e,n){"use strict";n(1108);var r=n(27),component=Object(r.a)({},(function(){var t=this.$createElement;return(this._self._c||t)("span",{staticClass:"video-label"},[this._v("视频")])}),[],!1,null,"5e209804",null);e.a=component.exports},1084:function(t,e,n){},1108:function(t,e,n){"use strict";n(1011)},1109:function(t,e,n){"use strict";n.d(e,"d",(function(){return h})),n.d(e,"a",(function(){return m})),n.d(e,"c",(function(){return y})),n.d(e,"b",(function(){return w}));n(22);var r=n(5),o=n(120),c=n(34),l=n(7),d=n(9),f=n(180);function h(t){var e=Object(f.j)({maxDurationMS:9e4}),n=e.stayDuration,h=e.isCancelled,m=e.cancel;function v(){return(v=Object(r.a)(regeneratorRuntime.mark((function t(e){var n;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!h.value){t.next=2;break}return t.abrupt("return");case 2:return t.prev=2,t.next=5,o.a.AddPointReport({growth_type:c.GrowthType.JScore,task_id:c.GrowthTaskID.ViewContent,item_id:e});case 5:(n=t.sent).err_no!==d.ERROR_NO.OK?console.warn("error reportViewContentJScore reason:".concat(n.err_msg)):m(),t.next=12;break;case 9:t.prev=9,t.t0=t.catch(2),console.warn("error reportViewContentJScore err:",t.t0);case 12:case"end":return t.stop()}}),t,null,[[2,9]])})))).apply(this,arguments)}Object(l.z)((function(){n.value>=9e4&&function(t){v.apply(this,arguments)}(t)}))}function m(){return v.apply(this,arguments)}function v(){return(v=Object(r.a)(regeneratorRuntime.mark((function t(){var e;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,o.a.AddPointReport({growth_type:c.GrowthType.JScore,task_id:c.GrowthTaskID.BindPhone,item_id:"0"});case 3:(e=t.sent).err_no!==d.ERROR_NO.OK&&console.warn("error reportBindPhoneJScore reason:".concat(e.err_msg)),t.next=10;break;case 7:t.prev=7,t.t0=t.catch(0),console.warn("error reportBindPhoneJScore err:",t.t0);case 10:case"end":return t.stop()}}),t,null,[[0,7]])})))).apply(this,arguments)}function y(){return _.apply(this,arguments)}function _(){return(_=Object(r.a)(regeneratorRuntime.mark((function t(){var e;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,o.a.AddPointReport({growth_type:c.GrowthType.JScore,task_id:c.GrowthTaskID.UploadFavicon,item_id:"0"});case 3:(e=t.sent).err_no!==d.ERROR_NO.OK&&console.warn("error reportUploadAvatarJScore reason:".concat(e.err_msg)),t.next=10;break;case 7:t.prev=7,t.t0=t.catch(0),console.warn("error reportUploadAvatarJScore err:",t.t0);case 10:case"end":return t.stop()}}),t,null,[[0,7]])})))).apply(this,arguments)}function w(){return j.apply(this,arguments)}function j(){return(j=Object(r.a)(regeneratorRuntime.mark((function t(){var e;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,o.a.AddPointReport({growth_type:c.GrowthType.JScore,task_id:c.GrowthTaskID.ModifyScreenName,item_id:"0"});case 3:(e=t.sent).err_no!==d.ERROR_NO.OK&&console.warn("error reportModifyScreenNameJScore reason:".concat(e.err_msg)),t.next=10;break;case 7:t.prev=7,t.t0=t.catch(0),console.warn("error reportModifyScreenNameJScore err:",t.t0);case 10:case"end":return t.stop()}}),t,null,[[0,7]])})))).apply(this,arguments)}},1122:function(t,e,n){var map={"./locale":974,"./locale.js":974};function r(t){var e=o(t);return n(e)}function o(t){if(!n.o(map,t)){var e=new Error("Cannot find module '"+t+"'");throw e.code="MODULE_NOT_FOUND",e}return map[t]}r.keys=function(){return Object.keys(map)},r.resolve=o,t.exports=r,r.id=1122},1134:function(t,e,n){},1172:function(t,e,n){t.exports=n.p+"5e2cfe768dbb98a0bf497ff46eec11fe.svg"},1173:function(t,e,n){t.exports=n.p+"37ca4f63b2d6ce3142b550147fe4476c.svg"},1174:function(t,e,n){"use strict";n(1084)},1199:function(t,e,n){"use strict";var r=[function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"header"},[e("div",{staticClass:"title"},[this._v("未登录")]),this._v(" "),e("div",{staticClass:"desc"},[this._v("注册或登录后即可继续操作")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("span",[e("img",{attrs:{src:n(1172)}})])},function(){var t=this.$createElement,e=this._self._c||t;return e("span",[e("img",{attrs:{src:n(1173)}})])}],o=n(18),c={data:function(){return{show:!1}},computed:{isWechat:function(){return Object(o.f)()}},filters:{},methods:{loginWithWechat:function(){return this.$getBean("oauthBusiness").loginWithWechat()},close:function(){this.show=!1},authoLogin:function(){this.show=!1,this.$requestLogin()}},mounted:function(){var t=this,e=this.$getBean("eventBus");e.onVmLife(this,e.eventType.AUTH_WECHAT_QUICK_LOGIN,(function(){t.$requestLogin()}))}},l=(n(1174),n(27)),component=Object(l.a)(c,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return t.show?n("div",{staticClass:"wechat-quick-login"},[n("div",{staticClass:"quick-box"},[t._m(0),t._v(" "),n("div",{staticClass:"auth-box"},[n("div",{staticClass:"auth-btn wx",on:{click:t.loginWithWechat}},[t._m(1),t._v(" "),n("span",[t._v("微信快捷登录")])]),t._v(" "),n("div",{staticClass:"auth-btn jj",on:{click:t.authoLogin}},[t._m(2),t._v(" "),n("span",[t._v("稀土掘金账号登录")])])]),t._v(" "),n("div",{staticClass:"agreement-box"},[t._v("\n      注册登录即表示同意\n      "),n("a",{directives:[{name:"link",rawName:"v-link.blank",value:"/terms",expression:"'/terms'",modifiers:{blank:!0}}]},[t._v("用户协议")]),t._v("\n      、\n      "),n("a",{directives:[{name:"link",rawName:"v-link.blank",value:"/privacy",expression:"'/privacy'",modifiers:{blank:!0}}]},[t._v("隐私政策")])]),t._v(" "),n("div",{staticClass:"footer"},[n("div",{staticClass:"box",on:{click:t.close}},[t._v("取消")])])])]):t._e()}),r,!1,null,"3a1cf91f",null);e.a=component.exports},1200:function(t,e,n){"use strict";n(43),n(53);var r=n(7),o=n(176),c=n(25),l=n(178),d=n(103),f=Object(r.b)({components:{BTooltip:o.Tooltip},props:{bookInfo:{type:Object,default:function(){return{}}},eventPage:{type:String,default:""}},emits:["read","fetch"],setup:function(t,e){var n=Object(r.a)((function(){var t,n;return(null===(n=null===(t=e.root.$store.state)||void 0===t?void 0:t.auth)||void 0===n?void 0:n.user)||null})),o=e.root.$getBean("eventBus"),f=Object(r.w)(),h=Object(r.a)((function(){var e,r,o;if(t.bookInfo.isBorrowing){var c=null===(r=null===(e=t.bookInfo)||void 0===e?void 0:e.reading_progress)||void 0===r?void 0:r.last_section_id;return"0"!==c&&c?"继续学习":"立即学习"}return(null===(o=t.bookInfo)||void 0===o?void 0:o.borrowTimes)>0&&n.value.is_vip?"再次借阅":"VIP借阅"})),m=Object(r.a)((function(){return t.bookInfo.isBorrowing?"有效期至 ".concat(Object(c.a)(1e3*t.bookInfo.validEndTime,"YYYY-MM-DD")):"借过".concat(t.bookInfo.borrowTimes,"次")})),v=Object(r.f)("refreshBook",(function(){return null})),y=Object(d.b)((function(){e.emit("fetch"),v()}),500);Object(r.j)((function(){o.on(o.eventType.SHOW_VIP_FETCH,(function(){y()}))})),Object(r.k)((function(){o.off(o.eventType.SHOW_VIP_FETCH)}));return{buttonVipTitle:h,buttonVipDescript:m,handleClick:function(){var r={event_page:t.eventPage,book_id:t.bookInfo.id,author_id:t.bookInfo.user_info.user_id,platform:e.root.$device.isMobile?"h5":"web"};return e.root.$TEA("member_rent_click",r),n.value?n.value.isBindedPhone?void(t.bookInfo.isBorrowing?e.emit("read"):n.value.is_vip?o.emit(o.eventType.SHOW_VIP_BORROW_MODAL,t.bookInfo,r):f.push({name:"vipIndex",query:{utm_source:window.location.pathname.includes("section")?"course_section":"course_detail",utm_medium:"rent"}})):e.root.$requestBindPhoneNumber(l.c,{toUrl:location.href}):e.root.$requestLogin()},currentUser:n}}}),h=(n(1341),n(27)),component=Object(h.a)(f,(function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{staticClass:"vip-borrow-button"},[r("BTooltip",{staticClass:"tooltip",attrs:{content:"如果您下单购买了借阅中或曾经借阅过的课程，我们将把消耗的借阅卡退还给您，每门课程最多退还1张",theme:"light",placement:"bottom",disabled:!t.bookInfo.isBorrowing||t.$device.isMobile,"max-width":"244px"}},[t.bookInfo.canVipBorrow?r("div",{staticClass:"vip-borrow",on:{click:t.handleClick}},[t.bookInfo.isBorrowing?r("img",{staticClass:"mark",attrs:{src:n(1340),alt:"借阅中"}}):t._e(),t._v(" "),r("div",{staticClass:"title"},[t._v(t._s(t.buttonVipTitle))]),t._v(" "),t.bookInfo.borrowTimes>0&&t.currentUser.is_vip?r("div",{staticClass:"descript"},[t._v("\n        "+t._s(t.buttonVipDescript)+"\n      ")]):t._e()]):t._e()])],1)}),[],!1,null,"150d6eee",null);e.a=component.exports},1211:function(t,e,n){},1217:function(t,e,n){},1257:function(t,e,n){"use strict";n(1134)},1293:function(t,e,n){"use strict";n(16),n(15),n(11),n(6),n(14);var r=n(0),o=n(278),c=n(84),l=n(4),d=n(177),f=n(51),h=n(297);function m(object,t){var e=Object.keys(object);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(object);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(object,t).enumerable}))),e.push.apply(e,n)}return e}var v={components:{Avatar:d.a,DropDownList:h.a},data:function(){return{bdPageUrlForNav:o.e,isShowUserDropdownList:!1,translateGithubURL:f.e}},computed:function(t){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?m(Object(source),!0).forEach((function(e){Object(r.a)(t,e,source[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(source)):m(Object(source)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(source,e))}))}return t}({},Object(c.mapGetters)({user:l.USER})),methods:{hideActionList:function(){this.isShowUserDropdownList=!1},onUserActionClick:function(){this.isShowUserDropdownList=!this.isShowUserDropdownList},openEditorPage:function(){var t=this.$getBean("editorBusiness");window.location.href=t.getPostEditUrl()},openXiaoceEditorPage:function(){var t=this.$getBean("editorBusiness");window.location.href=t.getXiaoceEditUrl()},openDraftIndexPage:function(){var t=this.$getBean("editorBusiness");window.location.href=t.getDraftIndexUrl()},login:function(){this.$requestLogin()},register:function(){this.$requestRegister()},logout:function(){window.confirm("确定登出吗？每一片贫瘠的土地都需要坚定的挖掘者！")&&this.$requestLogout()}},mounted:function(){var t=this,e=this.$getBean("eventBus");e.onVmLife(this,e.eventType.ROOT_CONTAINER_CLICK,(function(){t.hideActionList()}))},watch:{isShowUserDropdownList:function(t){t&&this.$TEA("avatar_menu_visit")}}},y=(n(1257),n(27)),component=Object(y.a)(v,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"user-auth"},[t.user?n("div",{staticClass:"nav-item menu",on:{click:function(e){return e.stopPropagation(),t.onUserActionClick(e)}}},[n("avatar",{staticClass:"avatar",attrs:{user:t.user,decorative:!0,alt:t.user.username+"的头像"}}),t._v(" "),n("DropDownList",{attrs:{"is-show-user-dropdown-list":t.isShowUserDropdownList}})],1):t._e(),t._v(" "),t.user?t._e():n("div",{staticClass:"nav-item auth"},[n("span",{staticClass:"login",on:{click:t.login}},[t._v("登录")])])])}),[],!1,null,"27c6ac96",null);e.a=component.exports},1340:function(t,e,n){t.exports=n.p+"d9fd35ba8ea6d69f1746f621a0dd8433.svg"},1341:function(t,e,n){"use strict";n(1211)},1342:function(t,e,n){},1343:function(t,e,n){},1355:function(t,e){t.exports=function(t){var e={};function n(r){if(e[r])return e[r].exports;var o=e[r]={i:r,l:!1,exports:{}};return t[r].call(o.exports,o,o.exports,n),o.l=!0,o.exports}return n.m=t,n.c=e,n.d=function(t,e,r){n.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:r})},n.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},n.t=function(t,e){if(1&e&&(t=n(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var o in t)n.d(r,o,function(e){return t[e]}.bind(null,o));return r},n.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return n.d(e,"a",e),e},n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},n.p="",n(n.s=22)}([function(t,e,n){"use strict";var r=t.exports="undefined"!=typeof window&&window.Math==Math?window:"undefined"!=typeof self&&self.Math==Math?self:Function("return this")();"number"==typeof __g&&(__g=r)},function(t,e,n){"use strict";var r=n(12)("wks"),o=n(13),i=n(0).Symbol,u="function"==typeof i;(t.exports=function(t){return r[t]||(r[t]=u&&i[t]||(u?i:o)("Symbol."+t))}).store=r},function(t,e,n){"use strict";var r=t.exports={version:"2.6.12"};"number"==typeof __e&&(__e=r)},function(t,e,n){"use strict";var r=n(4);t.exports=function(t){if(!r(t))throw TypeError(t+" is not an object!");return t}},function(t,e,n){"use strict";var r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t};t.exports=function(t){return"object"===(void 0===t?"undefined":r(t))?null!==t:"function"==typeof t}},function(t,e,n){"use strict";var r=n(6);t.exports=function(t,e,n){if(r(t),void 0===e)return t;switch(n){case 1:return function(n){return t.call(e,n)};case 2:return function(n,r){return t.call(e,n,r)};case 3:return function(n,r,o){return t.call(e,n,r,o)}}return function(){return t.apply(e,arguments)}}},function(t,e,n){"use strict";t.exports=function(t){if("function"!=typeof t)throw TypeError(t+" is not a function!");return t}},function(t,e,n){"use strict";t.exports=!n(15)((function(){return 7!=Object.defineProperty({},"a",{get:function(){return 7}}).a}))},function(t,e,n){"use strict";var r={}.toString;t.exports=function(t){return r.call(t).slice(8,-1)}},function(t,e,n){"use strict";var r=n(3),o=n(26),i=n(27),u=Object.defineProperty;e.f=n(7)?Object.defineProperty:function(t,e,n){if(r(t),e=i(e,!0),r(n),o)try{return u(t,e,n)}catch(t){}if("get"in n||"set"in n)throw TypeError("Accessors not supported!");return"value"in n&&(t[e]=n.value),t}},function(t,e,n){"use strict";t.exports=!1},function(t,e,n){"use strict";var r=n(8),o=n(1)("toStringTag"),i="Arguments"==r(function(){return arguments}());t.exports=function(t){var e,n,u;return void 0===t?"Undefined":null===t?"Null":"string"==typeof(n=function(t,e){try{return t[e]}catch(t){}}(e=Object(t),o))?n:i?r(e):"Object"==(u=r(e))&&"function"==typeof e.callee?"Arguments":u}},function(t,e,n){"use strict";var r=n(2),o=n(0),i=o["__core-js_shared__"]||(o["__core-js_shared__"]={});(t.exports=function(t,e){return i[t]||(i[t]=void 0!==e?e:{})})("versions",[]).push({version:r.version,mode:n(10)?"pure":"global",copyright:"© 2020 Denis Pushkarev (zloirock.ru)"})},function(t,e,n){"use strict";var r=0,o=Math.random();t.exports=function(t){return"Symbol(".concat(void 0===t?"":t,")_",(++r+o).toString(36))}},function(t,e,n){"use strict";var r=n(9),o=n(28);t.exports=n(7)?function(t,e,n){return r.f(t,e,o(1,n))}:function(t,e,n){return t[e]=n,t}},function(t,e,n){"use strict";t.exports=function(t){try{return!!t()}catch(t){return!0}}},function(t,e,n){"use strict";var r=n(4),o=n(0).document,i=r(o)&&r(o.createElement);t.exports=function(t){return i?o.createElement(t):{}}},function(t,e,n){"use strict";var r=n(0),o=n(14),i=n(18),u=n(13)("src"),c=n(29),s=(""+c).split("toString");n(2).inspectSource=function(t){return c.call(t)},(t.exports=function(t,e,n,c){var l="function"==typeof n;l&&(i(n,"name")||o(n,"name",e)),t[e]!==n&&(l&&(i(n,u)||o(n,u,t[e]?""+t[e]:s.join(String(e)))),t===r?t[e]=n:c?t[e]?t[e]=n:o(t,e,n):(delete t[e],o(t,e,n)))})(Function.prototype,"toString",(function(){return"function"==typeof this&&this[u]||c.call(this)}))},function(t,e,n){"use strict";var r={}.hasOwnProperty;t.exports=function(t,e){return r.call(t,e)}},function(t,e,n){"use strict";t.exports={}},function(t,e,n){"use strict";var r,o,i,u=n(5),c=n(38),s=n(39),l=n(16),a=n(0),d=a.process,p=a.setImmediate,f=a.clearImmediate,h=a.MessageChannel,m=a.Dispatch,v=0,y={},_=function(){var t=+this;if(y.hasOwnProperty(t)){var e=y[t];delete y[t],e()}},w=function(t){_.call(t.data)};p&&f||(p=function(t){for(var e=[],n=1;arguments.length>n;)e.push(arguments[n++]);return y[++v]=function(){c("function"==typeof t?t:Function(t),e)},r(v),v},f=function(t){delete y[t]},"process"==n(8)(d)?r=function(t){d.nextTick(u(_,t,1))}:m&&m.now?r=function(t){m.now(u(_,t,1))}:h?(i=(o=new h).port2,o.port1.onmessage=w,r=u(i.postMessage,i,1)):a.addEventListener&&"function"==typeof postMessage&&!a.importScripts?(r=function(t){a.postMessage(t+"","*")},a.addEventListener("message",w,!1)):r="onreadystatechange"in l("script")?function(t){s.appendChild(l("script")).onreadystatechange=function(){s.removeChild(this),_.call(t)}}:function(t){setTimeout(u(_,t,1),0)}),t.exports={set:p,clear:f}},function(t,e,n){"use strict";var r=n(6);function o(t){var e,n;this.promise=new t((function(t,r){if(void 0!==e||void 0!==n)throw TypeError("Bad Promise constructor");e=t,n=r})),this.resolve=r(e),this.reject=r(n)}t.exports.f=function(t){return new o(t)}},function(t,e,n){t.exports=n(23)},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),n(24);var r,i=(r=n(48))&&r.__esModule?r:{default:r};e.default={url:i.default},t.exports=e.default},function(t,e,n){"use strict";var r,o,i,u,c=n(10),s=n(0),l=n(5),a=n(11),d=n(25),p=n(4),f=n(6),h=n(30),m=n(31),v=n(37),y=n(20).set,_=n(40)(),w=n(21),b=n(41),g=n(42),j=n(43),C=s.TypeError,O=s.process,k=O&&O.versions,x=k&&k.v8||"",S=s.Promise,P="process"==a(O),L=function(){},I=o=w.f,A=!!function(){try{var t=S.resolve(1),e=(t.constructor={})[n(1)("species")]=function(t){t(L,L)};return(P||"function"==typeof PromiseRejectionEvent)&&t.then(L)instanceof e&&0!==x.indexOf("6.6")&&-1===g.indexOf("Chrome/66")}catch(t){}}(),E=function(t){var e;return!(!p(t)||"function"!=typeof(e=t.then))&&e},H=function(t,e){if(!t._n){t._n=!0;var n=t._c;_((function(){for(var r=t._v,o=1==t._s,i=0,u=function(e){var n,i,u,c=o?e.ok:e.fail,s=e.resolve,l=e.reject,a=e.domain;try{c?(o||(2==t._h&&T(t),t._h=1),!0===c?n=r:(a&&a.enter(),n=c(r),a&&(a.exit(),u=!0)),n===e.promise?l(C("Promise-chain cycle")):(i=E(n))?i.call(n,s,l):s(n)):l(r)}catch(t){a&&!u&&a.exit(),l(t)}};n.length>i;)u(n[i++]);t._c=[],t._n=!1,e&&!t._h&&V(t)}))}},V=function(t){y.call(s,(function(){var e,n,r,o=t._v,i=R(t);if(i&&(e=b((function(){P?O.emit("unhandledRejection",o,t):(n=s.onunhandledrejection)?n({promise:t,reason:o}):(r=s.console)&&r.error&&r.error("Unhandled promise rejection",o)})),t._h=P||R(t)?2:1),t._a=void 0,i&&e.e)throw e.v}))},R=function(t){return 1!==t._h&&0===(t._a||t._c).length},T=function(t){y.call(s,(function(){var e;P?O.emit("rejectionHandled",t):(e=s.onrejectionhandled)&&e({promise:t,reason:t._v})}))},B=function(t){var e=this;e._d||(e._d=!0,(e=e._w||e)._v=t,e._s=2,e._a||(e._a=e._c.slice()),H(e,!0))},M=function t(e){var n,r=this;if(!r._d){r._d=!0,r=r._w||r;try{if(r===e)throw C("Promise can't be resolved itself");(n=E(e))?_((function(){var o={_w:r,_d:!1};try{n.call(e,l(t,o,1),l(B,o,1))}catch(t){B.call(o,t)}})):(r._v=e,r._s=1,H(r,!1))}catch(t){B.call({_w:r,_d:!1},t)}}};A||(S=function(t){h(this,S,"Promise","_h"),f(t),r.call(this);try{t(l(M,this,1),l(B,this,1))}catch(t){B.call(this,t)}},(r=function(t){this._c=[],this._a=void 0,this._s=0,this._d=!1,this._v=void 0,this._h=0,this._n=!1}).prototype=n(44)(S.prototype,{then:function(t,e){var n=I(v(this,S));return n.ok="function"!=typeof t||t,n.fail="function"==typeof e&&e,n.domain=P?O.domain:void 0,this._c.push(n),this._a&&this._a.push(n),this._s&&H(this,!1),n.promise},catch:function(t){return this.then(void 0,t)}}),i=function(){var t=new r;this.promise=t,this.resolve=l(M,t,1),this.reject=l(B,t,1)},w.f=I=function(t){return t===S||t===u?new i(t):o(t)}),d(d.G+d.W+d.F*!A,{Promise:S}),n(45)(S,"Promise"),n(46)("Promise"),u=n(2).Promise,d(d.S+d.F*!A,"Promise",{reject:function(t){var e=I(this);return(0,e.reject)(t),e.promise}}),d(d.S+d.F*(c||!A),"Promise",{resolve:function(t){return j(c&&this===u?S:this,t)}}),d(d.S+d.F*!(A&&n(47)((function(t){S.all(t).catch(L)}))),"Promise",{all:function(t){var e=this,n=I(e),r=n.resolve,o=n.reject,i=b((function(){var n=[],i=0,u=1;m(t,!1,(function(t){var c=i++,s=!1;n.push(void 0),u++,e.resolve(t).then((function(t){s||(s=!0,n[c]=t,--u||r(n))}),o)})),--u||r(n)}));return i.e&&o(i.v),n.promise},race:function(t){var e=this,n=I(e),r=n.reject,o=b((function(){m(t,!1,(function(t){e.resolve(t).then(n.resolve,r)}))}));return o.e&&r(o.v),n.promise}})},function(t,e,n){"use strict";var r=n(0),o=n(2),i=n(14),u=n(17),c=n(5),s=function t(e,n,s){var l,a,d,p,f=e&t.F,h=e&t.G,m=e&t.P,v=e&t.B,y=h?r:e&t.S?r[n]||(r[n]={}):(r[n]||{}).prototype,_=h?o:o[n]||(o[n]={}),w=_.prototype||(_.prototype={});for(l in h&&(s=n),s)d=((a=!f&&y&&void 0!==y[l])?y:s)[l],p=v&&a?c(d,r):m&&"function"==typeof d?c(Function.call,d):d,y&&u(y,l,d,e&t.U),_[l]!=d&&i(_,l,p),m&&w[l]!=d&&(w[l]=d)};r.core=o,s.F=1,s.G=2,s.S=4,s.P=8,s.B=16,s.W=32,s.U=64,s.R=128,t.exports=s},function(t,e,n){"use strict";t.exports=!n(7)&&!n(15)((function(){return 7!=Object.defineProperty(n(16)("div"),"a",{get:function(){return 7}}).a}))},function(t,e,n){"use strict";var r=n(4);t.exports=function(t,e){if(!r(t))return t;var n,o;if(e&&"function"==typeof(n=t.toString)&&!r(o=n.call(t)))return o;if("function"==typeof(n=t.valueOf)&&!r(o=n.call(t)))return o;if(!e&&"function"==typeof(n=t.toString)&&!r(o=n.call(t)))return o;throw TypeError("Can't convert object to primitive value")}},function(t,e,n){"use strict";t.exports=function(t,e){return{enumerable:!(1&t),configurable:!(2&t),writable:!(4&t),value:e}}},function(t,e,n){"use strict";t.exports=n(12)("native-function-to-string",Function.toString)},function(t,e,n){"use strict";t.exports=function(t,e,n,r){if(!(t instanceof e)||void 0!==r&&r in t)throw TypeError(n+": incorrect invocation!");return t}},function(t,e,n){"use strict";var r=n(5),o=n(32),i=n(33),u=n(3),c=n(34),s=n(36),l={},a={},d=t.exports=function(t,e,n,d,p){var f,h,m,v,y=p?function(){return t}:s(t),_=r(n,d,e?2:1),w=0;if("function"!=typeof y)throw TypeError(t+" is not iterable!");if(i(y)){for(f=c(t.length);f>w;w++)if((v=e?_(u(h=t[w])[0],h[1]):_(t[w]))===l||v===a)return v}else for(m=y.call(t);!(h=m.next()).done;)if((v=o(m,_,h.value,e))===l||v===a)return v};d.BREAK=l,d.RETURN=a},function(t,e,n){"use strict";var r=n(3);t.exports=function(t,e,n,o){try{return o?e(r(n)[0],n[1]):e(n)}catch(e){var i=t.return;throw void 0!==i&&r(i.call(t)),e}}},function(t,e,n){"use strict";var r=n(19),o=n(1)("iterator"),i=Array.prototype;t.exports=function(t){return void 0!==t&&(r.Array===t||i[o]===t)}},function(t,e,n){"use strict";var r=n(35),o=Math.min;t.exports=function(t){return t>0?o(r(t),9007199254740991):0}},function(t,e,n){"use strict";var r=Math.ceil,o=Math.floor;t.exports=function(t){return isNaN(t=+t)?0:(t>0?o:r)(t)}},function(t,e,n){"use strict";var r=n(11),o=n(1)("iterator"),i=n(19);t.exports=n(2).getIteratorMethod=function(t){if(null!=t)return t[o]||t["@@iterator"]||i[r(t)]}},function(t,e,n){"use strict";var r=n(3),o=n(6),i=n(1)("species");t.exports=function(t,e){var n,u=r(t).constructor;return void 0===u||null==(n=r(u)[i])?e:o(n)}},function(t,e,n){"use strict";t.exports=function(t,e,n){var r=void 0===n;switch(e.length){case 0:return r?t():t.call(n);case 1:return r?t(e[0]):t.call(n,e[0]);case 2:return r?t(e[0],e[1]):t.call(n,e[0],e[1]);case 3:return r?t(e[0],e[1],e[2]):t.call(n,e[0],e[1],e[2]);case 4:return r?t(e[0],e[1],e[2],e[3]):t.call(n,e[0],e[1],e[2],e[3])}return t.apply(n,e)}},function(t,e,n){"use strict";var r=n(0).document;t.exports=r&&r.documentElement},function(t,e,n){"use strict";var r=n(0),o=n(20).set,i=r.MutationObserver||r.WebKitMutationObserver,u=r.process,c=r.Promise,s="process"==n(8)(u);t.exports=function(){var t,e,n,l=function(){var r,o;for(s&&(r=u.domain)&&r.exit();t;){o=t.fn,t=t.next;try{o()}catch(r){throw t?n():e=void 0,r}}e=void 0,r&&r.enter()};if(s)n=function(){u.nextTick(l)};else if(!i||r.navigator&&r.navigator.standalone)if(c&&c.resolve){var a=c.resolve(void 0);n=function(){a.then(l)}}else n=function(){o.call(r,l)};else{var d=!0,p=document.createTextNode("");new i(l).observe(p,{characterData:!0}),n=function(){p.data=d=!d}}return function(r){var o={fn:r,next:void 0};e&&(e.next=o),t||(t=o,n()),e=o}}},function(t,e,n){"use strict";t.exports=function(t){try{return{e:!1,v:t()}}catch(t){return{e:!0,v:t}}}},function(t,e,n){"use strict";var r=n(0).navigator;t.exports=r&&r.userAgent||""},function(t,e,n){"use strict";var r=n(3),o=n(4),i=n(21);t.exports=function(t,e){if(r(t),o(e)&&e.constructor===t)return e;var n=i.f(t);return(0,n.resolve)(e),n.promise}},function(t,e,n){"use strict";var r=n(17);t.exports=function(t,e,n){for(var o in e)r(t,o,e[o],n);return t}},function(t,e,n){"use strict";var r=n(9).f,o=n(18),i=n(1)("toStringTag");t.exports=function(t,e,n){t&&!o(t=n?t:t.prototype,i)&&r(t,i,{configurable:!0,value:e})}},function(t,e,n){"use strict";var r=n(0),o=n(9),i=n(7),u=n(1)("species");t.exports=function(t){var e=r[t];i&&e&&!e[u]&&o.f(e,u,{configurable:!0,get:function(){return this}})}},function(t,e,n){"use strict";var r=n(1)("iterator"),o=!1;try{var i=[7][r]();i.return=function(){o=!0},Array.from(i,(function(){throw 2}))}catch(t){}t.exports=function(t,e){if(!e&&!o)return!1;var n=!1;try{var i=[7],u=i[r]();u.next=function(){return{done:n=!0}},i[r]=function(){return u},t(i)}catch(t){}return n}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if(e&&t){try{t=JSON.parse(r.default.base64decode(t))}catch(t){return Promise.reject("base64 decode error")}var i=[];for(var u in n)i.push(u+"="+n[u]);var c="//"+e+"?"+t.GetPlayInfoToken+"&ssl=true";return i.length>0&&(c+="&"+i.join("&")),new o.default({type:"json",method:"GET",url:c}).then((function(t){return t.response&&t.response.Result?t.response.Result:t.response||t}))}return Promise.reject("vid, host and token can't be empty")};var r=i(n(49)),o=i(n(50));function i(t){return t&&t.__esModule?t:{default:t}}t.exports=e.default},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r={base64decode:function(t){var e,n,r,o,i,u,c,s=[-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,62,-1,-1,-1,63,52,53,54,55,56,57,58,59,60,61,-1,-1,-1,-1,-1,-1,-1,0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,-1,-1,-1,-1,-1,-1,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,-1,-1,-1,-1,-1];for(u=t.length,i=0,c="";i<u;){do{e=s[255&t.charCodeAt(i++)]}while(i<u&&-1===e);if(-1===e)break;do{n=s[255&t.charCodeAt(i++)]}while(i<u&&-1===n);if(-1===n)break;c+=String.fromCharCode(e<<2|(48&n)>>4);do{if(61==(r=255&t.charCodeAt(i++)))return c;r=s[r]}while(i<u&&-1===r);if(-1===r)break;c+=String.fromCharCode((15&n)<<4|(60&r)>>2);do{if(61==(o=255&t.charCodeAt(i++)))return c;o=s[o]}while(i<u&&-1===o);if(-1===o)break;c+=String.fromCharCode((3&r)<<6|o)}return c}};e.default=r,t.exports=e.default},function(t,e,n){"use strict";function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(e,"__esModule",{value:!0}),e.default=function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=e.url,o=e.method,i=void 0===o?"GET":o,u=e.type,c=void 0===u?"arraybuffer":u,s=e.data,l=void 0===s?{}:s,a=e.headers,d=void 0===a?{}:a;return r(this,t),new Promise((function(t,e){var r=new window.XMLHttpRequest,o=i.toUpperCase(),u=[];for(var s in l)u.push(s+"="+l[s]);if("GET"!==o)throw new Error("xhr "+o+" is not supported");for(var a in r.open(o,""+n),c&&(r.responseType=c),d)r.setRequestHeader(a,""+d[a]);r.send(),r.onload=function(){200===r.status||206===r.status?t(r):e(r)},r.onerror=function(){e(r)}}))},t.exports=e.default}])},1356:function(t,e,n){},1357:function(t,e,n){},1358:function(t,e,n){},1359:function(t,e){t.exports='<svg width="22" height="22" viewBox="0 0 22 22" fill="none" xmlns="http://www.w3.org/2000/svg">\n<path fill-rule="evenodd" clip-rule="evenodd" d="M8.25163 12.8332C8.75789 12.8332 9.16829 13.2436 9.16829 13.7499V19.7082C9.16829 19.9613 8.96309 20.1665 8.70996 20.1665H7.79329C7.54016 20.1665 7.33496 19.9613 7.33496 19.7082V14.6665H2.29329C2.04016 14.6665 1.83496 14.4613 1.83496 14.2082V13.2915C1.83496 13.0384 2.04016 12.8332 2.29329 12.8332H8.25163ZM14.21 1.83319C14.4631 1.83319 14.6683 2.03839 14.6683 2.29152V7.33319H19.71C19.9631 7.33319 20.1683 7.53839 20.1683 7.79152V8.70819C20.1683 8.96132 19.9631 9.16652 19.71 9.16652H13.7516C13.2454 9.16652 12.835 8.75612 12.835 8.24986V2.29152C12.835 2.03839 13.0402 1.83319 13.2933 1.83319H14.21Z" fill="white"/>\n</svg>\n'},1360:function(t,e){t.exports='<svg width="22" height="22" viewBox="0 0 22 22" fill="none" xmlns="http://www.w3.org/2000/svg">\n<path fill-rule="evenodd" clip-rule="evenodd" d="M1.8333 3.83334C1.8333 2.72877 2.72873 1.83334 3.8333 1.83334H6.41663C6.9229 1.83334 7.3333 2.24375 7.3333 2.75001C7.3333 3.25627 6.9229 3.66668 6.41663 3.66668H3.66663V6.41668C3.66663 6.92294 3.25623 7.33334 2.74997 7.33334C2.24371 7.33334 1.8333 6.92294 1.8333 6.41668V3.83334ZM20.1667 18.1666C20.1667 19.2712 19.2713 20.1666 18.1667 20.1666H15.5834C15.0771 20.1666 14.6667 19.7562 14.6667 19.2499C14.6667 18.7437 15.0771 18.3333 15.5834 18.3333H18.3334V15.5833C18.3334 15.077 18.7438 14.6666 19.25 14.6666C19.7563 14.6666 20.1667 15.077 20.1667 15.5833V18.1666ZM3.83301 20.1666C2.72844 20.1666 1.83301 19.2712 1.83301 18.1666V15.5833C1.83301 15.077 2.24341 14.6666 2.74967 14.6666C3.25594 14.6666 3.66634 15.077 3.66634 15.5833V18.3333H6.41634C6.9226 18.3333 7.33301 18.7437 7.33301 19.2499C7.33301 19.7562 6.9226 20.1666 6.41634 20.1666H3.83301ZM18.1667 1.83325C19.2713 1.83325 20.1667 2.72868 20.1667 3.83325V6.41659C20.1667 6.92285 19.7563 7.33325 19.25 7.33325C18.7438 7.33325 18.3334 6.92285 18.3334 6.41659V3.66659H15.5834C15.0771 3.66659 14.6667 3.25618 14.6667 2.74992C14.6667 2.24366 15.0771 1.83325 15.5834 1.83325H18.1667Z" fill="white"/>\n</svg>\n'},1361:function(t,e){t.exports='<svg width="22" height="22" viewBox="0 0 22 22" fill="none" xmlns="http://www.w3.org/2000/svg">\n<path fill-rule="evenodd" clip-rule="evenodd" d="M8.2 2C8.64183 2 9 2.41041 9 2.91667V19.4167C9 19.9229 8.64183 20.3333 8.2 20.3333H5.8C5.35817 20.3333 5 19.9229 5 19.4167V2.91667C5 2.41041 5.35817 2 5.8 2H8.2Z" fill="white"/>\n<path fill-rule="evenodd" clip-rule="evenodd" d="M16.2 2C16.6418 2 17 2.41041 17 2.91667V19.4167C17 19.9229 16.6418 20.3333 16.2 20.3333H13.8C13.3582 20.3333 13 19.9229 13 19.4167V2.91667C13 2.41041 13.3582 2 13.8 2H16.2Z" fill="white"/>\n</svg>\n'},1362:function(t,e){t.exports='<svg width="22" height="22" viewBox="0 0 22 22" fill="none" xmlns="http://www.w3.org/2000/svg">\n<path fill-rule="evenodd" clip-rule="evenodd" d="M5.07935 1.9805L17.9127 10.2291C18.474 10.5899 18.474 11.4103 17.9127 11.7711L5.07935 20.0197C4.4693 20.4118 3.66699 19.9739 3.66699 19.2488V2.75145C3.66699 2.02633 4.4693 1.58838 5.07935 1.9805Z" fill="white"/>\n</svg>\n'},1363:function(t,e){t.exports='<svg width="96" height="96" viewBox="0 0 96 96" fill="none" xmlns="http://www.w3.org/2000/svg">\n<path d="M48 31.9668C42.7607 31.9668 38.1082 34.4796 35.182 38.367L42.1667 38.3668C42.9767 38.3668 43.6333 39.0235 43.6333 39.8335V42.1668C43.6333 42.9768 42.9767 43.6335 42.1667 43.6335H29.3333V43.6337L29.3223 43.6333L29.1482 43.6269L29.1482 43.6271L29.1371 43.6263C27.7743 43.5257 26.7 42.3885 26.7 41.0002V28.1668C26.7 27.3568 27.3567 26.7002 28.1667 26.7002H30.5C31.31 26.7002 31.9667 27.3568 31.9667 28.1668V28.1669L31.9655 33.9789C35.8693 29.5181 41.6057 26.7002 48 26.7002C59.7637 26.7002 69.3 36.2365 69.3 48.0002C69.3 59.7638 59.7637 69.3002 48 69.3002C38.0401 69.3002 29.6775 62.4643 27.3466 53.2288C27.2348 52.7861 27.574 52.3676 28.0215 52.3676L32.045 52.3677C32.3562 52.3677 32.625 52.5725 32.7171 52.8623C34.7762 59.3406 40.8405 64.0335 48 64.0335C56.855 64.0335 64.0333 56.8551 64.0333 48.0002C64.0333 39.1452 56.855 31.9668 48 31.9668Z" fill="white" stroke="white" stroke-width="0.6"/>\n</svg>\n'},1364:function(t,e){t.exports='<svg width="96" height="96" viewBox="0 0 96 96" fill="none" xmlns="http://www.w3.org/2000/svg">\n<path fill-rule="evenodd" clip-rule="evenodd" d="M48 4C72.3005 4 92 23.6995 92 48C92 72.3005 72.3005 92 48 92C23.6995 92 4 72.3005 4 48C4 23.6995 23.6995 4 48 4Z" fill="black" fill-opacity="0.4"/>\n<path fill-rule="evenodd" clip-rule="evenodd" d="M42 28C43.1046 28 44 28.8954 44 30V66C44 67.1046 43.1046 68 42 68H36C34.8954 68 34 67.1046 34 66V30C34 28.8954 34.8954 28 36 28H42Z" fill="white"/>\n<path fill-rule="evenodd" clip-rule="evenodd" d="M60 28C61.1046 28 62 28.8954 62 30V66C62 67.1046 61.1046 68 60 68H54C52.8954 68 52 67.1046 52 66V30C52 28.8954 52.8954 28 54 28H60Z" fill="white"/>\n</svg>\n'},1365:function(t,e){t.exports='<svg width="96" height="96" viewBox="0 0 96 96" fill="none" xmlns="http://www.w3.org/2000/svg">\n<path fill-rule="evenodd" clip-rule="evenodd" d="M40.896 28.5117L66.496 45.1739C68.5013 46.4791 68.5013 49.5205 66.496 50.8257L40.896 67.488C38.7646 68.8752 36 67.2795 36 64.6621V31.3376C36 28.7202 38.7646 27.1245 40.896 28.5117Z" fill="white"/>\n</svg>\n'},1366:function(t,e){t.exports='<svg width="22" height="22" viewBox="0 0 22 22" fill="none" xmlns="http://www.w3.org/2000/svg">\n<path fill-rule="evenodd" clip-rule="evenodd" d="M1.29617 1.02794C1.11742 1.20669 1.11742 1.49728 1.29617 1.67603L19.4453 19.8251C19.6245 20.0043 19.9146 20.0043 20.0938 19.8251L20.7419 19.177C20.9206 18.9978 20.9206 18.7077 20.7419 18.5289L18.6125 16.3995L17.3122 15.0988L16.0078 13.7948L14.6933 12.4799L12.375 10.1621L10.5417 8.32873L8.69596 6.48257L7.38834 5.1754L2.5928 0.379859C2.41359 0.200651 2.12346 0.200651 1.94471 0.379859L1.29617 1.02794ZM4.58369 7.78479C4.58369 7.54966 4.67398 7.32508 4.83257 7.15641L6.41702 8.74087V13.7637L10.542 16.9368V12.8659L12.3754 14.6992V18.3333C12.3754 18.8398 11.9651 19.25 11.4587 19.25H10.8537C10.6516 19.25 10.4549 19.1831 10.295 19.0598L4.94165 14.9417C4.71569 14.7684 4.58369 14.4998 4.58369 14.2152V7.78479ZM10.5417 6.38409V5.06318L9.79503 5.63747L8.4874 4.32984L10.2946 2.94018C10.4546 2.81689 10.6512 2.74997 10.8533 2.74997H11.4583C11.9648 2.74997 12.375 3.16018 12.375 3.66664V8.21743L10.5417 6.38409ZM16.6942 12.5367L15.1249 10.9674C15.1166 10.2918 14.8655 9.6749 14.4544 9.20053C14.2751 8.99336 14.2536 8.67528 14.447 8.48186L15.0827 7.84661C15.2528 7.67611 15.5282 7.66511 15.6941 7.83974C16.4774 8.66199 16.9582 9.77482 16.9582 10.9999C16.9582 11.5389 16.8652 12.0564 16.6942 12.5367ZM19.4321 15.2748L18.0856 13.9283C18.5366 13.0505 18.7914 12.055 18.7914 11C18.7914 9.28763 18.1208 7.73204 17.0277 6.58163C16.8476 6.39142 16.8389 6.09029 17.0241 5.90513L17.6694 5.25979C17.8436 5.08563 18.125 5.07921 18.2969 5.25613C19.7379 6.74158 20.6247 8.76696 20.6247 11C20.6247 12.5652 20.1888 14.0282 19.4321 15.2748ZM1.83333 7.33326C1.58033 7.33326 1.375 7.53859 1.375 7.79159V14.2083C1.375 14.4613 1.58033 14.6666 1.83333 14.6666H2.75C3.003 14.6666 3.20833 14.4613 3.20833 14.2083V7.79159C3.20833 7.53859 3.003 7.33326 2.75 7.33326H1.83333Z" fill="white"/>\n</svg>\n'},1367:function(t,e){t.exports='<svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">\n<path fill-rule="evenodd" clip-rule="evenodd" d="M4.89549 4.29745L15.8541 11.3411C16.3334 11.6492 16.3334 12.3497 15.8541 12.6578L4.89549 19.7014C4.37456 20.0362 3.68945 19.6623 3.68945 19.0431V4.95578C3.68945 4.33659 4.37456 3.96262 4.89549 4.29745Z" fill="white"/>\n<rect x="17.9453" y="4.17578" width="2.36553" height="15.6551" rx="0.5" fill="white"/>\n</svg>\n'},1368:function(t,e){t.exports='<svg width="22" height="22" viewBox="0 0 22 22" fill="none" xmlns="http://www.w3.org/2000/svg">\n<path fill-rule="evenodd" clip-rule="evenodd" d="M10.8537 2.75H11.4587C11.9421 2.75 12.3379 3.12376 12.3728 3.59823L12.3754 3.66667V18.3333C12.3754 18.8168 12.0016 19.2125 11.5271 19.2475L11.4587 19.25H10.8537C10.6804 19.25 10.5112 19.2008 10.3657 19.1091L10.295 19.0598L4.94165 14.9417C4.73623 14.7842 4.60847 14.5479 4.58694 14.2924L4.58369 14.2152V7.78479C4.58369 7.52604 4.69278 7.28055 4.88238 7.10789L4.94165 7.05833L10.295 2.94021C10.4321 2.83453 10.5961 2.77027 10.7675 2.75407L10.8537 2.75H11.4587H10.8537ZM10.5413 5.0632L6.41631 8.23624V13.7637L10.5413 16.9368V5.0632ZM18.2975 5.25616C19.7385 6.74161 20.6253 8.76699 20.6253 11C20.6253 13.2394 19.733 15.2707 18.2842 16.7576C18.1128 16.9336 17.8313 16.9272 17.6576 16.753L17.0123 16.1081C16.8267 15.9225 16.8358 15.62 17.0169 15.4302C18.1169 14.2784 18.792 12.7183 18.792 11C18.792 9.28766 18.1215 7.73207 17.0283 6.58166C16.8482 6.39145 16.8395 6.09032 17.0247 5.90516L17.67 5.25982C17.8442 5.08566 18.1256 5.07924 18.2975 5.25616ZM2.75 7.33329C3.003 7.33329 3.20833 7.53862 3.20833 7.79162V14.2083C3.20833 14.4613 3.003 14.6666 2.75 14.6666H1.83333C1.58033 14.6666 1.375 14.4613 1.375 14.2083V7.79162C1.375 7.53862 1.58033 7.33329 1.83333 7.33329H2.75ZM15.6944 7.83977C16.4772 8.66202 16.958 9.77485 16.958 11C16.958 12.232 16.4717 13.3508 15.6806 14.1744C15.5143 14.3476 15.2402 14.3362 15.0701 14.1666L14.4354 13.5314C14.241 13.337 14.2635 13.0176 14.4445 12.8104C14.868 12.3269 15.1247 11.6934 15.1247 11C15.1247 10.312 14.8717 9.68273 14.4541 9.20056C14.2749 8.99339 14.2534 8.67531 14.4468 8.48189L15.0825 7.84664C15.253 7.67614 15.528 7.66514 15.6944 7.83977Z" fill="white"/>\n</svg>\n'},1369:function(t,e,n){"use strict";n(1217)},1370:function(t,e,n){},1371:function(t,e,n){},1503:function(t,e,n){"use strict";n(16),n(15),n(11),n(6),n(14);var r=n(0),o=(n(22),n(5)),c=n(7),l=(n(43),n(83),n(31)),d=(n(45),n(218),n(1126)),f=n.n(d),h=n(28),m=n(1),v=n(1355),y=n.n(v),_=h.c,w=_?"//vod.bytedanceapi.com":"//staging-openapi-boe.byted.org";function j(t){return C.apply(this,arguments)}function C(){return(C=Object(o.a)(regeneratorRuntime.mark((function t(e){var n,r,o=arguments;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=o.length>1&&void 0!==o[1]?o[1]:"dash",t.prev=1,t.next=4,Object(m.e)({url:"/user_api/v1/video/play_token",query:{vid:e,format_type:n}});case 4:return r=t.sent,t.abrupt("return",r.data);case 8:throw t.prev=8,t.t0=t.catch(1),new Error(t.t0);case 11:case"end":return t.stop()}}),t,null,[[1,8]])})))).apply(this,arguments)}function O(){return k.apply(this,arguments)}function k(){return(k=Object(o.a)(regeneratorRuntime.mark((function t(){var e;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Object(m.e)({url:"/user_api/v1/video/key_token"});case 2:return e=t.sent,t.abrupt("return",e.data||"");case 4:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function x(t,e){return S.apply(this,arguments)}function S(){return(S=Object(o.a)(regeneratorRuntime.mark((function t(e,n){var r,o,c,l;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,j(e,n);case 2:if(r=t.sent,"hls"!==n){t.next=11;break}return t.next=6,O();case 6:return o=t.sent,c=_?"https://kds.bytedance.com":"https://b-kds.bytedance.com",t.abrupt("return",{EncryptHlsPlugin:{playDomain:w,keyDomain:c,playAuthToken:r,keyToken:o}});case 11:return t.next=13,y.a.url(r,w);case 13:if(!(l=t.sent).Error){t.next=16;break}throw new Error("视频地址获取失败");case 16:return t.abrupt("return",{dashOpts:l});case 17:case"end":return t.stop()}}),t)})))).apply(this,arguments)}n(1356),n(1357),n(23),n(24),n(59);var P=n(12),L=n(13),I=n(30),A=n(32),E=n(19);n(1358);function H(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=Object(E.a)(t);if(e){var o=Object(E.a)(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Object(A.a)(this,n)}}var V=d.Plugin.POSITIONS,R=function(t){Object(I.a)(n,t);var e=H(n);function n(t){var r;return Object(P.a)(this,n),(r=e.call(this,t)).handleRateChange=function(){r.playbackrateText?(r.playbackrateText.innerText="".concat(r.player.playbackRate,"倍"),r.root.classList.add("active"),r.timer&&clearTimeout(r.timer),r.timer=window.setTimeout((function(){r.timer=void 0,r.root.classList.remove("active")}),3e3)):console.warn("span element does not exist")},r}return Object(L.a)(n,[{key:"afterCreate",value:function(){this.playbackrateText=this.find("span.playbackrate-text"),this.on(d.Events.RATE_CHANGE,this.handleRateChange)}},{key:"render",value:function(){return'<div class="xgplayer-playbackrate-toast">正在用 <span class="playbackrate-text">1倍</span> 速率播放</div>'}},{key:"destroy",value:function(){this.off(d.Events.RATE_CHANGE,this.handleRateChange)}}],[{key:"pluginName",get:function(){return"DefinitionToast"}},{key:"defaultConfig",get:function(){return{position:V.ROOT}}}]),n}(d.Plugin),T=n(1359),B=n.n(T),M=n(1360),$=n.n(M),D=n(1361),U=n.n(D),F=n(1362),N=n.n(F),Z=n(1363),z=n.n(Z),W=n(1364),G=n.n(W),J=n(1365),K=n.n(J),Q=n(1366),Y=n.n(Q),X=n(1367),tt=n.n(X),et=n(1368),nt=n.n(et),it=[480,720,1080],ot={space:{code:32,action:"playPause",disable:!1},up:{code:38,action:"upVolume",disable:!1},down:{code:40,action:"downVolume",disable:!1},left:{code:37,action:"customSeekBack",disable:!1},right:{code:39,action:"customSeek",disable:!1},esc:{code:27,action:"exitFullscreen",disable:!1}},st={autoplay:!1,cssFullscreen:!1,playbackRate:[.75,1,1.25,1.5,2],defaultDefinition:"720p",icons:{play:N.a,pause:U.a,fullscreen:$.a,exitFullscreen:B.a,startPlay:K.a,startPause:G.a,replay:z.a,volumeSmall:nt.a,volumeLarge:nt.a,volumeMuted:Y.a,playNext:tt.a},definitionText:{"480p":"标清 480P","720p":"高清 720P","1080p":"超清 1080P"}};function ct(t,e){return at.apply(this,arguments)}function at(){return(at=Object(o.a)(regeneratorRuntime.mark((function t(e,r){var o,c,l,d,h,m,v,y,_,w,j,C,O,k,S,P,L,I,A,E,H,V=arguments;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return o=V.length>2&&void 0!==V[2]&&V[2],c=V.length>3&&void 0!==V[3]?V[3]:"hls",_=[],w=void 0,j=[R],t.next=7,x(e,c);case 7:if(C=t.sent,_=(null===(d=null===(l=C.dashOpts)||void 0===l?void 0:l.Data)||void 0===d?void 0:d.PlayInfoList)||[],O=null===(h=_[_.length-1])||void 0===h?void 0:h.MainPlayUrl,k=(null===(v=null===(m=C.dashOpts)||void 0===m?void 0:m.Data)||void 0===v?void 0:v.CoverUrl)||"","hls"!==c){t.next=23;break}return t.next=14,n.e(318).then(n.t.bind(null,4373,7));case 14:if(S=t.sent,P=S.default,null===(y=null==P?void 0:P.isSupported)||void 0===y?void 0:y.call(P,window&&(null===navigator||void 0===navigator?void 0:navigator.userAgent))){t.next=21;break}throw L="不支持的浏览器 ".concat(window&&(null===navigator||void 0===navigator?void 0:navigator.userAgent)),(I=new Error(L)).code=-1,I;case 21:j.push(P),w=C.EncryptHlsPlugin;case 23:return A=Object.assign(st,{url:O,volume:o?1:.5,poster:k,plugins:j,EncryptHlsPlugin:w},r),ut(E=new f.a(A)),"hls"===c&&(H=_.filter((function(t){return it.includes(t.Height)})).map((function(t){return{name:t.Definition,url:t.MainPlayUrl}})),E.emit("resourceReady",H)),t.abrupt("return",E);case 28:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function ut(t){t.on("ABR_AUTO_DESC_CHANGE",(function(e,n,r){!function(t,e,n,r){if(!t)return;var o=t.root.querySelector(".xgplayer-definition [url='__auto__']");o&&(o.innerHTML=e+"".concat(n?"(".concat(n,")"):"")+"".concat(r||""))}(t,e,n,r)})),t.on(d.Events.DEFINITION_CHANGE,(function(e){var n=e.to.showText;!function(t,e){if("自动"===e)return;var n=t.root.querySelector(".xg-options-icon.xgplayer-definition.show .icon-text"),r=e.split(" "),text=Object(l.a)(r,2)[1];n&&text&&(n.innerHTML=text)}(t,void 0===n?"":n),ft(t.getPlugin("definition"))})),t.on(d.Events.RATE_CHANGE,(function(){lt(t),ft(t.getPlugin("playbackrate"))})),t.on(d.Events.PLAYING,(function(){lt(t)})),t.on(d.Events.SHORTCUT,(function(data){t.fullscreen&&("customSeek"===data.action?t.seek(t.currentTime+10):"customSeekBack"===data.action&&t.seek(t.currentTime-10))}))}function lt(t){if(t){var e=t.playbackRate,n=t.controls.right.querySelector(".xg-options-icon.xgplayer-playbackrate.show .icon-text");1===e&&(n.innerHTML="倍速")}}function ft(t){var e,n=t.find(".xg-options-list");null===(e=null==n?void 0:n.classList)||void 0===e||e.replace("active","hide"),t.isActive=!1}function pt(object,t){var e=Object.keys(object);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(object);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(object,t).enumerable}))),e.push.apply(e,n)}return e}function ht(t){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?pt(Object(source),!0).forEach((function(e){Object(r.a)(t,e,source[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(source)):pt(Object(source)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(source,e))}))}return t}var mt=Object(c.b)({props:{vid:{type:String,default:""},videoType:{type:String,default:"hls"},videoConfig:{type:Object,default:function(){return{}}},videoLoading:{type:Boolean,default:!1}},emits:["handleEvent"],setup:function(t,e){var n=e.emit,r=function(){var t=Object(c.n)(!0),e=Object(c.n)("uninitialize"),n=Object(c.n)(),r=Object(c.c)(),l=null==r?void 0:r.proxy.$device.isMobile,d=Object(c.n)(),f=Object(c.a)((function(){var t;return"".concat((null===(t=d.value)||void 0===t?void 0:t.offsetWidth)/16*9)})),h=Object(c.n)("");return{initVideoPlay:function(){var c=Object(o.a)(regeneratorRuntime.mark((function o(c,d,m){var v;return regeneratorRuntime.wrap((function(o){for(;;)switch(o.prev=o.next){case 0:if("initializing"!==e.value||c!==h.value){o.next=2;break}return o.abrupt("return");case 2:return h.value=c,e.value="initializing",o.prev=4,o.next=7,ct(c,ht({id:"mse",width:"100%",height:"".concat(f.value,"px"),keyboard:l?void 0:{keyCodeMap:ot}},m),l,d);case 7:if(v=o.sent){o.next=13;break}return e.value="uninitialize",o.abrupt("return");case 13:e.value="initialized";case 14:n.value=v,o.next=22;break;case 17:o.prev=17,o.t0=o.catch(4),-1===(null===o.t0||void 0===o.t0?void 0:o.t0.code)&&(t.value=!1),console.warn("video player init err:",o.t0),null==r||r.proxy.$error("视频加载失败");case 22:case"end":return o.stop()}}),o,null,[[4,17]])})));return function(t,e,n){return c.apply(this,arguments)}}(),mseRef:d,isVideoSupported:t,playerInstance:n,playerState:e}}(),l=r.initVideoPlay,d=r.mseRef,f=r.isVideoSupported,h=r.playerInstance,m=r.playerState;return Object(c.y)([function(){return t.vid},d,function(){return t.videoLoading}],Object(o.a)(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.vid&&d.value&&!t.videoLoading){e.next=2;break}return e.abrupt("return");case 2:return h.value&&(h.value.destroy(),h.value=null),e.next=5,l(t.vid,t.videoType,t.videoConfig);case 5:n("handleEvent",h.value);case 6:case"end":return e.stop()}}),e)}))),{immediate:!0}),{mseRef:d,isVideoSupported:f,playerState:m}}}),vt=(n(1369),n(27)),component=Object(vt.a)(mt,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"video"},[n("div",{ref:"mseRef",attrs:{id:"mse"}},[t.isVideoSupported?t._e():n("div",{staticClass:"not-supported"},[n("span",[t._v("视频播放器暂不支持您的浏览器，")]),t._v(" "),n("span",[t._v("请在掘金 App 或者 PC 端观看视频")])]),t._v(" "),"initialized"===t.playerState?t._t("content"):t._e()],2)])}),[],!1,null,"1a72956a",null);e.a=component.exports},1605:function(t,e,n){"use strict";n(1342)},1606:function(t,e,n){"use strict";n(1343)},1663:function(t,e,n){"use strict";n(1370)},1664:function(t,e,n){"use strict";n(1371)},1666:function(t,e,n){"use strict";var r,o=n(12),c=n(13);n(11),n(6),n(54),n(292);function l(t){if(t<0||!t)return"0秒";if(0<=t&&t<60)return t+"秒";var e=Math.floor(t/60),s=Math.floor(t%60);return s>0?e+"分"+s+"秒":e+"分"}function d(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2?arguments[2]:void 0,o=new Map,c=[];return t.forEach((function(t){var d,f,h,m="";t.sectionId===(null===(d=e.reading_progress)||void 0===d?void 0:d.last_section_id)&&(m="上次学到"),(null===(f=t.reading_progress)||void 0===f?void 0:f.reading_progress)>=100&&(m="已学完"),2===(null===(h=t.reading_progress)||void 0===h?void 0:h.has_update)&&(m="有更新");var v="";v=e.price>0?t.isFree?"试学章节":"付费章节":"免费章节",c.push(t.sectionId),o.set(t.sectionId,{sectionId:t.sectionId,title:t.title||"小册章节标题",readCount:t.readCount,commentCount:t.commentCount,readDurationStr:l(t.readDuration),status:m,isFinished:t.isFinished,freeStatus:v,canEdit:n===r.author,vid:t.vid,hasVideo:!!t.vid})})),{sectionMap:o,sectionOrder:c}}function f(){var t,e,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return o&&o.id?(null===(t=o.roles)||void 0===t?void 0:t.isAdmin)?r.admin:o.id===(null===(e=n.user)||void 0===e?void 0:e.user_id)?r.author:n.is_buy?r.buyer:r.common:r.unlogin}!function(t){t.unlogin="unlogin",t.admin="admin",t.author="author",t.buyer="buyer",t.common="common"}(r||(r={}));var h=function(){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},c=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};Object(o.a)(this,t),this.bookId="",this.userRole=r.common,this.sectionMap=new Map,this.sectionOrder=[],this.bookId=n.booklet_id,this.userRole=f(n,c);var l=d(e,n,this.userRole);this.sectionMap=l.sectionMap,this.sectionOrder=l.sectionOrder}return Object(c.a)(t,[{key:"getSectionList",value:function(){var t=this,e=[];return this.sectionOrder.forEach((function(n){var r;e.push((r=t.sectionMap.get(n),JSON.parse(JSON.stringify(r))))})),e}},{key:"setSectionFree",value:function(){}}]),t}();e.a=h},1667:function(t,e,n){n(16),n(15),n(11),n(6),n(14);var r=n(40),o=n(42);function c(object,t){var e=Object.keys(object);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(object);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(object,t).enumerable}))),e.push.apply(e,n)}return e}t.exports={functional:!0,render:function(t,e){var n=e._c,data=(e._v,e.data),l=e.children,d=void 0===l?[]:l,f=data.class,h=data.staticClass,style=data.style,m=data.staticStyle,v=data.attrs,y=void 0===v?{}:v,_=o(data,["class","staticClass","style","staticStyle","attrs"]);return n("svg",function(t){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?c(Object(source),!0).forEach((function(e){r(t,e,source[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(source)):c(Object(source)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(source,e))}))}return t}({class:[f,h],style:[style,m],attrs:Object.assign({width:"16",height:"20",viewBox:"0 0 16 20",fill:"none",xmlns:"http://www.w3.org/2000/svg"},y)},_),d.concat([n("path",{attrs:{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M12.5822 5.29608C12.5184 2.81844 10.4914 0.833008 8.00036 0.833008C5.46911 0.833008 3.41703 2.88301 3.41703 5.41634V6.66634C1.80591 6.66761 0.500583 7.97418 0.500855 9.5853L0.501795 15.167C0.502167 17.3759 2.29292 19.1663 4.50179 19.1663H11.5004C13.7095 19.1663 15.5004 17.3755 15.5004 15.1663V9.58301C15.5004 7.97218 14.1945 6.66634 12.5837 6.66634V5.41634L12.5822 5.29608ZM8.00006 11.0002C9.10472 11.0002 10.0001 11.8968 10.0001 13.0002C10.0001 14.1035 9.10472 15.0002 8.00006 15.0002C6.89539 15.0002 6.00006 14.1035 6.00006 13.0002C6.00006 11.8968 6.89539 11.0002 8.00006 11.0002ZM5.08581 5.3163C5.13867 3.75039 6.42352 2.5 8.00079 2.5C9.61162 2.5 10.9175 3.80417 10.9175 5.41667V6.66667H5.08412V5.41667L5.08581 5.3163Z",fill:"#C2C8D1"}})]))}}},1852:function(t,e,n){"use strict";n(16),n(15),n(11),n(6),n(14);var r=n(0),o=n(4),c=n(84),l=(n(39),n(858)),d=n(1053),f=n(1200),h=n(220),m={props:["bookInfo","salePrice"],components:{Thumb:l.a,VideoLabel:d.a,VipBorrowButton:f.a},computed:{isVideoCourse:function(){var t,e;return(null===(e=null===(t=this.bookInfo)||void 0===t?void 0:t.base_info)||void 0===e?void 0:e.course_type)===h.a.video},isWapSection:function(){return"bookWapSection"===this.$route.name}},methods:{buy:function(){this.$emit("buy")}}},v=(n(1605),n(27)),y=Object(v.a)(m,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"buying-guide-wrap"},[n("div",{staticClass:"buying-guide",class:{"buying-guide--m":t.isWapSection}},[n("div",{staticClass:"buying-inner"},[n("div",{staticClass:"poster"},[t.bookInfo.img?n("thumb",{staticClass:"thumb",attrs:{url:t.bookInfo.img,width:450,height:630}}):t._e(),t._v(" "),t.isVideoCourse?n("VideoLabel"):t._e()],1),t._v(" "),n("div",{staticClass:"title"},[t._v("此章节为付费章节")]),t._v(" "),n("div",{staticClass:"desc"},[t._v("现在购买立即解锁全部内容")]),t._v(" "),n("div",{staticClass:"button-container"},[n("button",{staticClass:"button-buy",on:{click:t.buy}},[t._v("\n          ￥"+t._s(t.salePrice)+" 立即购买\n        ")]),t._v(" "),n("VipBorrowButton",{attrs:{"book-info":t.bookInfo,"event-page":"lock"}})],1)])])])}),[],!1,null,"1f46323b",null).exports,_={props:["bookInfo"],components:{Thumb:l.a,VideoLabel:d.a},computed:{isVideoCourse:function(){var t,e;return(null===(e=null===(t=this.bookInfo)||void 0===t?void 0:t.base_info)||void 0===e?void 0:e.course_type)===h.a.video},isWapSection:function(){return"bookWapSection"===this.$route.name}}},w=(n(1606),Object(v.a)(_,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"section-writing-wrap"},[n("div",{staticClass:"section-writing",class:{"section-writing--m":t.isWapSection}},[n("div",{staticClass:"writing-inner"},[n("div",{staticClass:"poster"},[t.bookInfo.img?n("thumb",{staticClass:"thumb",attrs:{url:t.bookInfo.img,width:450,height:630}}):t._e(),t._v(" "),t.isVideoCourse?n("VideoLabel"):t._e()],1),t._v(" "),n("div",{staticClass:"title"},[t._v("此章节正在写作中")])])])])}),[],!1,null,"636ca600",null).exports),j=(n(45),n(119),n(22),n(5)),C=(n(83),n(938)),O=n(48),k=n(103),x=n(1009),content=n(874),S=n(7),P=n(1126),L=n(1503),I=n(1109);function A(object,t){var e=Object.keys(object);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(object);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(object,t).enumerable}))),e.push.apply(e,n)}return e}function E(t){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?A(Object(source),!0).forEach((function(e){Object(r.a)(t,e,source[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(source)):A(Object(source)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(source,e))}))}return t}var H=Object(S.b)({components:{CommentListBox:C.a,MarkdownViewer:x.default,VipBorrowButton:f.a,Video:L.a},props:["bookInfo","sectionInfo","free","salePrice"],setup:function(t,e){var n=e.root,r=Object(S.v)();return Object(I.d)(r.value.params.sectionId),E({},function(t,e){var n={miniscreen:Object(S.a)((function(){return e.$device.isMobile}))?null:{width:320,height:180,isShowIcon:!0,isScrollSwitch:!0}};return{isLegacyBookletVid:Object(S.a)((function(){var e;return"6844733803647205384"===(null===(e=t.bookInfo)||void 0===e?void 0:e.id)})),handleVideoEvent:function(t){console.log("%c 🌭 player","color:#f5ce50",t);var n=e.$getBean("eventBus");t.on(P.Events.FULLSCREEN_CHANGE,(function(t){n.emit(n.eventType.VIDEO_FULLSCREEN_CHANGE,t)}))},videoConfig:n}}(t,n))},data:function(){return{htmlContent:"",canFetch:!0,isVideoSupported:!0,commentList:[],query:{entryId:"",startTime:"",pageSize:20},readingPostion:0,videoWrapperHeight:0,mobilePlayerStyle:{}}},computed:E({subject:function(){return{item_id:this.section.section_id,item_type:13,user_id:this.section.user_id,comment_count:this.section.comment_count}},curSectionId:function(){return this.$route.params.sectionId},isLastSectionId:function(){var t,e,n=(null===(e=null===(t=this.bookInfo.base_info)||void 0===t?void 0:t.section_ids)||void 0===e?void 0:e.split("|"))||[];return(n.length>0?n[n.length-1]:0)===this.curSectionId},isMobileBrowser:function(){return this.$device.isMobile},section:function(){return Object.assign({},this.sectionInfo,{user:this.bookInfo.user})},showBuyButton:function(){return!this.free&&this.sectionInfo.isFree&&this.sectionInfo&&this.isMobileBrowser&&!this.bookInfo.isBorrowing}},Object(c.mapGetters)({user:o.USER,login:o.LOGIN})),watch:{$route:function(){this.fetch()},sectionInfo:{handler:function(t){var e=this;return Object(j.a)(regeneratorRuntime.mark((function n(){var r,o,c;return regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(!(null==t?void 0:t.id)){n.next=18;break}if(e.htmlContent=t.html,e.bookletId=t.bookId,e.sectionId=t.id,e.readingPostion=Number((null===(r=t.reading_progress)||void 0===r?void 0:r.reading_position)||"0"),e.initPosition(),!(null===(o=e.user)||void 0===o?void 0:o.id)){n.next=18;break}return n.prev=7,n.next=10,Object(content.a)({booklet_id:e.bookletId,section_id:e.sectionId,reading_position:e.readingPostion});case 10:if(0===(c=n.sent).err_no||"0"===c.err_no){n.next=13;break}throw c;case 13:n.next=18;break;case 15:n.prev=15,n.t0=n.catch(7),console.warn("阅读记录上报失败",n.t0);case 18:e.setupVideoPlayer();case 19:case"end":return n.stop()}}),n,null,[[7,15]])})))()},immediate:!0}},mounted:function(){var t=this;return Object(j.a)(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t.isMounted=!0,t.initRecordReadPos(),t._handleCurrentReadRecord=function(){var e=t.getCurrentReadPos();t.doRecord(e)},Object(O.o)(t._handleCurrentReadRecord),window.addEventListener("beforeunload",t._handleCurrentReadRecord),t.setupVideoPlayer();case 6:case"end":return e.stop()}}),e)})))()},beforeDestroy:function(){if(this.removeScrollListener){this.removeScrollListener();var t=this.getCurrentReadPos();this.doRecord(t)}Object(O.q)(this._handleCurrentReadRecord),window.removeEventListener("beforeunload",this._handleCurrentReadRecord)},methods:{setupVideoPlayer:function(){var t;(null===(t=this.sectionInfo)||void 0===t?void 0:t.vid)&&(this.removeVideoTag(),this.$refs.sectionPage&&this.calculateHeight())},calculateHeight:function(){var t=this.$refs.sectionPage,e=t.offsetLeft,n=t.offsetTop,r=t.offsetWidth,o=(this.isMobileBrowser?r:this.$refs.mse.clientWidth)/16*9;this.mobilePlayerStyle={left:"".concat(e,"px"),top:"".concat(n,"px"),width:"".concat(r,"px"),height:"".concat(r/16*9,"px")},this.videoWrapperHeight=o},initPosition:function(){this.$route.hash?this.initHashToElement(this.$route.hash):0<this.readingPostion&&this.readingPostion<=100&&this.scrollToContentPos(this.readingPostion)},removeVideoTag:function(){var content=this.sectionInfo.html||"";content=content.replace(/^<div\s+data-source="https:\/\/video-cdn\.juejin\.im.+?<\/div>/,""),this.htmlContent=content},buyBook:function(){this.$emit("buy")},syncCommentNum:function(t){var e=t.count,n=t.type;"add"===n?this.section.comment_count+=1:"sub"===n?this.section.comment_count-=e?e+1:1:this.section.comment_count=e,this.section.comment_count=this.section.comment_count>0?this.section.comment_count:0},initHashToElement:function(t){var e=this;this.$nextTick((function(){var n=t;if(n&&"#mark-star"!==n)if("#comment"===n)e.$refs.commentForm.focus(),Object(O.r)(e.$refs.commentForm);else{var r=n.substring(1),o=e.$refs.content.$el.querySelectorAll('[data-id="'.concat(r,'"]'))[0],c=e.isMobileBrowser?35:70,l=o.offsetTop;window.scrollTo(0,l-c)}}))},scrollToContentPos:function(t){var e=this;this.$nextTick((function(){var n,r;if(!(null===(r=null===(n=e.$refs)||void 0===n?void 0:n.content)||void 0===r?void 0:r.$el))return 0;var o=Object(O.h)().height,c=e.$refs.content.$el.getBoundingClientRect().height;window.scrollTo(0,c*t/100-o+122)}))},initRecordReadPos:function(){var t,e,n=this;(null===(t=this.user)||void 0===t?void 0:t.id)&&"0"!==(null===(e=this.user)||void 0===e?void 0:e.id)&&(this.removeScrollListener=Object(O.m)(window,Object(k.a)((function(){n.scrollRecord(n.getCurrentReadPos())}),500)))},getCurrentReadPos:function(){var t,e;if(!(null===(e=null===(t=this.$refs)||void 0===t?void 0:t.content)||void 0===e?void 0:e.$el))return 0;var n=Object(O.h)().height,r=this.$refs.content.$el.getBoundingClientRect(),o=r.y,c=r.height;if(0===c)return 0;var l=Math.round((n-o)/c*100);return l<0?0:l>100?100:l},scrollRecord:function(t){Math.abs(t-this.readingPostion)>5&&this.doRecord(t)},doRecord:function(t){var e=this;return Object(j.a)(regeneratorRuntime.mark((function n(){var r,o;return regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(null===(r=e.user)||void 0===r?void 0:r.id){n.next=2;break}return n.abrupt("return");case 2:return n.prev=2,n.next=5,Object(content.a)({booklet_id:e.bookletId,section_id:e.sectionId,reading_position:t});case 5:if(0===(o=n.sent).err_no||"0"===o.err_no){n.next=8;break}throw o;case 8:e.readingPostion=t,n.next=14;break;case 11:n.prev=11,n.t0=n.catch(2),console.warn("阅读记录上报失败",n.t0);case 14:case"end":return n.stop()}}),n,null,[[2,11]])})))()}}}),V=(n(1663),Object(v.a)(H,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"section-content"},[n("div",{ref:"sectionPage",staticClass:"section-page book-section-view"},[n("div",{staticClass:"video-wrapper",style:t.isMobileBrowser?{height:t.videoWrapperHeight+"px"}:{}},[n("Video",{staticClass:"video",style:t.isMobileBrowser?t.mobilePlayerStyle:{},attrs:{"video-type":t.isLegacyBookletVid?"mp4":"hls",vid:t.sectionInfo.vid||"","video-config":t.videoConfig},on:{handleEvent:t.handleVideoEvent}})],1),t._v(" "),t.sectionInfo.markdown||t.htmlContent?n("markdown-viewer",{ref:"content",attrs:{markdown:t.sectionInfo.markdown,html:t.htmlContent}}):t._e(),t._v(" "),t.showBuyButton?n("div",{staticClass:"bottom-mobile-buy"},[n("div",{staticClass:"buy-btn",on:{click:t.buyBook}},[t._v("购买 ￥"+t._s(t.salePrice))]),t._v(" "),n("VipBorrowButton",{staticClass:"borrow",attrs:{"event-page":"free","book-info":t.bookInfo}})],1):t._e(),t._v(" "),t.sectionInfo.markdown||t.htmlContent?n("section",{ref:"commentBox",staticClass:"book-comments"},[n("div",{staticClass:"box-title"},[t._v("留言")]),t._v(" "),n("CommentListBox",{attrs:{subject:t.subject,"jj-helper-item-id":t.bookletId,"jj-helper-item-type":12,expanded:!0,sticky:!1},on:{syncCommentNum:t.syncCommentNum}})],1):t._e()],1)])}),[],!1,null,"711f0248",null).exports),R=n(942);function T(object,t){var e=Object.keys(object);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(object);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(object,t).enumerable}))),e.push.apply(e,n)}return e}function B(t){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?T(Object(source),!0).forEach((function(e){Object(r.a)(t,e,source[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(source)):T(Object(source)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(source,e))}))}return t}var M={components:{SectionBuyingGuide:y,SectionWriting:w,SectionContent:V},props:["bookInfo","sectionInfo","free"],data:function(){return{}},computed:B(B({},Object(c.mapGetters)({logined:o.LOGINED,user:o.USER})),{},{salePrice:function(){var t=Object(R.c)(this.bookInfo.discount),e=this.bookInfo.price,n=this.bookInfo.discount.rate;return t&&(e=Object(R.a)(e,n)),e},isAuthor:function(){return!!this.user&&this.bookInfo.user.id===(null==this?void 0:this.user.id)},isAdmin:function(){var t,e;return!!this.user&&(null==this||null===(t=this.user)||void 0===t||null===(e=t.roles)||void 0===e?void 0:e.isAdmin)},sectionContentComponent:function(){var t,e,n,r,o=0===(null==this||null===(t=this.bookInfo)||void 0===t?void 0:t.price),c=1===(null==this||null===(e=this.sectionInfo)||void 0===e?void 0:e.is_free),l=(null==this||null===(n=this.bookInfo)||void 0===n?void 0:n.is_buy)||!1,d=0===(null==this||null===(r=this.sectionInfo)||void 0===r?void 0:r.status)||!1,f=(null==this?void 0:this.bookInfo.isBorrowing)||!1;return this.isAdmin||this.isAuthor?"section-content":c||o||l||f?d?"section-writing":"section-content":"section-buying-guide"}}),methods:{buyBook:function(){this.$coursePayment(this.user,this.bookInfo.id)}}},$=(n(1664),Object(v.a)(M,(function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"section-view"},[e(this.sectionContentComponent,{tag:"component",attrs:{"book-info":this.bookInfo,salePrice:this.salePrice,"section-info":this.sectionInfo,free:this.free},on:{buy:this.buyBook}})],1)}),[],!1,null,"124546c0",null));e.a=$.exports},2091:function(t,e,n){},2092:function(t,e,n){},2093:function(t,e,n){},2094:function(t,e,n){},3254:function(t,e,n){t.exports=n.p+"img/wx-qr.966373a.jpg"},3255:function(t,e,n){"use strict";n(2091)},3256:function(t,e,n){t.exports=n.p+"87ad47e35a060899d2234a8b5e7f378f.svg"},3257:function(t,e,n){t.exports=n.p+"54d8a353dfbeff543c8a513821df8caf.svg"},3258:function(t,e,n){"use strict";n(2092)},3259:function(t,e,n){n(16),n(15),n(11),n(6),n(14);var r=n(40),o=n(42);function c(object,t){var e=Object.keys(object);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(object);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(object,t).enumerable}))),e.push.apply(e,n)}return e}t.exports={functional:!0,render:function(t,e){var n=e._c,data=(e._v,e.data),l=e.children,d=void 0===l?[]:l,f=data.class,h=data.staticClass,style=data.style,m=data.staticStyle,v=data.attrs,y=void 0===v?{}:v,_=o(data,["class","staticClass","style","staticStyle","attrs"]);return n("svg",function(t){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?c(Object(source),!0).forEach((function(e){r(t,e,source[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(source)):c(Object(source)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(source,e))}))}return t}({class:[f,h],style:[style,m],attrs:Object.assign({width:"20",height:"20",viewBox:"0 0 20 20",fill:"none",xmlns:"http://www.w3.org/2000/svg"},y)},_),d.concat([n("path",{attrs:{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M1.24984 3.33331H12.9165C13.3558 3.33331 13.7157 3.67326 13.7476 4.10445L13.7498 4.16665V15.8333C13.7498 16.2726 13.4099 16.6325 12.9787 16.6644L12.9165 16.6666H1.24984C0.81052 16.6666 0.450602 16.3267 0.41879 15.8955L0.416504 15.8333V4.16665C0.416504 3.72733 0.756453 3.36741 1.18764 3.3356L1.24984 3.33331H12.9165H1.24984ZM12.0831 4.99994H2.08309V14.9999H12.0831V4.99994ZM19.5831 6.47177V13.5281C19.5831 14.1758 18.8058 14.5759 18.1948 14.2427L14.9998 12.4999V7.49993L18.1948 5.75718C18.8058 5.42393 19.5831 5.82402 19.5831 6.47177ZM17.9164 7.94361L16.6664 8.44361V11.5563L17.9164 12.0563V7.94361ZM6.24976 6.66661V9.16661H3.74976V6.66661H6.24976Z",fill:"#8A919F"}})]))}}},3260:function(t,e,n){"use strict";n(2093)},3261:function(t,e,n){n(16),n(15),n(11),n(6),n(14);var r=n(40),o=n(42);function c(object,t){var e=Object.keys(object);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(object);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(object,t).enumerable}))),e.push.apply(e,n)}return e}t.exports={functional:!0,render:function(t,e){var n=e._c,data=(e._v,e.data),l=e.children,d=void 0===l?[]:l,f=data.class,h=data.staticClass,style=data.style,m=data.staticStyle,v=data.attrs,y=void 0===v?{}:v,_=o(data,["class","staticClass","style","staticStyle","attrs"]);return n("svg",function(t){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?c(Object(source),!0).forEach((function(e){r(t,e,source[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(source)):c(Object(source)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(source,e))}))}return t}({class:[f,h],style:[style,m],attrs:Object.assign({xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 20 20"},y)},_),d.concat([n("path",{attrs:{fill:"#BABABA","fill-rule":"evenodd",d:"M11 0h9v9h-9V0zM0 0h9v9H0V0zm0 11h9v9H0v-9zm14-5h3V3h-3v3zM3 6h3V3H3v3zm0 11v-3h3v3H3zm8-6h3v3h-3v-3zm3 3h3v3h-3v-3zm3-3h3v3h-3v-3zm-6 6h3v3h-3v-3zm6 0h3v3h-3v-3z"}})]))}}},3262:function(t,e,n){n(16),n(15),n(11),n(6),n(14);var r=n(40),o=n(42);function c(object,t){var e=Object.keys(object);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(object);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(object,t).enumerable}))),e.push.apply(e,n)}return e}t.exports={functional:!0,render:function(t,e){var n=e._c,l=e._v,data=e.data,d=e.children,f=void 0===d?[]:d,h=data.class,m=data.staticClass,style=data.style,v=data.staticStyle,y=data.attrs,_=void 0===y?{}:y,w=o(data,["class","staticClass","style","staticStyle","attrs"]);return n("svg",function(t){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?c(Object(source),!0).forEach((function(e){r(t,e,source[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(source)):c(Object(source)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(source,e))}))}return t}({class:[h,m],style:[style,v],attrs:Object.assign({width:"40px",height:"40px",viewBox:"0 0 40 40",version:"1.1",xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink","xmlns:sketch":"http://www.bohemiancoding.com/sketch/ns"},_)},w),f.concat([n("title",[l("juejin_logo copy")]),n("desc",[l("Created with Sketch.")]),n("defs"),n("g",{attrs:{id:"Page-1",stroke:"none","stroke-width":"1",fill:"none","fill-rule":"evenodd","sketch:type":"MSPage"}},[n("g",{attrs:{id:"juejin_logo-copy","sketch:type":"MSArtboardGroup",fill:"#007FFF"}},[n("path",{attrs:{d:"M23.2819984,7.7030545 L19.8538714,5 L16.2721918,7.8241757 L16.0865388,7.97375707 L19.8538714,10.977629 L23.6327866,7.97375707 L23.2819984,7.7030545 Z M36.2727433,18.185664 L19.8439434,31.1400064 L3.42507143,18.1936064 L1,20.1414735 L19.8439434,35 L38.6981457,20.1335312 L36.2727433,18.185664 Z M19.8439434,19.2367048 L10.903809,12.1875172 L8.47840667,14.1353844 L19.8439434,23.0970293 L31.2190771,14.127442 L28.7936748,12.1795749 L19.8439434,19.2367048 Z",id:"Fill-1-Copy-2","sketch:type":"MSShapeGroup"}})])])]))}}},3263:function(t,e,n){n(16),n(15),n(11),n(6),n(14);var r=n(40),o=n(42);function c(object,t){var e=Object.keys(object);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(object);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(object,t).enumerable}))),e.push.apply(e,n)}return e}t.exports={functional:!0,render:function(t,e){var n=e._c,l=e._v,data=e.data,d=e.children,f=void 0===d?[]:d,h=data.class,m=data.staticClass,style=data.style,v=data.staticStyle,y=data.attrs,_=void 0===y?{}:y,w=o(data,["class","staticClass","style","staticStyle","attrs"]);return n("svg",function(t){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?c(Object(source),!0).forEach((function(e){r(t,e,source[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(source)):c(Object(source)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(source,e))}))}return t}({class:[h,m],style:[style,v],attrs:Object.assign({width:"16px",height:"13px",viewBox:"0 0 16 13",version:"1.1",xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink"},_)},w),f.concat([n("title",[l("Group 4")]),n("desc",[l("Created with Sketch.")]),n("defs"),n("g",{attrs:{id:"全屏",stroke:"none","stroke-width":"1",fill:"none","fill-rule":"evenodd"}},[n("g",{attrs:{id:"2_fullscreen_close-sidebar",transform:"translate(-19.000000, -25.000000)",fill:"#979797"}},[n("g",{attrs:{id:"Group-4",transform:"translate(19.000000, 25.000000)"}},[n("rect",{attrs:{id:"Rectangle-3",x:"0",y:"5.5",width:"16",height:"1.5"}}),n("rect",{attrs:{id:"Rectangle-3",x:"0",y:"0",width:"16",height:"1.5"}}),n("rect",{attrs:{id:"Rectangle-3-Copy",x:"0",y:"11",width:"16",height:"1.5"}})])])])]))}}},3264:function(t,e,n){n(16),n(15),n(11),n(6),n(14);var r=n(40),o=n(42);function c(object,t){var e=Object.keys(object);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(object);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(object,t).enumerable}))),e.push.apply(e,n)}return e}t.exports={functional:!0,render:function(t,e){var n=e._c,data=(e._v,e.data),l=e.children,d=void 0===l?[]:l,f=data.class,h=data.staticClass,style=data.style,m=data.staticStyle,v=data.attrs,y=void 0===v?{}:v,_=o(data,["class","staticClass","style","staticStyle","attrs"]);return n("svg",function(t){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?c(Object(source),!0).forEach((function(e){r(t,e,source[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(source)):c(Object(source)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(source,e))}))}return t}({class:[f,h],style:[style,m],attrs:Object.assign({width:"137",height:"28",viewBox:"0 0 137 28",fill:"none",xmlns:"http://www.w3.org/2000/svg"},y)},_),d.concat([n("path",{attrs:{d:"M17.5865 17.3955H17.5902L28.5163 8.77432L25.5528 6.39453L17.5902 12.6808H17.5865L17.5828 12.6845L9.62018 6.40201L6.6604 8.78181L17.5828 17.3992L17.5865 17.3955Z",fill:"#1E80FF"}}),n("path",{attrs:{d:"M17.5872 6.77268L21.823 3.40505L17.5872 0.00748237L17.5835 0L13.3552 3.39757L17.5835 6.76894L17.5872 6.77268Z",fill:"#1E80FF"}}),n("path",{attrs:{d:"M17.5865 23.2854L17.5828 23.2891L2.95977 11.7531L0 14.1291L0.284376 14.3574L17.5865 28L28.5238 19.3752L35.1768 14.1254L32.2133 11.7456L17.5865 23.2854Z",fill:"#1E80FF"}}),n("path",{attrs:{d:"M133.287 18.4172H131.162L129.923 23.0758H126.825V16.7559H135.364V14.7315H126.825V11.1469H133.074V9.12256H118.454V11.1469H124.703V14.7315H116.164V16.7559H124.703V23.0758H121.601L120.363 18.4172H118.237L119.487 23.0758H115.543V25.1001H135.985V23.0758H132.041L133.287 18.4172Z",fill:"#323232"}}),n("path",{attrs:{d:"M130.522 3.3151L130.2 2.94092H121.321L120.999 3.3151C119.298 5.2467 117.378 6.97337 115.278 8.46009V10.9522C116.206 10.3573 120.183 7.72295 122.327 4.98768H129.235C131.375 7.72295 135.356 10.3573 136.284 10.9522V8.46009C134.169 6.97586 132.235 5.2491 130.522 3.3151Z",fill:"#323232"}}),n("path",{attrs:{d:"M94.9037 8.53127H96.494V6.50323H94.9037V2.88867H92.9056V6.50323H91.3303V8.53127H92.9094V14.7914L91.3303 15.3377V17.5828L92.9094 17.0365V20.7371C92.8414 22.2391 92.5579 23.7236 92.0674 25.145H94.1629C94.6112 23.7165 94.863 22.2335 94.9112 20.7371V16.3442L96.5053 15.7904V13.5229L94.9112 14.0767L94.9037 8.53127Z",fill:"#323232"}}),n("path",{attrs:{d:"M99.1875 2.88867H97.6608V20.7446C97.6727 22.2359 97.4852 23.7221 97.1033 25.1637H99.1875C99.5206 23.7145 99.6851 22.2316 99.6776 20.7446V9.77357H112.321V2.88867H99.1875ZM110.308 7.75303H99.6851V4.91671H110.304L110.308 7.75303Z",fill:"#323232"}}),n("path",{attrs:{d:"M110.305 23.405H107.566V17.6838H110.021H110.702H111.91V11.8166H110.021V15.9363H107.566V11.1431H105.676V15.9363H103.27V11.8166H101.381V17.6838H102.298H103.27H105.676V23.405H102.967V19.173H101.074V25.1524H102.286H102.967H110.305H110.683H112.195V19.173H110.305V23.405Z",fill:"#323232"}}),n("path",{attrs:{d:"M53.0024 2.91846V4.83801L56.5908 6.11397L53.0024 7.38618V9.30573L59.2887 7.07187L65.5749 9.30573V7.38618L61.9865 6.11397L65.5749 4.83801V2.91846L59.2887 5.15232L53.0024 2.91846Z",fill:"#323232"}}),n("path",{attrs:{d:"M79.9508 11.697H88.5944V9.47813H79.9508V2.80273H77.5299V9.47813H68.8863V11.697H77.5299V22.9823H67.76V25.2012H89.7207V22.9823H79.9508V11.697Z",fill:"#323232"}}),n("path",{attrs:{d:"M48.9461 5.39227L52.2913 5.18272V3.24072L43.6813 3.78328V5.72529L47.0265 5.512V8.50545H43.5803V10.4213H47.0265V25.164H48.9461V10.4213H52.3923V8.50545H48.9461V5.39227Z",fill:"#323232"}}),n("path",{attrs:{d:"M57.6539 9.01025H55.6595L55.1768 10.3648H52.9991V12.2357H54.5145L52.55 17.7662H53.8821V24.1534H55.7007V16.8457H58.6642V25.1787H60.5837V16.8457H63.4612V21.059C63.4534 22.1374 63.181 23.1974 62.6679 24.146H64.7147C65.1423 23.173 65.3627 22.1217 65.362 21.059V15.6932V15.1282H60.5837V13.2572H58.6642V15.1282H55.4836L56.5313 12.2245H65.594V10.3536H57.1749L57.6539 9.01025Z",fill:"#323232"}}),n("path",{attrs:{d:"M43.562 24.6246H45.4591L46.2786 11.4272H44.3815L43.562 24.6246Z",fill:"#323232"}}),n("path",{attrs:{d:"M49.7849 11.4272L50.3499 23.2963H52.247L51.682 11.4272H49.7849Z",fill:"#323232"}})]))}}},3265:function(t,e,n){"use strict";n(2094)},4417:function(t,e,n){"use strict";n.r(e);var r=[function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"title"},[e("span",[this._v("关注公众号")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"qr-img"},[e("img",{attrs:{src:n(3254)}})])}],o=(n(16),n(15),n(11),n(14),n(6),n(119),n(45),n(39),n(0)),c=n(48),l=n(4),d=n(84),f=n(1852),h={props:["curIndex","list"]},m=(n(3255),n(27)),v=Object(m.a)(h,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"book-progress"},[n("ul",t._l(t.list,(function(e,r){return n("li",{class:{active:r<=t.curIndex}})})),0)])}),[],!1,null,"6fbc2a2e",null).exports,y=n(1200),_={components:{VipBorrowButton:y.a},props:["free","curIndex","list","isBorrowing","bookInfo","foldPc"],data:function(){return{}},computed:{notLastPage:function(){return this.curIndex<this.list.length-1},notFirstPage:function(){return this.curIndex>0},bookId:function(){return this.$route.params.id}},methods:{buyBook:function(){this.$emit("buy")},prevPage:function(){this.$emit("prev")},nextPage:function(){this.$emit("next")}}},w=(n(3258),Object(m.a)(_,(function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{staticClass:"handle"},[t.list.length>0?r("div",{staticClass:"book-handle",class:{"fold-pc":t.foldPc}},[t.notFirstPage?r("div",{staticClass:"step-btn step-btn--prev",on:{click:t.prevPage}},[r("img",{attrs:{src:n(3256)}})]):t._e(),t._v(" "),t.notLastPage?r("div",{staticClass:"step-btn step-btn--next",on:{click:t.nextPage}},[r("img",{attrs:{src:n(3257)}})]):t._e()]):t._e(),t._v(" "),t.notLastPage||t.free||t.bookInfo.isBorrowing?t._e():r("div",{staticClass:"buy-container"},[r("button",{staticClass:"buy",on:{click:t.buyBook}},[t._v("购买")]),t._v(" "),r("VipBorrowButton",{staticClass:"borrow",attrs:{"book-info":t.bookInfo,"event-page":"free"}})],1)])}),[],!1,null,"7f935304",null).exports),j=n(1199),C=n(1666),O=n(1667),k=n.n(O),x=n(3259),S=n.n(x),P=n(176);function L(object,t){var e=Object.keys(object);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(object);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(object,t).enumerable}))),e.push.apply(e,n)}return e}function I(t){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?L(Object(source),!0).forEach((function(e){Object(o.a)(t,e,source[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(source)):L(Object(source)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(source,e))}))}return t}var A={components:{LockIcon:k.a,CameraIcon:S.a,BAlert:P.Alert},props:["free","admin","info","list","sectionId","isVideoCourse"],data:function(){return{sectionList:[],userRole:"",initShowDitoryVisible:!0}},computed:I(I({},Object(d.mapGetters)({user:l.USER})),{},{tryRead:function(){var t=this.info,e=t.price,n=t.isBuy;return!(0===e)&&this.admin||!n},bookId:function(){return this.$route.params.id}}),watch:{sectionId:{handler:function(){var t=this;this.$nextTick((function(){var e,n;(null===(e=t.$refs)||void 0===e?void 0:e.activeRef)&&Array.isArray(null===(n=t.$refs)||void 0===n?void 0:n.activeRef)&&t.bookDirectoryVisible(t.$refs.activeRef[0])}))},immediate:!0}},created:function(){this.initData()},methods:{initData:function(){var t=new C.a(this.list,this.info,this.user);this.userRole=t.userRole,this.sectionList=t.getSectionList()},setFreeSection:function(t,e){this.$emit("setFreeSection",t,e)},routeSectionId:function(t){var e=t.sectionId;e!==this.$route.params.sectionId&&this.$emit("linkSection",e)},bookDirectoryVisible:function(t){t&&!this.$device.isMobile&&this.sectionId&&(null==t||t.scrollIntoView({behavior:this.initShowDitoryVisible?"auto":"smooth",block:"nearest",inline:"center"}),this.initShowDitoryVisible=!1)}}},E=(n(3260),Object(m.a)(A,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"book-directory-comp beautify-scrollbar-warp",class:{"is-admin":"admin"===t.userRole,"is-author":"author"===t.userRole,"is-buyer":"buyer"===t.userRole}},[n("div",{staticStyle:{padding:"0 15px"}},["admin"===t.userRole?n("b-alert",{attrs:{"show-icon":""}},[t._v("\n      当前是管理员状态,以下所有章节都可点击阅读\n    ")]):"author"===t.userRole?n("b-alert",{attrs:{"show-icon":""}},[t._v("\n      您是小册作者,以下所有章节都可点击阅读\n    ")]):t._e()],1),t._v(" "),n("div",{staticClass:"section-list"},t._l(t.sectionList,(function(e,r){return n("a",{key:e.sectionId,ref:t.sectionId===e.sectionId?"activeRef":"",refInFor:!0,staticClass:"section",class:{unfinished:!e.isFinished,"route-active":t.sectionId===e.sectionId},on:{click:function(n){return t.routeSectionId(e)}}},[n("div",{staticClass:"left"},[n("div",{staticClass:"index"},[t._v(t._s(r+1))])]),t._v(" "),n("div",{staticClass:"center"},[n("div",{staticClass:"main-line"},[n("div",{staticClass:"title"},[t.isVideoCourse||e.hasVideo?n("CameraIcon",{staticClass:"icon-camera"}):t._e(),t._v(" "),n("span",{staticClass:"title-text"},[t._v(t._s(e.title))])],1),t._v(" "),n("div",{staticClass:"right"},[e.isFinished?"buyer"===t.userRole||t.info.isBorrowing?t._e():["付费章节"===e.freeStatus?n("div",{staticClass:"lock"},[n("LockIcon")],1):t._e(),t._v(" "),"试学章节"===e.freeStatus?n("div",{staticClass:"label"},[t._v("\n                试学\n              ")]):t._e()]:n("div",{staticClass:"lock"},[n("LockIcon")],1)],2)]),t._v(" "),n("div",{staticClass:"sub-line"},[e.isFinished?["已学完"===e.status?n("div",{staticClass:"label",staticStyle:{color:"#8a919f",background:"#e4e6eb"}},[t._v("\n              已学完\n            ")]):"上次学到"===e.status?n("div",{staticClass:"label",staticStyle:{color:"#1e80ff",background:"#eaf2ff"}},[t._v("\n              上次学到\n            ")]):"有更新"===e.status?n("div",{staticClass:"label",staticStyle:{color:"#f53f3f",background:"#ffece8"}},[t._v("\n              有更新\n            ")]):t._e(),t._v(" "),n("span",[t._v("学习时长: "+t._s(e.readDurationStr))])]:n("div",[t._v("写作中...")])],2)])])})),0)])}),[],!1,null,"881c6d64",null).exports),H=n(1293),V=n(220),R=n(183),T=n(28),B=n(7),M=n(3261),$=n.n(M),D=n(3262),U=n.n(D),F=n(3263),N=n.n(F),Z=n(3264),z=n.n(Z);function W(object,t){var e=Object.keys(object);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(object);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(object,t).enumerable}))),e.push.apply(e,n)}return e}function G(t){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?W(Object(source),!0).forEach((function(e){Object(o.a)(t,e,source[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(source)):W(Object(source)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(source,e))}))}return t}var J=Object(B.b)({components:{UserAuth:H.a,BookDirectory:E,BookDirection:w,BookProgress:v,WechatQuickLogin:j.a,SectionPrev:f.a,SectionNext:f.a,AppOpenDrawer:function(){return Promise.all([n.e(10),n.e(11)]).then(n.bind(null,4519))},QrIcon:$.a,JuejinIcon:U.a,MenuIcon:N.a,JuejinLogoIcon:z.a,VipBorrowButton:y.a},provide:function(){var t=this;return{refreshBook:function(){t.fetch()}}},data:function(){return{sectionError:!1,sectionList:[],bookInfo:null,sectionInfo:{},direction:"next",view:"prev",unfoldM:!1,foldPc:!1,isViewNavOnTop:!1,isHeaderVisible:!0,needHide:!1,qrHide:!1,isPlayingFullscreen:!1}},computed:G(G({},Object(d.mapGetters)({user:l.USER,logined:l.LOGINED})),{},{isVideoCourse:function(){var t,e;return(null===(e=null===(t=this.bookInfo)||void 0===t?void 0:t.base_info)||void 0===e?void 0:e.course_type)===V.a.video},isAuthor:function(){var t,e;return(null===(t=this.author)||void 0===t?void 0:t.id)===(null===(e=this.user)||void 0===e?void 0:e.id)},isAdmin:function(){var t,e=this.user||{};return(null===(t=null==e?void 0:e.roles)||void 0===t?void 0:t.isAdmin)||this.isAuthor},canPayment:function(){var t=this.bookInfo,e=t.price,n=t.isBuy;return e>0&&!n&&!this.isAuthor},directionClass:function(){return"prev"===this.direction?"transition--prev":"transition--next"},bookId:function(){return this.$route.params.id},sectionId:function(){return this.$route.params.sectionId},filterList:function(){var t=this;return this.isAdmin?this.sectionList.map((function(t){return t.sectionId})).filter((function(t){return t})):this.sectionList.map((function(e){return!(!(t.free||e.isFree||t.bookInfo.isBorrowing)||!e.isFinished)&&e.sectionId})).filter((function(t){return t}))},sectionIdList:function(){return this.bookInfo&&this.bookInfo.section||[]},curDirectoryIndex:function(){return this.sectionIdList&&this.sectionIdList.indexOf(this.sectionId)},curFreeDirectoryIndex:function(){var t=this.$route.params.sectionId;return this.filterList.indexOf(t)},free:function(){var t=this.bookInfo,e=t.price,n=t.isBuy,r=0===e;return r||n},author:function(){var t=this.bookInfo;return t&&t.user||{}},isMobile:function(){return this.$device.isMobile},scheme:function(){var t=this.$route.params||{},e=t.id,n=t.sectionId;return Object(R.e)("https://".concat(T.b,"/book/").concat(e,"/section/").concat(n),R.a.bookSectionDetail.gd_label)}}),watch:{$route:function(){this.bookInfo||this.fetch(),this.getSection(),this.loopComponent()}},shareInfo:function(){var t=this.bookInfo||{};return{title:"".concat(t.title," - ").concat(this.author.username," - 掘金课程"),noTemplate:!0,description:t.desc,thumb:t.img,url:this.$route.fullPath}},head:function(){var title=this.bookInfo&&this.bookInfo.title||"",t=this.author.username||"";return t=t?t+" - ":"",{titleTemplate:null,title:"".concat(title=title?title+" - ":"").concat(t,"掘金课程")}},methods:G(G({},Object(d.mapActions)({toogle_suspension:l.CHANGE_SUSPENSION_PANEL})),{},{buyBook:function(){return this.$coursePayment(this.user,this.bookId)},getXiaoce:function(){var t=this;return this.getXiaoceById().then((function(){t.isVideoCourse&&"bookSection"===t.$route.name&&t.$router.replace({name:"videoCourseSection",params:t.$route.params})}))},getXiaoceById:function(){var t=this;return Object(V.b)(this.bookId).then((function(e){var n=e.bookInfo,r=e.sections;t.bookInfo=n;t.sectionList=r.length?r.map((function(t){return Object.assign(t,{read:!1})})):[],Number(t.sectionId)?t.getSection():t.redirectSection()}))},getSection:function(){var t=this,e=this.sectionId;this.setSectionListIsRead(e),Object(V.e)(e).then((function(e){if(e||t.redirectSection(),!e.id)return Promise.reject(new Error);t.sectionInfo=Object.assign({},e,{html:e.content,markdown:e.markdown_show}),t.enterSectionTEA()})).catch((function(e){console.error(e),t.sectionInfo=null}))},setFreeSection:function(t,e){var n=this;this.$getBean("xiaoceBusiness").setFreeSection(t,e).then((function(){n.getListSection()})).catch((function(t){n.$alertMsg(t)}))},redirectSection:function(){var t=this.filterList&&this.filterList[0];t?(this.setSectionListIsRead(t),this.$router.replace({params:{id:this.bookId,sectionId:t}})):this.$router.push({name:this.isVideoCourse?"videoCourseInfo":"bookInfo",params:{id:this.bookId}})},loopComponent:function(){var t=this.view;this.view="prev"===t?"next":"prev"},prevPage:function(t){(t=t||this.filterList[this.curFreeDirectoryIndex-1])&&(this.setSectionListIsRead(t),this.sectionInfo={},this.direction="prev",this.$router.push({params:{sectionId:t},query:this.$route.query}))},nextPage:function(t){(t=t||this.filterList[this.curFreeDirectoryIndex+1])&&(this.setSectionListIsRead(t),this.direction="next",this.sectionInfo={},this.$router.push({params:{sectionId:t},query:this.$route.query}))},setSectionIsRead:function(t,e){var n=Object.assign(this.sectionList[t],{read:e});this.$set(this.sectionList,t,n)},setSectionListIsRead:function(t){var e=this,n=this.sectionIdList.indexOf(t);n>-1&&this.sectionIdList.forEach((function(t,r){r<n?e.setSectionIsRead(r,!0):e.setSectionIsRead(r,!1)}))},linkSection:function(t){var e=this.sectionIdList.indexOf(t);this.curDirectoryIndex>e?(this.direction="prev",this.prevPage(t)):(this.direction="next",this.nextPage(t)),this.unfoldM=!1},toggleSummary:function(){var t=this.unfoldM,e=this.foldPc;this.unfoldM=!t,this.foldPc=!e},toggleQrPopup:function(){var t=this.qrHide;this.qrHide=!t},hideQrPopup:function(){var t=this;this.qrHide=!0,window.localStorage.setItem("bookQrHideSection",!0);var e=this.$getBean("eventBus");e.onVmLife(this,e.eventType.ROOT_CONTAINER_CLICK,(function(){t.qrHide=!0}))},initQrHide:function(){var t=window.localStorage.getItem("bookQrHideSection");this.qrHide=t},initScroll:function(){var t=this;this.removeScrollDirectionChangeEventListener=Object(c.n)(window,(function(e,n){var r="up"===e,o=n<=50;t.needHide=o&&!r,t.isHeaderVisible=o||r}),50),this.removeScrollEventListener=Object(c.m)(window,(function(){window.pageYOffset<=50&&!t.isHeaderVisible?t.isHeaderVisible=!0:t.needHide&&(t.needHide=!1,t.isHeaderVisible=!1)}),50)},initPlayDirection:function(){var t=this;this.removeDirectionListener=Object(c.k)(document,"keyup",(function(e){e.ctrlKey||t.isPlayingFullscreen||(37===e.keyCode?t.prevPage():39===e.keyCode&&t.nextPage())}))},fetch:function(){this.getXiaoce()},reset:function(){this.toogle_suspension(!0)},handleVisibilityChange:function(){"visible"===document.visibilityState&&this.enterSectionTEA()},enterSectionTEA:function(){var t=this.sectionInfo;this.$TEA("book_section_detail_visit",{book_id:t.booklet_id,section_id:t.section_id,is_trial_section:t.is_free,is_purchased:this.bookInfo.isBuy?1:0,platform:this.isMobile?"h5":"web",rent_status:this.bookInfo.isBorrowing?"underway":this.bookInfo.borrowTimes>0?"finish":"never"})}}),mounted:function(){var t,e,n=this;this.initQrHide(),this.initScroll(),this.toogle_suspension(!1),this.fetch(),this.initPlayDirection();var r=this.$getBean("eventBus");r.onVmLife(this,r.eventType.VIDEO_FULLSCREEN_CHANGE,(function(t){n.isPlayingFullscreen=t})),Object(c.o)(this.handleVisibilityChange),this.isMobile&&!(null===(e=null===(t=this.$store.state)||void 0===t?void 0:t.header)||void 0===e?void 0:e.isPopupZlink)&&(window.open("https://z.juejin.cn/SMF5","_blank"),this.$store.commit("header/POPUP_ZLINK"))},beforeDestroy:function(){this.reset(),this.removeDirectionListener(),this.removeScrollEventListener(),this.removeScrollDirectionChangeEventListener(),Object(c.q)(this.handleVisibilityChange)}}),K=(n(3265),Object(m.a)(J,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return t.bookInfo?n("div",{staticClass:"book-read-view"},[n("section",{staticClass:"book-section",class:{"fold-pc":t.foldPc}},[n("div",{staticClass:"book-summary",class:{"unfold-mobile":t.unfoldM}},[n("div",{staticClass:"book-summary-masker",on:{click:t.toggleSummary}}),t._v(" "),n("div",{staticClass:"book-summary-inner"},[n("div",{staticClass:"book-summary__header"},[n("app-link",{staticClass:"logo",attrs:{to:t.$courseIndex()}},[n("JuejinLogoIcon",{staticStyle:{height:"100%",width:"auto"}})],1),t._v(" "),n("div",{staticClass:"label"},[t._v("课程")]),t._v(" "),1==t.bookInfo.isPublish?n("div",{staticClass:"audit"},[t._v("审核中")]):t._e()],1),t._v(" "),t.free||t.bookInfo.isBorrowing?t._e():n("div",{staticClass:"buy-sticky"},[n("button",{staticClass:"section-buy",on:{click:t.buyBook}},[t._v("\n            购买: ￥"+t._s(t.bookInfo.price)+"\n          ")]),t._v(" "),n("VipBorrowButton",{attrs:{"event-page":"free","book-info":t.bookInfo},on:{fetch:t.getXiaoceById}})],1),t._v(" "),n("book-directory",{staticClass:"book-directory",class:{bought:!t.canPayment||t.bookInfo.isBorrowing},attrs:{free:t.free,admin:t.isAdmin,info:t.bookInfo,list:t.sectionList,"cur-index":t.curDirectoryIndex,sectionId:t.sectionId,"is-video-course":t.isVideoCourse},on:{setFreeSection:t.setFreeSection,linkSection:t.linkSection}}),t._v(" "),n("div",{staticClass:"book-summary__footer",on:{click:function(t){t.stopPropagation()}}},[n("div",{staticClass:"qr-icon",on:{click:function(e){return e.stopPropagation(),t.toggleQrPopup(e)}}},[n("QrIcon")],1),t._v(" "),n("div",{staticClass:"qr-tips",class:{show:!t.qrHide}},[n("span",{staticClass:"ion-close",on:{click:t.hideQrPopup}}),t._v(" "),t._m(0),t._v(" "),t._m(1)])])],1)]),t._v(" "),n("div",{staticClass:"book-content"},[n("div",{staticClass:"book-content-inner"},[n("div",{staticClass:"book-content__header",class:{visible:t.isHeaderVisible}},[n("div",{staticClass:"switch",on:{click:t.toggleSummary}},[n("JuejinIcon",{staticStyle:{width:"30px",height:"30px","vertical-align":"middle"}})],1),t._v(" "),n("div",{staticClass:"menu",on:{click:t.toggleSummary}},[n("MenuIcon")],1),t._v(" "),n("div",{staticClass:"title"},[n("app-link",{attrs:{to:t.$bookInfo(t.bookId,t.isVideoCourse?"video":"book")}},[t._v("\n              "+t._s(t.bookInfo.title)+"\n            ")])],1),t._v(" "),n("user-auth",{staticClass:"user-auth"}),t._v(" "),t.foldPc?n("book-progress",{staticClass:"book-progress",attrs:{"cur-index":t.curDirectoryIndex,list:t.sectionIdList}}):t._e()],1),t._v(" "),n("div",{ref:"bookBody",staticClass:"book-body",class:[t.directionClass,{mobile:t.isMobile}]},[n("section-"+t.view,{tag:"component",staticClass:"book-section-content",attrs:{free:t.free,user:t.user,"book-info":t.bookInfo,"section-info":t.sectionInfo},on:{buy:t.buyBook}})],1),t._v(" "),n("book-direction",{directives:[{name:"show",rawName:"v-show",value:t.sectionInfo&&t.curFreeDirectoryIndex>-1,expression:"sectionInfo && curFreeDirectoryIndex > -1"}],staticClass:"book-direction",attrs:{free:t.free,"cur-index":t.curFreeDirectoryIndex,list:t.filterList,"is-borrowing":t.bookInfo.isBorrowing,"book-info":t.bookInfo,"fold-pc":t.foldPc},on:{buy:t.buyBook,prev:t.prevPage,next:t.nextPage}})],1)])]),t._v(" "),n("wechat-quick-login"),t._v(" "),t.$device.isMobile?n("AppOpenDrawer",{attrs:{zlink:"https://z.juejin.cn/SMF5",scheme:t.scheme}}):t._e()],1):t._e()}),r,!1,null,"014bc177",null));e.default=K.exports},854:function(t,e,n){"use strict";n.d(e,"g",(function(){return f})),n.d(e,"h",(function(){return h})),n.d(e,"a",(function(){return m})),n.d(e,"b",(function(){return v})),n.d(e,"f",(function(){return y})),n.d(e,"e",(function(){return _})),n.d(e,"d",(function(){return j})),n.d(e,"c",(function(){return C}));n(16),n(15),n(11),n(6),n(14),n(22);var r=n(0),o=n(5),c=n(1);function l(object,t){var e=Object.keys(object);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(object);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(object,t).enumerable}))),e.push.apply(e,n)}return e}function d(t){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?l(Object(source),!0).forEach((function(e){Object(r.a)(t,e,source[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(source)):l(Object(source)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(source,e))}))}return t}function f(t){var e=t.item_id,n=t.item_type,r=t.comment_content,o=t.comment_pics;return Object(c.e)({url:"/interact_api/v1/comment/publish",method:"post",body:{item_id:e,item_type:n,comment_content:r,comment_pics:o,client_type:2608}})}function h(t){var e=t.reply_to_comment_id,n=t.reply_to_reply_id,r=t.reply_to_user_id,o=t.item_id,l=t.item_type,d=t.reply_content,f=t.reply_pics;return Object(c.e)({url:"/interact_api/v1/reply/publish",method:"post",body:{reply_to_comment_id:e,reply_to_reply_id:n,reply_to_user_id:r,item_id:o,item_type:l,reply_content:d,reply_pics:f,client_type:2608}})}function m(t){var e=t.comment_id;return Object(c.e)({url:"/interact_api/v1/comment/delete",method:"post",body:{comment_id:String(e)}}).then((function(t){return t.data}))}function v(t){var e=t.comment_id,n=t.reply_id;return Object(c.e)({url:"/interact_api/v1/reply/delete",method:"post",body:{comment_id:e,reply_id:n}}).then((function(t){return t.data}))}function y(t){var e=t.comment_id,n=t.item_id,r=t.item_type,cursor=t.cursor,o=t.limit;return Object(c.e)({url:"/interact_api/v1/reply/list",method:"post",body:{comment_id:e,item_id:n,item_type:r,cursor:cursor,limit:o,client_type:2608}})}function _(t){return w.apply(this,arguments)}function w(){return(w=Object(o.a)(regeneratorRuntime.mark((function t(e){var n;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Object(c.e)({url:"/interact_api/v1/comment/hots",method:"post",body:e});case 2:return n=t.sent,t.abrupt("return",n.data);case 4:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function j(t){return Object(c.e)({url:"/interact_api/v1/comment/list",method:"post",body:d(d({},t),{},{client_type:2608})})}function C(t){return Object(c.e)({url:"/interact_api/v1/comment/detail",method:"post",body:{comment_id:t,clent_type:2608},showError:!1})}},857:function(t,e,n){"use strict";n.d(e,"a",(function(){return l}));n(6);var r=n(12),o=n(13),c=function(){function t(){Object(r.a)(this,t),this.busy=!1}return Object(o.a)(t,[{key:"do",value:function(t){var e=this;return this.busy?Promise.resolve():(this.busy=!0,Promise.resolve("function"==typeof t?t():t).then((function(t){return e.busy=!1,t})).catch((function(t){return e.busy=!1,Promise.reject(t)})))}}]),t}();function l(){return new c}},858:function(t,e,n){"use strict";n(119);var r=n(68),o=n(271),c=n(272),l=n(7),d=n(18),f=Object(l.b)({components:{Lazy:c.a},props:{url:{type:String},default:{type:String},quality:{type:Number},width:{type:Number,default:0},height:{type:Number,default:0},shrink:{type:Boolean},format:{type:String},alt:{type:String},blank:{type:String},hasMark:{type:Boolean,default:!1},lazy:{type:Boolean,default:!0}},computed:{defaultThumbUrl:function(){return this.default||r.h},thumbUrl:function(){var t,e,n=this.url||(this.blank?"":this.defaultThumbUrl);return this.shrink?Object(o.e)(n,this.width*r.l,this.height*r.l,{format:this.format,quality:this.quality,supportWebP:Object(d.j)(null===(t=this.$nuxt)||void 0===t?void 0:t.context)},this.hasMark?"zoomCrop":"noMark"):Object(o.b)(n,this.width*r.l,this.height*r.l,{format:this.format,quality:this.quality},this.hasMark?"zoomCrop":"noMark",{supportWebP:Object(d.j)(null===(e=this.$nuxt)||void 0===e?void 0:e.context)})}}}),h=n(27),component=Object(h.a)(f,(function(){var t=this.$createElement;return(this._self._c||t)("lazy",{attrs:{url:this.thumbUrl,alt:this.alt,lazy:this.lazy,"loading-style":{aspectRatio:""+this.width/this.height}}})}),[],!1,null,null,null);e.a=component.exports},868:function(t,e,n){"use strict";n.r(e);n(16),n(15),n(11),n(14),n(6);var r=n(0),o=n(8),c=n(4),l=n(857),d=n(177),f=n(29),h=n(84),m=n(934),v=Object(o.d)({components:{Triangle:m.a},props:{disalbe:{type:Boolean,default:!1},promise:Promise},setup:function(t,e){var data=Object(o.q)({visible:!1,top:0,left:0,isTop:!1}),n=Object(o.r)(null),r=Object(o.r)(null),c=Object(o.r)();return{data:data,popoverStyle:Object(o.a)((function(){return{top:"".concat(data.top,"px"),left:"".concat(data.left,"px")}})),contentElem:c,showPopover:function(o){t.disalbe||(clearTimeout(r.value),e.emit("show"),n.value=setTimeout((function(){Promise.resolve(t.promise).then((function(){n.value&&(data.visible=!0,e.root.$nextTick((function(){var t=o.target,e=null==t?void 0:t.getBoundingClientRect(),n=t.offsetWidth||33,r=t.offsetHeight||33,l=c.value,d=(null==l?void 0:l.offsetWidth)||260,f=(null==l?void 0:l.offsetHeight)||160,h=e.left-d/2+n/2,m=e.top-f-12;data.isTop=!1,m<60&&(data.isTop=!0,m=e.top+r+8),h=Math.max(0,h),data.left=h,data.top=m})))}))}),300))},hidePopover:function(){clearTimeout(n.value),n.value=null,e.emit("hide"),r.value=setTimeout((function(){r.value=null,data.visible=!1}),300)}}}}),y=(n(1029),n(27)),_=Object(y.a)(v,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"popover-box",on:{mouseenter:function(e){return t.showPopover(e)},mouseleave:t.hidePopover}},[n("transition",{attrs:{name:"fade"}},[t.data.visible?n("div",{ref:"contentElem",staticClass:"popover-content",style:t.popoverStyle},[t._t("content"),t._v(" "),n("triangle",{staticClass:"triangle-bottom",class:{isTop:t.data.isTop}})],2):t._e()]),t._v(" "),t._t("default")],2)}),[],!1,null,"f1a2074a",null).exports,w=n(869),j=n(1019);function C(object,t){var e=Object.keys(object);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(object);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(object,t).enumerable}))),e.push.apply(e,n)}return e}function O(t){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?C(Object(source),!0).forEach((function(e){Object(r.a)(t,e,source[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(source)):C(Object(source)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(source,e))}))}return t}var k=Object(o.d)({components:{Avatar:d.a,Popover:_,Button:w.a,ImButton:j.a},props:{userId:String,showJscoreLevel:{type:Boolean,default:!1},enablePopover:{type:Boolean,default:!0}},data:function(){return{user:null,followLock:Object(l.a)(),fetchUserPromise:null,isFollowing:!1}},computed:O(O({},Object(h.mapGetters)({currentUser:c.USER})),{},{position:function(){return this.user&&(this.$userPosition(this.user)||this.user.description||"暂无简介")},self:function(){return this.currentUser&&this.currentUser.id===this.userId},followed:function(){return this.user&&this.user.followed}}),methods:{toFollowing:function(){window.open("/user/".concat(this.userId,"/following"),"_blank")},toFollower:function(){window.open("/user/".concat(this.userId,"/followers"),"_blank")},handleShow:function(){this.fetchUserPromise=this.fetch().then((function(t){if(t.is_logout)return Promise.reject()}))},fetch:function(){var t=this;return Object(f.i)(this.userId,{ignore404:!0}).then((function(e){return t.user=e,e}))},toggleFollow:function(){var t=this;this.isFollowing=!0,this.followLock.do((function(){return t.$ensureAuthorized().then((function(){return t.$store.dispatch(c.TOGGLE_FOLLOW_USER,t.user).catch((function(e){t.$error(e)}))})).catch((function(t){return console.warn("follow failed err:",t)})).finally((function(){return t.isFollowing=!1}))}))}}}),x=(n(1032),n(1033),Object(y.a)(k,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("Popover",{staticClass:"user-popover",attrs:{promise:t.fetchUserPromise},on:{show:t.handleShow},scopedSlots:t._u([{key:"content",fn:function(){return[n("div",{staticClass:"info-row",on:{click:function(t){t.stopPropagation()}}},[n("app-link",{attrs:{to:t.$userRoute(t.user),blank:!0}},[n("avatar",{staticClass:"avatar",attrs:{user:t.user,decorative:!0,alt:t.user.username+"的头像"}})],1),t._v(" "),n("div",{staticClass:"user-info"},[n("username",{attrs:{user:t.user,"show-jscore-level":t.showJscoreLevel}}),t._v(" "),n("div",{staticClass:"position"},[t._v(t._s(t.position))])],1)],1),t._v(" "),t.self?t._e():n("div",{staticClass:"operate-btn"},[n("Button",{staticClass:"follow-btn",attrs:{"st:name":"followBtn",attention:!0,"custom-attention-text":"关注","cancel-attention-text":"已关注",cancel:t.followed,loading:t.isFollowing,size:"large","show-icon":!1},on:{click:function(e){return e.stopPropagation(),e.preventDefault(),t.toggleFollow(e)}}}),t._v(" "),n("ImButton",{staticClass:"im-btn",attrs:{"tea-type":"personal_information_card","user-id":t.userId}})],1),t._v(" "),n("div",{staticClass:"meta-row",on:{click:function(t){t.stopPropagation()}}},[n("ul",{staticClass:"meta-list"},[n("li",{staticClass:"item",on:{click:t.toFollowing}},[n("div",{staticClass:"count"},[t._v(t._s(t.user.followingCount||0))]),t._v(" "),n("div",{staticClass:"title"},[t._v("关注")])]),t._v(" "),n("li",{staticClass:"divider"}),t._v(" "),n("li",{staticClass:"item",on:{click:t.toFollower}},[n("div",{staticClass:"count"},[t._v(t._s(t.user.followerCount||0))]),t._v(" "),n("div",{staticClass:"title"},[t._v("粉丝")])])])])]},proxy:!0}])},[t._v(" "),t._t("default")],2)}),[],!1,null,"9421b4e2",null));e.default=x.exports},869:function(t,e,n){"use strict";var r=n(8),o=n(890),c=n.n(o),l=n(891),d=n.n(l),f=n(892),h=n.n(f),m=n(893),v=n.n(m),y=n(894),_=n.n(y),w=Object(r.d)({props:{type:{type:String,default:"primary"},attention:Boolean,customAttentionText:String,cancelAttentionText:String,size:{type:String,default:"medium"},status:{type:String,default:"default"},disabled:Boolean,loading:Boolean,cancel:Boolean,text:String,icon:String,showIcon:{type:Boolean,default:!0}},setup:function(t,e){var n=Object(r.a)((function(){return t.attention}));return{handleClick:function(n){t.disabled||t.loading||e.emit("click",n)},isAttentionType:n,attentionText:Object(r.a)((function(){return"mini"===t.size&&t.loading?"":t.cancel?t.loading?"取消":t.cancelAttentionText||"已关注":t.customAttentionText||"关注"})),iconSrc:Object(r.a)((function(){return t.loading?t.cancel||n.value&&"primary"!==t.type?v.a:_.a:n.value&&t.showIcon?"mini"===t.size?"":t.icon||t.cancel?h.a:"primary"===t.type?c.a:d.a:""}))}}}),j=(n(895),n(27)),component=Object(j.a)(w,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("button",{staticClass:"ui-btn",class:[t.type,t.size,t.status,t.cancel?"cancel":"",t.attention?"attention":""],attrs:{disabled:t.disabled||t.loading},on:{click:t.handleClick}},[t.iconSrc?n("img",{staticClass:"img",class:t.loading?"loading":"",attrs:{src:t.iconSrc}}):t._e(),t._v(" "),t.isAttentionType?[t._v("\n    "+t._s(t.attentionText)+"\n  ")]:t._t("default",[t._v(t._s(t.text))])],2)}),[],!1,null,"05e27314",null);e.a=component.exports},870:function(t,e,n){},871:function(t,e,n){"use strict";n(16),n(15),n(11),n(14),n(45),n(6),n(83);var r,o=n(31),c=(n(22),n(5)),l=n(0),d=n(4),f=n(929),h=n(177),m=n(930),v=n(918),y=n(889),_=n(886),w=n(854),j=n(883),C=n(887),O=n(881),k=n(179),x=n(935),S=n.n(x),P=n(17);function L(object,t){var e=Object.keys(object);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(object);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(object,t).enumerable}))),e.push.apply(e,n)}return e}function I(t){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?L(Object(source),!0).forEach((function(e){Object(l.a)(t,e,source[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(source)):L(Object(source)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(source,e))}))}return t}var A=(r={},Object(l.a)(r,P.e.ArticleIdType,"article"),Object(l.a)(r,P.e.PinType,"pin"),Object(l.a)(r,P.e.Book,"小册"),Object(l.a)(r,P.e.Realtime,"news"),r),E={components:{AuthCard:m.a,Avatar:h.a,Emoji:f.a,ImageIcon:S.a},props:["commentList","replyList","subject","comment","parent","autoFocus","placeholder","mode","small"],data:function(){return{active:!1,focused:!1,submitting:!1,content:"",imageFile:null,imagePreviewUrl:"",emoji:""}},computed:{me:function(){return this.$store.getters.USER},bindedPhone:function(){return this.me&&this.me.isBindedPhone},empty:function(){return!this.content.length},canSubmit:function(){return this.content.length&&!this.submitting},isActionBoxVisible:function(){return(this.focused||!this.empty||this.imageFile)&&this.me&&this.bindedPhone},submitButtonTitle:function(){return this.submitting?"提交中...":"发表评论"},sendTip:function(){return this.$device.isMacOS?"⌘ + Enter":"Ctrl + Enter"}},watch:{focused:function(t){t&&!this.me&&this.$requestLogin(),t||!this.empty||this.imageFile||(this.$emit("emptyBlur"),this.$store.dispatch(d.UPDATE_PIN_ON_FOCUS,!1))},imageFile:function(){Object(O.g)(this.$refs.richInput)}},methods:{onFocus:function(){this.focused=!0,this.$store.dispatch(d.UPDATE_PIN_ON_FOCUS,!0)},onOuterClick:function(){this.empty&&(this.focused=!1)},onFormBoxClick:function(t){var e=t.target;if(this.bindedPhone){var input=this.$refs.richInput;input.focus(),input.contains(e)||Object(O.g)(input)}},onInput:function(){this.focused=!0,Object(O.e)(this.$refs.richInput),this.content=this.emojiToText(this.$refs.richInput.innerHTML),this.content=Object(O.b)(this.content)},onPaste:function(t){t.preventDefault(),Object(O.f)(t,this.onFileSelected);var text=Object(O.a)(t),html=Object(k.d)(text);Object(O.c)(this.$refs.richInput,html),this.focused=!0,this.content=this.emojiToText(this.$refs.richInput.innerHTML),this.content=Object(O.b)(this.content)},onKeydown:function(t){var e=this;if(this.content.length&&!this.submitting)return Object(v.a)(t,(function(){return e.submit()}))},cleanContent:function(){this.$refs.richInput.innerHTML="",this.content=""},updateEmoji:function(t){this.emoji=t,Object(O.c)(this.$refs.richInput,Object(k.c)(this.emoji)),this.focused=!0,this.content=this.emojiToText(this.$refs.richInput.innerHTML),this.content=Object(O.b)(this.content)},showFileDialog:function(){this.$refs.input.click()},changeFile:function(t){this.imageFile=t,window.URL.revokeObjectURL(this.imagePreviewUrl),this.imagePreviewUrl=t?window.URL.createObjectURL(t):""},cleanFile:function(){this.changeFile(null)},onFileSelected:function(t){var e=this;this.$refs.input.value=null,t&&(this.isWithVaildSize(t)?Object(y.a)(t,_.a).then((function(n){n?e.changeFile(t):e.$error("不支持此格式的图片")})):this.$error("文件过大"))},isWithVaildSize:function(t){return t.size<=_.c},uploadFile:function(){var t=this;return Object(c.a)(regeneratorRuntime.mark((function e(){var n,r,c,l,d;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!t.imageFile){e.next=11;break}return e.next=3,Object(j.a)(t.me.user_id,[t.imageFile]);case 3:return n=e.sent,r=Object(o.a)(n,1),c=r[0],l=t.imageFile.type.split("/")[1],d={gif:0,png:1,jpg:2,jpeg:2},e.abrupt("return",{pic_url:c.Url,width:c.ImageHeight,height:c.ImageWidth,pic_type:d[l]||1});case 11:return e.abrupt("return",Promise.resolve());case 12:case"end":return e.stop()}}),e)})))()},submit:function(){var t=this;return this.submitting=!0,this.uploadFile().then((function(image){return t.createSubmitTask(image)})).then((function(e){if(0===e.err_no?(t.$emit("syncCommentNum",{type:"add"}),t.submitting=!1,t.$alertMsg("评论成功"),t.$emit("submitted"),t.reset()):t.$error(e.err_msg||"评论失败，请稍后重试"),Object(C.a)()){var n=Object(C.b)();t.$TEA("search_detail_action",I(I({},n),{},{action_type:P.a.Comment,action_value:t.commentList.length}))}})).catch((function(e){t.submitting=!1,t.$error(e)}))},createSubmitTask:function(image){var t=this,e=this.subject,n=e.item_id,r=e.item_type,o=e.user_id;e.cate_id;return this.$TEA("comment_action",{comment_type:A[r],comment_parent_id:n,author_user_id:o,comment_url:location.href,mode:this.mode}),this.comment?this.comment.reply_info?Object(w.h)({reply_to_comment_id:this.comment.reply_info.reply_comment_id,reply_to_reply_id:this.comment.reply_info.reply_id,reply_to_user_id:this.comment.reply_info.user_id,item_id:n,item_type:r,reply_content:this.content,reply_pics:void 0===image?[]:[image]}).then((function(e){return 0===e.err_no&&(t.replyList||[]).push(e.data),e})):Object(w.h)({reply_to_comment_id:this.comment.comment_info.comment_id,reply_to_reply_id:null,reply_to_user_id:null,item_id:n,item_type:r,reply_content:this.content,reply_pics:void 0===image?[]:[image]}).then((function(e){return 0===e.err_no&&(t.replyList||[]).push(e.data),e})):Object(w.g)({item_id:n,item_type:r,comment_content:this.content,comment_pics:void 0===image?[]:[image]}).then((function(e){return 0===e.err_no&&t.commentList.unshift(e.data),e}))},reset:function(){this.cleanFile(),this.cleanContent()},emojiToText:function(html){return html.replace(/<img.*?alt=".*?/g,"").replace(/".?src=.*?>/g,"")}},mounted:function(){var t=this;this.autoFocus&&this.$nextTick((function(){t.$refs.richInput.focus()}))}},H=(n(936),n(27)),component=Object(H.a)(E,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{directives:[{name:"outer-click",rawName:"v-outer-click",value:function(){return t.onOuterClick()},expression:"() => onOuterClick()"}],staticClass:"comment-form",class:{focused:t.focused,reply:!!t.comment,"sub-reply":!!t.parent,small:t.small}},[n("div",{staticClass:"avatar-box"},[n("avatar",{staticClass:"avatar",attrs:{user:t.me}})],1),n("div",{staticClass:"form-box",class:{disabled:t.submitting}},[n("auth-card",{attrs:{user:t.me},on:{click:t.onFormBoxClick}},[n("div",{staticClass:"input-box"},[n("div",{ref:"richInput",staticClass:"rich-input",class:{empty:t.empty},attrs:{contenteditable:"true",spellcheck:"false",placeholder:t.placeholder||"输入评论（Enter换行，"+t.sendTip+"发送）",disabled:!0},on:{focus:t.onFocus,input:t.onInput,paste:t.onPaste,keydown:t.onKeydown,keyup:function(t){t.stopPropagation()}}}),t.imagePreviewUrl?n("div",{staticClass:"image-preview-box"},[n("div",{staticClass:"image-preview",style:{backgroundImage:"url("+t.imagePreviewUrl+")"}}),n("div",{staticClass:"clean-btn",on:{click:t.cleanFile}},[n("svg",{attrs:{width:"12",height:"12",viewBox:"0 0 12 12",fill:"none",xmlns:"http://www.w3.org/2000/svg"}},[n("rect",{attrs:{width:"12",height:"12",rx:"2",fill:"#86909C"}}),t._v(" "),n("path",{attrs:{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M5.98095 5.49307L8.22012 3.25389C8.28521 3.18881 8.39074 3.18881 8.45582 3.25389L8.69153 3.4896C8.75661 3.55468 8.75661 3.66021 8.69153 3.7253L6.45235 5.96447L8.69153 8.20364C8.75661 8.26873 8.75661 8.37426 8.69153 8.43934L8.45582 8.67505C8.39074 8.74013 8.28521 8.74013 8.22012 8.67505L5.98095 6.43587L3.74178 8.67505C3.67669 8.74013 3.57116 8.74013 3.50608 8.67505L3.27037 8.43934C3.20529 8.37426 3.20529 8.26873 3.27037 8.20364L5.50954 5.96447L3.27037 3.7253C3.20529 3.66021 3.20529 3.55468 3.27037 3.4896L3.50608 3.25389C3.57116 3.18881 3.67669 3.18881 3.74178 3.25389L5.98095 5.49307Z",fill:"white"}})])])]):t._e()])]),n("div",{directives:[{name:"show",rawName:"v-show",value:t.isActionBoxVisible||!t.small,expression:"isActionBoxVisible || !small"}],staticClass:"action-box"},[n("emoji",{directives:[{name:"show",rawName:"v-show",value:t.isActionBoxVisible,expression:"isActionBoxVisible"}],staticClass:"emoji-btn",on:{selectEmoji:t.updateEmoji}}),n("div",{directives:[{name:"show",rawName:"v-show",value:t.isActionBoxVisible,expression:"isActionBoxVisible"}],staticClass:"image-btn",on:{click:t.showFileDialog}},[n("ImageIcon",{staticClass:"icon"}),n("span",[t._v("图片")])],1),n("div",{staticClass:"submit"},[n("span",{directives:[{name:"show",rawName:"v-show",value:t.isActionBoxVisible,expression:"isActionBoxVisible"}]},[t._v(t._s(t.sendTip))]),n("button",{staticClass:"submit-btn",attrs:{disabled:!t.canSubmit},on:{click:t.submit}},[t._v(t._s(t.submitButtonTitle))])])],1)],1),n("input",{ref:"input",staticClass:"hidden",attrs:{type:"file"},on:{change:function(e){return t.onFileSelected(e.target.files[0])}}})])}),[],!1,null,"372c6532",null);e.a=component.exports},873:function(t,e,n){"use strict";n.d(e,"a",(function(){return r})),n.d(e,"b",(function(){return o}));n(83),n(45),n(26),n(18);var r=function(text){try{var textarea=document.createElement("textarea");document.body.appendChild(textarea),textarea.value=text,textarea.select(),document.execCommand("copy"),document.body.removeChild(textarea)}catch(t){throw"copy link error"}};function o(content){if(!(content=(null==content?void 0:content.trim())||""))return"";var t=((null==content?void 0:content.trim())||"").split("\n")[0];return t.length<=30?t:t.substring(0,30)}},874:function(t,e,n){"use strict";n.d(e,"B",(function(){return o})),n.d(e,"v",(function(){return c})),n.d(e,"A",(function(){return l})),n.d(e,"u",(function(){return d})),n.d(e,"t",(function(){return f})),n.d(e,"d",(function(){return h})),n.d(e,"e",(function(){return m})),n.d(e,"h",(function(){return v})),n.d(e,"b",(function(){return y})),n.d(e,"w",(function(){return _})),n.d(e,"x",(function(){return w})),n.d(e,"q",(function(){return j})),n.d(e,"r",(function(){return C})),n.d(e,"z",(function(){return O})),n.d(e,"s",(function(){return k})),n.d(e,"D",(function(){return x})),n.d(e,"j",(function(){return S})),n.d(e,"k",(function(){return P})),n.d(e,"i",(function(){return L})),n.d(e,"C",(function(){return I})),n.d(e,"g",(function(){return A})),n.d(e,"p",(function(){return E})),n.d(e,"c",(function(){return H})),n.d(e,"a",(function(){return V})),n.d(e,"y",(function(){return R})),n.d(e,"o",(function(){return T})),n.d(e,"n",(function(){return B})),n.d(e,"E",(function(){return M})),n.d(e,"l",(function(){return $})),n.d(e,"f",(function(){return D})),n.d(e,"m",(function(){return U}));var r=n(1);function o(t,e,n){return Object(r.c)({url:"/tag_api/v1/query_category_list",method:"POST",showError:t,headers:e,jsonBody:n})}function c(t,e,n){return Object(r.c)({url:"/study_api/v1/translate/query_claim",method:"POST",showError:t,headers:e,jsonBody:n})}function l(t,e,n){return Object(r.c)({url:"/study_api/v1/translate/query_user",method:"POST",showError:t,headers:e,jsonBody:n})}function d(t,e,n){return Object(r.c)({url:"/study_api/v1/translate/query_auto_claim",method:"POST",showError:t,headers:e,jsonBody:n})}function f(t,e,n){return Object(r.c)({url:"/study_api/v1/translate/query_all_recommend",method:"POST",showError:t,headers:e,jsonBody:n})}function h(data,t,e,n){return Object(r.c)({url:"/interact_api/v1/digg/cancel",body:data,method:"POST",showError:t,headers:e,jsonBody:n})}function m(data,t,e,n){return Object(r.c)({url:"/interact_api/v1/digg/save",body:data,method:"POST",showError:t,headers:e,jsonBody:n})}function v(data,t,e,n){return Object(r.c)({url:"/interact_api/v1/follow/undo",body:data,method:"POST",showError:t,headers:e,jsonBody:n})}function y(data,t,e,n){return Object(r.c)({url:"/content_api/v1/column/articles_cursor",body:data,method:"POST",showError:t,headers:e,jsonBody:n})}function _(data,t,e,n){return Object(r.c)({url:"/study_api/v1/translate/query_recommend",body:data,method:"POST",showError:t,headers:e,jsonBody:n})}function w(data,t,e,n){return Object(r.c)({url:"/study_api/v1/translate/query_recommend_list",body:data,method:"POST",showError:t,headers:e,jsonBody:n})}function j(data,t,e,n){return Object(r.c)({url:"/study_api/v1/translate/publish_claim",body:data,method:"POST",showError:t,headers:e,jsonBody:n})}function C(data,t,e,n){return Object(r.c)({url:"/study_api/v1/translate/publish_recommend",body:data,method:"POST",showError:t,headers:e,jsonBody:n})}function O(data,t,e,n){return Object(r.c)({url:"/study_api/v1/translate/query_translate",body:data,method:"POST",showError:t,headers:e,jsonBody:n})}function k(data,t,e,n){return Object(r.c)({url:"/study_api/v1/translate/publish_translate",body:data,method:"POST",showError:t,headers:e,jsonBody:n})}function x(data,t,e,n){return Object(r.c)({url:"/tag_api/v1/theme/list_by_hot",body:data,method:"POST",showError:t,headers:e,jsonBody:n})}function S(data,t,e,n){return Object(r.c)({url:"/recommend_api/v1/short_msg/detail_rec",body:data,method:"POST",showError:t,headers:e,jsonBody:n})}function P(data,t,e,n){return Object(r.c)({url:"/recommend_api/v1/short_msg/topic",body:data,method:"POST",showError:t,headers:e,jsonBody:n})}function L(data,t,e,n){return Object(r.c)({url:"/list_api/v1/annual/user_annual",body:data,method:"POST",showError:t,headers:e,jsonBody:n})}function I(data,t,e,n){return Object(r.c)({url:"/tag_api/v1/query_topic_detail",body:data,method:"POST",showError:t,headers:e,jsonBody:n})}function A(data,t,e,n){return Object(r.c)({url:"/interact_api/v1/follow/do",body:data,method:"POST",showError:t,headers:e,jsonBody:n})}function E(data,t,e,n){return Object(r.c)({url:"/study_api/v1/translate/pre_query_status",body:data,method:"POST",showError:t,headers:e,jsonBody:n})}function H(data,t,e,n){return Object(r.c)({url:"/content_api/v1/short_msg/list_by_theme",body:data,method:"POST",showError:t,headers:e,jsonBody:n})}function V(data,t,e,n){return Object(r.c)({url:"/booklet_api/v1/reading/submit_progress",body:data,method:"POST",showError:t,headers:e,jsonBody:n})}function R(data,t,e,n){return Object(r.c)({url:"/study_api/v1/translate/query_recommend_status",body:data,method:"POST",showError:t,headers:e,jsonBody:n})}function T(data,t,e,n){return Object(r.c)({url:"/study_api/v1/translate/pre_lock_translate",body:data,method:"POST",showError:t,headers:e,jsonBody:n})}function B(data,t,e,n){return Object(r.c)({url:"/study_api/v1/translate/pre_count",body:data,method:"POST",showError:t,headers:e,jsonBody:n})}function M(data,t,e,n){return Object(r.c)({url:"/tag_api/v1/topic/list_by_search_cursor",body:data,method:"POST",showError:t,headers:e,jsonBody:n})}function $(data,t,e,n){return Object(r.c)({url:"/study_api/v1/translate/abstain_claim",body:data,method:"POST",showError:t,headers:e,jsonBody:n})}function D(data,t,e,n){return Object(r.c)({url:"/interact_api/v1/digg/user_list",body:data,method:"POST",showError:t,headers:e,jsonBody:n})}function U(data,t,e,n){return Object(r.c)({url:"/study_api/v1/translate/pre_audit_translate",body:data,method:"POST",showError:t,headers:e,jsonBody:n})}},875:function(t,e,n){"use strict";n(136);var r=n(48);n(6);function o(t){return new Promise((function(e,n){var img=new window.Image;img.onload=function(){return e({width:img.naturalWidth,height:img.naturalHeight,url:t})},img.onerror=function(){return n()},img.src=t}))}var c=function(){return{loading:!1,loaded:!1,error:!1,src:null,imageStyle:{top:"",left:"",width:"",height:"",transform:""},token:Date.now()}},l={props:["backgroundColor","margin","full"],data:c,methods:{show:function(t){var e=t.thumbUrl,n=t.originalUrl,rect=t.rect;this.loadImage({originalUrl:n,rect:rect}),this.loadTumb({thumbUrl:e,rect:rect})},close:function(){Object.assign(this,c()),this.unlockScroll()},loadTumb:function(t){var e=this,n=t.thumbUrl,rect=t.rect,r=this.token;o(n).then((function(t){if(e.isInSameView(r)&&!e.loaded&&!e.error){var o=e.computeRenderedRect(t.width,t.height);e.applyRect(o),e.src=n,e.applyTransform(e.computeTransform(o,rect))}})).catch((function(t){e.isInSameView(r)&&console.error(t)}))},loadImage:function(t){var e=this,n=t.originalUrl,rect=t.rect,r=this.token;this.loading=!0,o(n).then((function(image){if(e.isInSameView(r)){var t=!!e.src,o=!e.full&&e.isLargeLongImage(image),c=e.computeRenderedRect(image.width,image.height,o);e.applyRect(c),e.src=n,e.loading=!1,e.loaded=!0,o&&e.lockScroll(),t||e.applyTransform(e.computeTransform(c,rect))}})).catch((function(t){e.isInSameView(r)&&(console.error(t),e.loading=!1,e.error=!0)}))},applyRect:function(rect){Object.assign(this.imageStyle,{top:rect.top+"px",left:rect.left+"px",width:rect.width+"px",height:rect.height+"px"})},applyTransform:function(t){var e=this;this.imageStyle.transform=t,this.$nextTick((function(){e.forceReflow(),e.imageStyle.transform=""}))},initScrollEventListener:function(){var t=this,e=this.$getBean("eventBus"),n=e.eventType.ROOT_CONTAINER_SCROLL;e.onVmLife(this,n,(function(){t.src&&t.close()}))},computeRenderedRect:function(t,e,n){var o=Object(r.h)(),c=this.getSafeAreaSize();if(n){var l=Math.min(o.width,t,960),d=l*e/t;return{top:0,left:(o.width-l)/2,width:l,height:d}}var f=t/c.width,h=e/c.height,m=Math.max(f,h,1),v=t/m,y=e/m;return{top:(o.height-y)/2,left:(o.width-v)/2,width:v,height:y}},computeTransform:function(t,rect){var e=rect.width/t.width,n=rect.height/t.height,r=rect.width-t.width,o=rect.height-t.height,c=rect.top-t.top+o/2,l=rect.left-t.left+r/2,d="translate3d(".concat(l,"px, ").concat(c,"px, 0)"),f="scale3d(".concat(e,", ").concat(n,", 1)");return"".concat(d," ").concat(f)},forceReflow:function(){document.body.clientWidth},isInSameView:function(t){return t===this.token},isLargeLongImage:function(image){var t=this.getSafeAreaSize(),e=t.width,n=t.height,r=n/e,o=image.height/image.width,c=o>1&&o>r;return(image.width>e||image.height>n)&&c},getSafeAreaSize:function(){var t=Object(r.h)(),e=t.width,n=t.height;return{width:Math.max(0,e-2*(+this.margin||0)),height:Math.max(0,n-2*(+this.margin||0))}},lockScroll:function(){var t=this.$getBean("eventBus");t.emit(t.eventType.LOCK_ROOT_CONTAINER_SCROLL)},unlockScroll:function(){var t=this.$getBean("eventBus");t.emit(t.eventType.UNLOCK_ROOT_CONTAINER_SCROLL)}},mounted:function(){this.initScrollEventListener()}},d=(n(921),n(27)),f=Object(d.a)(l,(function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("transition",{attrs:{name:"fade"}},[t.src?r("div",{staticClass:"image-viewer",class:{loading:t.loading},on:{click:t.close}},[r("div",{staticClass:"image-box",style:{backgroundColor:t.backgroundColor}},[t.error?r("img",{staticClass:"image error",attrs:{src:n(876)}}):r("img",{staticClass:"image",style:t.imageStyle,attrs:{src:t.src}})])]):t._e()])}),[],!1,null,"10b7b0e6",null).exports,h=n(964),m=n.n(h),v=function(){return{isLargeLongMode:!1,isZoomMode:!1,loading:!1,loaded:!1,error:!1,src:null,offsetX:0,offsetY:0,canZoom:!1,token:Date.now()}},y={props:["backgroundColor","margin","full"],data:v,methods:{show:function(t){var e=t.thumbUrl,n=t.originalUrl,rect=t.rect;this.loadImage({originalUrl:n,rect:rect}),this.loadTumb({thumbUrl:e,rect:rect})},close:function(){this.destroyGesture(),Object.assign(this,v()),this.unlockScroll()},loadTumb:function(t){var e=this,n=t.thumbUrl,r=(t.rect,this.token);o(n).then((function(t){!e.isInSameView(r)||e.loaded||e.error||(e.src=n)})).catch((function(t){e.isInSameView(r)&&console.error(t)}))},loadImage:function(t){var e=this,n=t.originalUrl,r=(t.rect,this.token);this.loading=!0,o(n).then((function(image){if(e.isInSameView(r)){var t=!e.full&&e.isLargeLongImage(image);e.src=n,e.loading=!1,e.loaded=!0,e.isLargeLongMode=t,e.canZoom=e.isLargeImage(image),e.initGesture(),e.isLargeLongMode&&e.lockScroll()}})).catch((function(t){e.isInSameView(r)&&(console.error(t),e.loading=!1,e.error=!0)}))},isInSameView:function(t){return t===this.token},isLargeLongImage:function(image){var t=Object(r.h)(),e=t.width,n=t.height,o=n/e,c=image.height/image.width,l=c>1&&c>o;return(image.width>e||image.height>n)&&l},isLargeImage:function(image){var t=Object(r.h)(),e=t.width;return t.height<image.height||e<image.width},lockScroll:function(){var t=this.$getBean("eventBus");t.emit(t.eventType.LOCK_ROOT_CONTAINER_SCROLL)},unlockScroll:function(){var t=this.$getBean("eventBus");t.emit(t.eventType.UNLOCK_ROOT_CONTAINER_SCROLL)},initScrollEventListener:function(){var t=this,e=this.$getBean("eventBus"),n=e.eventType.ROOT_CONTAINER_SCROLL;e.onVmLife(this,n,(function(){t.src&&!t.isZoomMode&&t.close()}))},adjustOffset:function(){var t=Object(r.h)(),e=t.width,n=t.height,rect=this.$refs.image.getBoundingClientRect();rect.width<e?this.offsetX=0:rect.left>0?this.offsetX-=rect.left:rect.left+rect.width<e&&(this.offsetX+=e-rect.left-rect.width),rect.height<n?this.offsetY=0:rect.top>0?this.offsetY-=rect.top:rect.top+rect.height<n&&(this.offsetY+=n-rect.top-rect.height)},initGesture:function(){var t=this;this.$nextTick((function(){t.finger=new m.a(t.$refs.imageBox,{singleTap:function(e){t.isZoomMode?(t.isZoomMode=!1,t.offsetX=0,t.offsetY=0):t.close()},doubleTap:function(e){t.canZoom&&(t.isZoomMode=!t.isZoomMode,t.isZoomMode?t.lockScroll():(t.unlockScroll(),t.offsetX=0,t.offsetY=0))},pressMove:function(e){var n=e.deltaX,r=e.deltaY;t.isZoomMode&&(t.offsetX+=n,t.offsetY+=r)},touchEnd:function(){t.isZoomMode&&window.setTimeout((function(){t.adjustOffset()}),100)}})}))},destroyGesture:function(){this.finger&&this.finger.destroy()}},mounted:function(){this.initScrollEventListener()}},_=(n(922),Object(d.a)(y,(function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("transition",{attrs:{name:"fade"}},[t.src?r("div",{staticClass:"image-viewer mobile",class:{loading:t.loading}},[r("div",{ref:"imageBox",staticClass:"image-box",class:{"large-long":t.isLargeLongMode},style:{backgroundColor:t.backgroundColor}},[t.error?r("img",{staticClass:"image error",attrs:{src:n(876)}}):r("img",{ref:"image",staticClass:"image",class:{zoom:t.isZoomMode},style:{transform:"translate3d("+t.offsetX+"px, "+t.offsetY+"px, 0)"},attrs:{src:t.src}})])]):t._e()])}),[],!1,null,"93a27598",null).exports),w=n(271);var j={components:{Desktop:f,Mobile:_},props:["selector","backgroundColor","margin","full"],data:function(){return{component:null}},methods:{attachContainer:function(t){this.container!==t&&(this.removeEventListener(),this.addEventListener(t),this.container=t)},onClick:function(t){var e,n=t.target;if(this.isMatched(n)){var r=(e=n).getAttribute("data-src")||e.getAttribute("src")||function(t){var e=(t.style.backgroundImage||"").match(/url\("?'?(.+?)"?'?\)/i);return e&&e[1]}(e);if(r){var o=Object(w.d)(r),rect=n.getBoundingClientRect();this.$refs.viewer.show({thumbUrl:r,originalUrl:o,rect:rect})}}},addEventListener:function(t){var e=this;t.__removeIamgeViewListener=Object(r.k)(t,"click",(function(t){e.onClick(t)}),!0)},removeEventListener:function(){this.container&&this.container.__removeIamgeViewListener()},isMatched:function(t){return!t.classList.contains("equation")&&!this.$el.contains(t)&&Object(r.j)(t,this.selector||"img")}},mounted:function(){this.component=this.$device.isMobile?"Mobile":"Desktop"},beforeDestroy:function(){this.removeEventListener()}},C=(n(923),Object(d.a)(j,(function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"image-viewer-box"},[e(this.component,{ref:"viewer",tag:"component",attrs:{selector:this.selector,"background-color":this.backgroundColor,margin:this.margin,full:this.full}})],1)}),[],!1,null,"5ca9a68f",null));e.a=C.exports},876:function(t,e,n){t.exports=n.p+"img/image-error.3338abe.png"},877:function(t,e,n){},878:function(t,e,n){},879:function(t,e,n){},881:function(t,e,n){"use strict";n.d(e,"d",(function(){return o})),n.d(e,"g",(function(){return c})),n.d(e,"b",(function(){return f})),n.d(e,"f",(function(){return h})),n.d(e,"a",(function(){return m})),n.d(e,"c",(function(){return v})),n.d(e,"e",(function(){return y}));n(45);var r=n(179);function o(t){t.preventDefault(),window.getSelection().deleteFromDocument&&window.getSelection().deleteFromDocument();try{var text=window.clipboardData.getData("Text");try{window.getSelection().createRange().pasteHTML(text)}catch(t){var e=document.createTextNode(text);window.getSelection().getRangeAt(0).insertNode(e)}}catch(e){var n=(t.originalEvent||t).clipboardData.getData("text/plain");document.execCommand("insertText",!1,n)}}function c(t){if(document.createRange){var e=document.createRange();e.selectNodeContents(t),e.collapse(!1);var n=window.getSelection();n.removeAllRanges(),n.addRange(e)}else if(document.selection){var r=document.body.createTextRange();r.moveToElementText(t),r.collapse(!1),r.select()}}function l(){return"function"==typeof document.createRange||"function"==typeof window.getSelection}function d(){var t=null,e=null;return l?(e=document.getSelection()).getRangeAt&&e.rangeCount&&(t=document.getSelection().getRangeAt(0)):t=document.selection.createRange(),t}function f(html){var text=html;return text=text.replace(/<\s*script[^>]*>[\s\S]*?<\/script>/gim,"").replace(/<\s*style[^>]*>[\s\S]*?<\/style>/gim,"").replace(/<!--.*?-->/gim,"").replace(/<!DOCTYPE.*?>/gi,"").replace(/<\/div>/gi,"").replace(/(<br><div>|<div>|<br>)/gi,"\n").replace(/&nbsp;/gi,"").replace(/<.*?>/gi,"").replace(/&lt;/gi,"<").replace(/&amp;/gi,"&").replace(/&gt;/gi,">").replace(/&#39;/gi,"'").replace(/&quot;/g,'"')}function h(t,e){var n="",r=t.clipboardData.items;if(r){for(var i=0;i<r.length;i++)-1!=r[i].type.indexOf("image")&&(n=r[i].getAsFile());"function"==typeof e&&n&&e(n)}}function m(t){window.getSelection().deleteFromDocument&&window.getSelection().deleteFromDocument();try{return window.clipboardData.getData("Text")}catch(e){return(t.originalEvent||t).clipboardData.getData("text/plain")}}function v(t,html){var e,n,r=d();if(r&&function t(e,n){return!(!n||!e)&&(e===n||t(e,n.parentElement))}(t,r.startContainer)||c(t),t.focus(),window.getSelection){if((e=window.getSelection()).getRangeAt&&e.rangeCount){(n=e.getRangeAt(0)).deleteContents(),(t=document.createElement("div")).innerHTML=html;for(var o,l,f=document.createDocumentFragment();o=t.firstChild;)l=f.appendChild(o);n.insertNode(f),l&&((n=n.cloneRange()).setStartAfter(l),n.collapse(!0),e.removeAllRanges(),e.addRange(n))}}else document.selection&&"Control"!=document.selection.type&&document.selection.createRange().pasteHTML(html)}function y(t){var e=d(),n=e.startContainer;if(3===n.nodeType){for(var text=n.nodeValue,o=e.startOffset-1,c=e.endOffset-1,f=[];o>=0;){if("["===text[o]){f[0]=o;break}o--}for(;c<=text.length-1;){if("]"===text[c]){f[1]=c;break}c++}if(void 0!==f[0]&&void 0!==f[1]){var h=text.slice(f[0],f[1]+1),m=Object(r.c)(h);if(m){var y=document.createRange();y.setStart(n,f[0]),y.setEnd(n,f[1]+1),function(t){if(t){var e=null,n=null;l?((n=document.getSelection()).removeAllRanges(),n.addRange(t)):((e=document.selection.createRange()).setEndPoint("EndToEnd",t),0===t.text.length?e.collapse(!1):e.setEndPoint("StartToStart",t),e.select())}}(y),v(t,m)}}}}},883:function(t,e,n){"use strict";n.d(e,"a",(function(){return c}));n(11),n(54),n(6),n(22);var r=n(5),o=n(1);function c(t,e){return l.apply(this,arguments)}function l(){return(l=Object(r.a)(regeneratorRuntime.mark((function t(e,o){var c,l,h,m;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,n.e(14).then(n.t.bind(null,1007,7));case 3:return c=t.sent,l=c.default,t.next=7,d();case 7:return h=t.sent,m=function(t){return new Promise((function(n,r){var o=new l({userId:e,appId:2608,imageConfig:{serviceId:"k3u1fbpfcp"}}),c=o.addFile({file:t,stsToken:h,type:"image"});o.start(c),o.on("complete",(function(t){n(t.uploadResult)})),o.on("error",(function(t){console.log(t.extra,"bytedUploader Error"),r(t.extra)}))}))},t.next=11,Promise.all(o.map(function(){var t=Object(r.a)(regeneratorRuntime.mark((function t(e){var n,r,o,c,l;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,m(e);case 2:return n=t.sent,r=n.ImageHeight,o=n.ImageWidth,c=n.Uri,t.next=8,f(c);case 8:return l=t.sent,t.abrupt("return",{ImageHeight:r,ImageWidth:o,Uri:c,Url:l.data.main_url});case 10:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()));case 11:return t.abrupt("return",t.sent);case 14:throw t.prev=14,t.t0=t.catch(0),new Error("上传图片失败");case 17:case"end":return t.stop()}}),t,null,[[0,14]])})))).apply(this,arguments)}function d(){return Object(o.e)({url:"/imagex/gen_token",query:{client:"web"}}).then((function(t){return t.data.token}))}function f(t){return Object(o.e)({url:"/imagex/get_img_url",query:{uri:t}})}},884:function(t,e,n){"use strict";var r,o;n.d(e,"d",(function(){return r})),n.d(e,"e",(function(){return o})),n.d(e,"c",(function(){return l})),n.d(e,"b",(function(){return d})),n.d(e,"a",(function(){return f})),n.d(e,"f",(function(){return h})),function(t){t.UNPLAY="unplay",t.PLAYING="playing",t.PAUSED="paused",t.PLAYED="played"}(r||(r={})),function(t){t.detailRoute="bytetechVideoDetail",t.singleDetailRoute="bytetechVideoSingleDetail"}(o||(o={}));var c,l={routeName:"courseIndex",videoCategory:"bytetech",vipBookType:"vip"},d={title:"掘金课程是什么？",desc:"一个小篇幅、高浓度、成体系、有收益的技术学习平台",spreadQrcode:"https://z.juejin.cn/L54A"};!function(t){t.PutOnTimeSort="1",t.SaleCountDesc="7",t.PriceAsc="8",t.PriceDesc="9",t.DefaultSort="10"}(c||(c={}));var f={10:"recommend",7:"hot",1:"new",9:"price_h2l",8:"price_l2h"},h={discussTitle:"加入掘金会员，查看并参与课程讨论，字节内部课免费学",resouceTitle:"加入掘金会员，即可查看学习资料，字节内部课免费学"}},886:function(t,e,n){"use strict";n.d(e,"b",(function(){return r})),n.d(e,"c",(function(){return o})),n.d(e,"d",(function(){return c})),n.d(e,"e",(function(){return l})),n.d(e,"a",(function(){return d}));var r=["jpg","jpeg","png","gif","webp"],o=5242880,c=9,l=1e3,d=["jpg","png","gif"]},887:function(t,e,n){"use strict";n.d(e,"c",(function(){return o})),n.d(e,"a",(function(){return c})),n.d(e,"b",(function(){return l}));n(43),n(53);var r=n(17),o={left:[{id:0,title:"综合"},{id:2,title:"文章"},{id:12,title:"课程"},{id:9,title:"标签"},{id:1,title:"用户"}],right:[{id:0,title:"时间不限"},{id:1,title:"最近一天"},{id:2,title:"最近一周"},{id:3,title:"最近三月"}]},c=function(){return document.referrer.includes("/search")},l=function(){if(!c())return{};try{var t=sessionStorage.getItem("SEARCH_PARAMS"),e=JSON.parse(t),n=e.query,o=e.search_attached_info,l=void 0===o?"":o,d=e.rank,f=e.display_search_type;return{query:n,detail_from:r.f.Search,search_attached_info:l,rank:d,display_search_type:f}}catch(t){return{}}}},888:function(t,e,n){},889:function(t,e,n){"use strict";n.d(e,"a",(function(){return o}));n(39),n(23),n(24),n(426),n(6);var r=[{name:"jpg",regx:/^ffd8ff/},{name:"gif",regx:/^474946/},{name:"png",regx:/89504e47/},{name:"webp",regx:/57454250/},{name:"bmp",regx:/^424d/},{name:"any",regx:/./}];function o(t,e){return function(t){return new Promise((function(e,n){var r=new FileReader;r.onload=function(t){return e(t.target.result)},r.onerror=function(t){return n(t)},r.readAsArrayBuffer(t.slice(0,64))}))}(t).then(c).then(l.bind(null,e))}function c(t){return Array.prototype.slice.call(new Uint8Array(t)).reduce((function(t,data){return t+data.toString(16)}),"")}function l(t,header){for(var i=0;i<r.length;i++)if(r[i].regx.test(header))return-1!==t.indexOf(r[i].name);return!1}},890:function(t,e,n){t.exports=n.p+"c5c64e06a56896da43c1d084d2482cf3.svg"},891:function(t,e,n){t.exports=n.p+"bd960fe696b2c2b82cea3c0e2e2f2aae.svg"},892:function(t,e,n){t.exports=n.p+"062856d97fc330530a3a64c01d915edc.svg"},893:function(t,e,n){t.exports=n.p+"img/loading.b144729.png"},894:function(t,e,n){t.exports=n.p+"img/loading-light.e96acb8.png"},895:function(t,e,n){"use strict";n(870)},896:function(t,e,n){n(16),n(15),n(11),n(6),n(14);var r=n(40),o=n(42);function c(object,t){var e=Object.keys(object);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(object);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(object,t).enumerable}))),e.push.apply(e,n)}return e}t.exports={functional:!0,render:function(t,e){var n=e._c,data=(e._v,e.data),l=e.children,d=void 0===l?[]:l,f=data.class,h=data.staticClass,style=data.style,m=data.staticStyle,v=data.attrs,y=void 0===v?{}:v,_=o(data,["class","staticClass","style","staticStyle","attrs"]);return n("svg",function(t){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?c(Object(source),!0).forEach((function(e){r(t,e,source[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(source)):c(Object(source)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(source,e))}))}return t}({class:[f,h],style:[style,m],attrs:Object.assign({width:"16",height:"16",viewBox:"0 0 16 16",fill:"none",xmlns:"http://www.w3.org/2000/svg"},y)},_),d.concat([n("path",{attrs:{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M8.56162 2.16903C8.66569 2.09612 8.78195 2.06075 8.88247 2.09071C8.97653 2.11874 9.23851 2.25868 9.50988 2.9675C9.64419 3.31832 9.9356 4.24191 9.42155 6.05383C9.29751 6.49103 9.61394 6.95254 10.0926 6.95922L13.492 7.00667L13.492 7.00672H13.4991C13.6049 7.00672 13.7228 7.01937 13.8134 7.05849C13.8544 7.07622 13.8815 7.0959 13.8999 7.11552C13.9166 7.13326 13.9368 7.16198 13.9515 7.21587C13.9848 7.33735 14.0228 7.74663 13.9473 8.42213C13.874 9.07808 13.698 9.9443 13.341 10.9593C13.0424 11.8083 12.6601 12.5287 12.0684 13.4874C12.0558 13.5047 12.0462 13.5192 12.0418 13.526L12.0404 13.528C12.0292 13.5449 12.0242 13.5526 12.018 13.5613C12.0076 13.5759 12.0018 13.5815 11.9983 13.5845C11.996 13.5865 11.9908 13.5907 11.9777 13.5954C11.9638 13.6004 11.9311 13.6095 11.8706 13.6095H5.56278L5.56373 6.58441C5.87126 6.41852 6.19881 6.20079 6.54112 5.8401C6.93883 5.42103 7.33789 4.82891 7.76254 3.94134C7.84974 3.75908 7.91745 3.55913 7.97574 3.37714C7.99264 3.32437 8.0087 3.2733 8.02438 3.22344L8.02439 3.2234C8.066 3.09109 8.10495 2.96727 8.14985 2.84264C8.2758 2.49303 8.40247 2.28052 8.56162 2.16903ZM10.452 2.6068C10.1323 1.7716 9.70208 1.28228 9.17063 1.12389C8.64564 0.967414 8.20308 1.18842 7.98278 1.34276C7.55169 1.64476 7.33837 2.11859 7.20071 2.50071C7.14817 2.64656 7.10002 2.79968 7.05661 2.93775C7.0422 2.98357 7.02832 3.02773 7.01496 3.06941C6.95791 3.24755 6.90763 3.39066 6.85248 3.50594C6.45683 4.33291 6.1121 4.82661 5.80935 5.14563C5.51322 5.45766 5.23983 5.62142 4.9473 5.76772C4.71095 5.88592 4.55494 6.12857 4.55491 6.40111L4.55388 13.912C4.55383 14.3021 4.87002 14.6183 5.26008 14.6183H11.8706C12.2097 14.6183 12.4663 14.5109 12.6519 14.3531C12.7387 14.2792 12.7988 14.2038 12.8387 14.1479C12.8556 14.1243 12.8704 14.102 12.8786 14.0895L12.8813 14.0854L12.8826 14.0835L12.8955 14.068L12.9142 14.0377C13.5304 13.0409 13.9578 12.2465 14.2927 11.294C14.6745 10.2085 14.8679 9.26762 14.9499 8.53421C15.0297 7.82035 15.009 7.25796 14.9246 6.94965C14.805 6.51236 14.5104 6.26063 14.2134 6.13235C13.9385 6.01358 13.661 5.9981 13.5028 5.99787L10.4907 5.95583C10.9296 4.15742 10.648 3.11853 10.452 2.6068ZM1.0008 6.46734C0.981809 6.06471 1.30313 5.72787 1.70621 5.72787H2.75264C3.14266 5.72787 3.45883 6.04405 3.45883 6.43407V13.9437C3.45883 14.3337 3.14266 14.6499 2.75264 14.6499H2.06044C1.68335 14.6499 1.37279 14.3536 1.35502 13.977L1.0008 6.46734Z",fill:"#8A919F"}})]))}}},897:function(t,e,n){n(16),n(15),n(11),n(6),n(14);var r=n(40),o=n(42);function c(object,t){var e=Object.keys(object);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(object);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(object,t).enumerable}))),e.push.apply(e,n)}return e}t.exports={functional:!0,render:function(t,e){var n=e._c,data=(e._v,e.data),l=e.children,d=void 0===l?[]:l,f=data.class,h=data.staticClass,style=data.style,m=data.staticStyle,v=data.attrs,y=void 0===v?{}:v,_=o(data,["class","staticClass","style","staticStyle","attrs"]);return n("svg",function(t){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?c(Object(source),!0).forEach((function(e){r(t,e,source[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(source)):c(Object(source)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(source,e))}))}return t}({class:[f,h],style:[style,m],attrs:Object.assign({width:"16",height:"16",viewBox:"0 0 16 16",fill:"none",xmlns:"http://www.w3.org/2000/svg"},y)},_),d.concat([n("path",{attrs:{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M10.452 2.6068C10.1323 1.7716 9.70208 1.28228 9.17063 1.12389C8.64564 0.967414 8.20308 1.18842 7.98278 1.34276C7.55169 1.64476 7.33837 2.11859 7.20071 2.50071C7.14817 2.64655 7.10003 2.79966 7.05661 2.93773L7.05661 2.93775C7.0422 2.98357 7.02832 3.02773 7.01496 3.06941C6.95791 3.24755 6.90763 3.39066 6.85248 3.50594C6.45683 4.33291 6.1121 4.82661 5.80935 5.14563C5.51322 5.45766 5.23983 5.62142 4.9473 5.76772C4.71095 5.88592 4.55494 6.12857 4.55491 6.40111L4.55388 13.912C4.55383 14.3021 4.87002 14.6183 5.26008 14.6183H11.8706C12.2097 14.6183 12.4663 14.5109 12.6519 14.3531C12.7388 14.2792 12.7988 14.2038 12.8387 14.1479C12.8556 14.1243 12.8704 14.102 12.8786 14.0895L12.8813 14.0854L12.8826 14.0835L12.8955 14.068L12.9142 14.0377C13.5304 13.0409 13.9578 12.2465 14.2927 11.294C14.6745 10.2085 14.8679 9.26762 14.9499 8.53421C15.0297 7.82035 15.009 7.25796 14.9246 6.94965C14.805 6.51236 14.5104 6.26063 14.2134 6.13235C13.9385 6.01358 13.661 5.9981 13.5028 5.99787L10.4907 5.95583C10.9296 4.15742 10.648 3.11853 10.452 2.6068ZM1.0008 6.46734C0.981809 6.06471 1.30313 5.72787 1.70621 5.72787H2.75264C3.14266 5.72787 3.45883 6.04405 3.45883 6.43407V13.9437C3.45883 14.3337 3.14266 14.6499 2.75264 14.6499H2.06044C1.68335 14.6499 1.37279 14.3536 1.35502 13.977L1.0008 6.46734Z",fill:"#1E80FF"}})]))}}},898:function(t,e,n){n(16),n(15),n(11),n(6),n(14);var r=n(40),o=n(42);function c(object,t){var e=Object.keys(object);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(object);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(object,t).enumerable}))),e.push.apply(e,n)}return e}t.exports={functional:!0,render:function(t,e){var n=e._c,data=(e._v,e.data),l=e.children,d=void 0===l?[]:l,f=data.class,h=data.staticClass,style=data.style,m=data.staticStyle,v=data.attrs,y=void 0===v?{}:v,_=o(data,["class","staticClass","style","staticStyle","attrs"]);return n("svg",function(t){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?c(Object(source),!0).forEach((function(e){r(t,e,source[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(source)):c(Object(source)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(source,e))}))}return t}({class:[f,h],style:[style,m],attrs:Object.assign({width:"16",height:"16",viewBox:"0 0 16 16",fill:"#86909c",xmlns:"http://www.w3.org/2000/svg"},y)},_),d.concat([n("path",{attrs:{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M14 1C14.3682 1 14.6667 1.29848 14.6667 1.66667V12.3333C14.6667 12.7015 14.3682 13 14 13H10.5924L8.44602 14.932C8.19248 15.1601 7.8076 15.1601 7.55406 14.932L5.40737 13H2.00004C1.63185 13 1.33337 12.7015 1.33337 12.3333V1.66667C1.33337 1.29848 1.63185 1 2.00004 1H14ZM13.3334 2.33333H2.6667V11.6667H5.919L8 13.5395L10.0807 11.6667H13.3334V2.33333ZM11.3334 6.66667C11.3334 6.48257 11.1841 6.33333 11 6.33333H5.00003C4.81594 6.33333 4.6667 6.48257 4.6667 6.66667V7.33333C4.6667 7.51743 4.81594 7.66667 5.00003 7.66667H11C11.1841 7.66667 11.3334 7.51743 11.3334 7.33333V6.66667Z"}})]))}}},899:function(t,e,n){},900:function(t,e,n){n(16),n(15),n(11),n(6),n(14);var r=n(40),o=n(42);function c(object,t){var e=Object.keys(object);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(object);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(object,t).enumerable}))),e.push.apply(e,n)}return e}t.exports={functional:!0,render:function(t,e){var n=e._c,data=(e._v,e.data),l=e.children,d=void 0===l?[]:l,f=data.class,h=data.staticClass,style=data.style,m=data.staticStyle,v=data.attrs,y=void 0===v?{}:v,_=o(data,["class","staticClass","style","staticStyle","attrs"]);return n("svg",function(t){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?c(Object(source),!0).forEach((function(e){r(t,e,source[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(source)):c(Object(source)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(source,e))}))}return t}({class:[f,h],style:[style,m],attrs:Object.assign({width:"16",height:"16",viewBox:"0 0 16 16",fill:"none",xmlns:"http://www.w3.org/2000/svg"},y)},_),d.concat([n("path",{attrs:{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M8 10.5759L13.4212 5.15476C13.5513 5.02459 13.7624 5.02459 13.8926 5.15476L14.364 5.62616C14.4941 5.75634 14.4941 5.96739 14.364 6.09757L8.4714 11.9901C8.21106 12.2505 7.78894 12.2505 7.5286 11.9901L1.63604 6.09757C1.50586 5.96739 1.50586 5.75634 1.63604 5.62616L2.10744 5.15476C2.23762 5.02459 2.44867 5.02459 2.57885 5.15476L8 10.5759Z",fill:"#4E5969"}})]))}}},901:function(t,e,n){},902:function(t,e,n){},903:function(t,e,n){},904:function(t,e,n){},905:function(t,e,n){},908:function(t,e,n){},909:function(t,e,n){},913:function(t,e,n){},918:function(t,e,n){"use strict";function r(t,e){if((10==t.keyCode||13==t.keyCode)&&(t.ctrlKey||t.metaKey))return e()}n.d(e,"a",(function(){return r}))},921:function(t,e,n){"use strict";n(877)},922:function(t,e,n){"use strict";n(878)},923:function(t,e,n){"use strict";n(879)},928:function(t,e,n){},929:function(t,e,n){"use strict";var r=n(8),o=n(965),c=n.n(o),l=Object(r.d)({components:{EmotionIcon:c.a,Picker:function(){return n.e(49).then(n.bind(null,4463))}},emits:["selectEmoji"],setup:function(t,e){var n=e.root,o=e.emit,c=Object(r.r)(!1);var l=Object(r.r)(!1),d=Object(r.x)(c,(function(){l.value=!0,d()}));return{once:l,visible:c,toggleShow:function(){var t=n.$store.getters.USER;return t?t.isBindedPhone?void(c.value=!c.value):n.$requestBindPhoneNumber():n.$requestLogin()},hide:function(){c.value=!1},handleChange:function(t){o("selectEmoji",t.source)}}}}),d=(n(966),n(27)),component=Object(d.a)(l,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{directives:[{name:"outer-click",rawName:"v-outer-click",value:t.hide,expression:"hide"}],staticClass:"emoji-container"},[n("div",{staticClass:"emoji-box",class:t.visible&&"active",on:{click:t.toggleShow}},[n("EmotionIcon",{staticClass:"icon"}),t._v(" "),n("span",[t._v("表情")])],1),t._v(" "),n("transition",{attrs:{name:"fade"}},[t.once?n("Picker",{directives:[{name:"show",rawName:"v-show",value:t.visible,expression:"visible"}],on:{change:t.handleChange}}):t._e()],1)],1)}),[],!1,null,"9fe533ba",null);e.a=component.exports},930:function(t,e,n){"use strict";var r={props:["user"],computed:{isVisible:function(){if(this.user){var t=this.user.isBindedPhone;return this.user&&!t}return!1}},methods:{bindPhone:function(){this.$requestBindPhoneNumber()}}},o=(n(967),n(27)),component=Object(o.a)(r,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"auth-card"},[n("transition",{attrs:{name:"fade"}},[t.isVisible?n("div",{staticClass:"auth-cover"},[n("span",{staticClass:"hint"}),t._v("\n      您需要\n      "),n("a",{on:{click:function(e){return e.stopPropagation(),e.preventDefault(),t.bindPhone(e)}}},[t._v("绑定手机号")]),t._v("\n      后才可在社区内发布内容。\n    ")]):t._e()]),t._v(" "),t._t("default")],2)}),[],!1,null,"7c7c7498",null);e.a=component.exports},934:function(t,e,n){"use strict";n(1006);var r=n(27),component=Object(r.a)({},(function(){var t=this.$createElement;this._self._c;return this._m(0)}),[function(){var t=this.$createElement,e=this._self._c||t;return e("span",{staticClass:"container"},[e("em",{staticClass:"triangle"})])}],!1,null,"68da8972",null);e.a=component.exports},935:function(t,e,n){n(16),n(15),n(11),n(6),n(14);var r=n(40),o=n(42);function c(object,t){var e=Object.keys(object);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(object);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(object,t).enumerable}))),e.push.apply(e,n)}return e}t.exports={functional:!0,render:function(t,e){var n=e._c,data=(e._v,e.data),l=e.children,d=void 0===l?[]:l,f=data.class,h=data.staticClass,style=data.style,m=data.staticStyle,v=data.attrs,y=void 0===v?{}:v,_=o(data,["class","staticClass","style","staticStyle","attrs"]);return n("svg",function(t){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?c(Object(source),!0).forEach((function(e){r(t,e,source[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(source)):c(Object(source)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(source,e))}))}return t}({class:[f,h],style:[style,m],attrs:Object.assign({width:"16",height:"16",viewBox:"0 0 16 16",fill:"none",xmlns:"http://www.w3.org/2000/svg"},y)},_),d.concat([n("path",{attrs:{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M14 1.3335C14.3514 1.3335 14.6394 1.60546 14.6648 1.95041L14.6666 2.00016V14.0002C14.6666 14.3516 14.3947 14.6396 14.0497 14.665L14 14.6668H1.99998C1.64853 14.6668 1.36059 14.3949 1.33514 14.0499L1.33331 14.0002V2.00016C1.33331 1.64871 1.60527 1.36077 1.95023 1.33532L1.99998 1.3335H14ZM13.3333 2.66618H2.66664V13.3328H13.3333V2.66618ZM11.9219 6.7879C11.9719 6.83791 12 6.90574 12 6.97647V11.7993C12 11.9098 11.9104 11.9993 11.8 11.9993H6.81615C6.7975 11.9993 6.77945 11.9968 6.76232 11.992L3.91042 11.9847C3.79996 11.9844 3.71063 11.8947 3.7109 11.7842C3.71102 11.7313 3.73209 11.6807 3.76948 11.6433L6.52468 8.88807C6.62882 8.78393 6.79766 8.78393 6.9018 8.88807L8.17297 10.1593L11.5447 6.7879C11.6489 6.68376 11.8177 6.68376 11.9219 6.7879ZM5.99997 3.99951V5.99951H3.99997V3.99951H5.99997Z"}})]))}}},936:function(t,e,n){"use strict";n(888)},938:function(t,e,n){"use strict";n(22);var r=n(5),o=n(67),c=n(48),l=n(875),d=n(857),f=n(177),h=n(858),m=n(871),v=n(181),y=n(868),_=n(854),w=n(58),j=n(273),C=n(179),O=n(896),k=n.n(O),x=n(897),S=n.n(x),P=n(898),L=n.n(P),I=n(178),A={components:{CommentForm:m.a,UserPopover:y.default,Avatar:f.a,Thumb:h.a,LikeIcon:k.a,LikeActiveIcon:S.a,CommentIcon:L.a},props:["replyList","subject","parent","reply","removable","user","mode","isHiddenReply","jjHelperItemId","jjHelperItemType"],data:function(){return{likeLock:Object(d.a)(),isReplyFormVisible:!1,isShowAll:!1,isLikeLoading:!1,replyCount:this.reply.reply_info.reply_count,extend:!1}},computed:{isMobile:function(){return this.$device.isMobile},parentReply:function(){var t,content=null===(t=this.reply.parent_reply)||void 0===t?void 0:t.reply_content;return this.hasParentRemove&&content?"该评论已被删除":content?Object(j.b)(content):""},hasParentRemove:function(){var t;return 0===(null===(t=this.reply.parent_reply)||void 0===t?void 0:t.reply_status)},currentUser:function(){var t=this.$store.getters;return"USER"in t?t.USER:null},removableReply:function(){return this.removable||this.isCurrentUsersReply()},hasAuthorBadge:function(){return this.subject.user_id===this.reply.user_info.user_id},imageUrl:function(){return this.reply.reply_info.reply_pics[0]&&this.reply.reply_info.reply_pics[0].pic_url},limitedContent:function(){return Object(v.d)(this.reply.reply_info.reply_content,{maxLineCount:this.maxLineCount,perLineLength:this.perLineLength,escapeReg:C.a})},collapsed:function(){return this.limitedContent.length<this.reply.reply_info.reply_content.length&&!this.isShowAll&&this.reply.reply_info.reply_content.length-this.limitedContent.length>this.perLineLength},replyPlaceholder:function(){return"回复".concat(this.reply.user_info.user_name,"...")},perLineLength:function(){return this.$device.isMobile?30:40},maxLineCount:function(){return this.$device.isMobile?4:6},isAutoFocus:function(){return!this.user||this.user.isBindedPhone}},methods:{parseUrlEmoji:j.b,onSyncCommentNum:function(t){"add"===t.type&&(this.replyCount=this.replyCount+(t.count||1)),"sub"===t.type&&(this.replyCount=this.replyCount-(t.count||1)),this.$emit("syncCommentNum",t)},isCurrentUsersReply:function(){return this.currentUser&&this.currentUser.user_id===this.reply.user_info.user_id},toggleLike:function(){var t=this;return this.currentUser?this.currentUser.isBindedPhone?void(this.isLikeLoading||this.$ensureAuthorized().then((function(){t.isLikeLoading=!0,t.reply.user_interact.is_digg?Object(w.c)({itemId:t.reply.reply_info.reply_id,type:6}).then((function(e){t.isLikeLoading=!1,0!==e.err_no?t.$error(e.err_msg):(t.reply.reply_info.digg_count--,t.reply.user_interact.is_digg=!t.reply.user_interact.is_digg)})):(Object(w.b)({itemId:t.reply.reply_info.reply_id,type:6}).then((function(e){t.isLikeLoading=!1,0!==e.err_no?t.$error(e.err_msg):(t.reply.reply_info.digg_count++,t.reply.user_interact.is_digg=!t.reply.user_interact.is_digg)})),t.$TEA("like_action",{like_comment_mode:t.mode}))}))):this.$requestBindPhoneNumber(I.b.interact):this.$requestLogin()},onReplyFormEmptyBlur:function(){var t=this;window.setTimeout((function(){t.isReplyFormVisible=!1}))},onSubmitted:function(){this.isReplyFormVisible=!1,this.$emit("submitted")},deleteComment:function(t){var e=this;this.$ensureAuthorized("login").then((function(){window.confirm("确定删除这条评论吗？")&&Object(_.b)({comment_id:t.reply_info.reply_comment_id,reply_id:t.reply_info.reply_id}).then((function(){e.replyList.some((function(n,r){n.reply_info.reply_id===t.reply_info.reply_id&&e.replyList.splice(r,1)})),e.$alertMsg("删除成功"),e.$emit("syncCommentNum",{type:"sub"})})).catch((function(){e.$alertMsg("删除失败，刷新后重试")}))}))}},mounted:function(){var t=this.$refs.content;if(t){var e=t.clientHeight;t.scrollHeight>e&&(this.extend=!0)}}},E=(n(946),n(27)),H=Object(E.a)(A,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"subcomment"},[n("UserPopover",{attrs:{"user-id":t.reply.user_info.user_id,"show-jscore-level":!0}},[n("app-link",{staticClass:"user-link",attrs:{to:t.$userRoute(t.reply.user_info.user_id),blank:!0}},[n("Avatar",{staticClass:"avatar",attrs:{user:t.reply.user_info,size:48}})],1)],1),t._v(" "),n("div",{staticClass:"content-box"},[n("div",{staticClass:"content-wrapper"},[n("span",{staticClass:"delete",class:{removable:t.removableReply},on:{click:function(e){return t.deleteComment(t.reply)}}},[t._v("\n        删除\n      ")]),t._v(" "),n("div",{staticClass:"user-box"},[n("UserPopover",{attrs:{"user-id":t.reply.user_info.user_id,"show-jscore-level":!0}},[n("username",{staticClass:"username",attrs:{user:t.reply.user_info,universal:!0,"show-jpower-level":!1}})],1),t._v(" "),t.hasAuthorBadge&&!t.isMobile?n("span",{staticClass:"author-badge-text"},[t._v("\n          （作者）\n        ")]):t._e(),t._v(" "),t.reply.reply_user&&t.reply.reply_user.user_name&&!t.isMobile?n("div",{staticClass:"rely-box"},[n("span",[t._v("回复")]),t._v(" "),n("UserPopover",{attrs:{"user-id":t.reply.reply_user.user_id,"show-jscore-level":!0}},[n("app-link",{staticClass:"repliedname",attrs:{to:t.$userRoute(t.reply.reply_user)}},[t._v("\n              "+t._s(t.reply.reply_user.user_name)+"\n            ")])],1)],1):t._e(),t._v(" "),n("span",{staticClass:"divide"}),t._v(" "),n("time",{staticClass:"time",attrs:{datetime:t._f("iso")(1e3*t.reply.reply_info.ctime),title:new Date(1e3*t.reply.reply_info.ctime)}},[t._v("\n          "+t._s(t._f("relative")(1e3*t.reply.reply_info.ctime))+"\n        ")])],1),t._v(" "),n("div",{ref:"content",staticClass:"content",class:{extend:t.isShowAll,hasimage:!!t.imageUrl},domProps:{innerHTML:t._s(t.parseUrlEmoji(t.reply.reply_info.reply_content))}}),t._v(" "),n("div",{directives:[{name:"show",rawName:"v-show",value:t.extend&&!t.isShowAll,expression:"extend && !isShowAll"}],staticClass:"limit-btn",on:{click:function(e){t.isShowAll=!0}}},[t._v("\n        展开\n      ")]),t._v(" "),n("div",{directives:[{name:"show",rawName:"v-show",value:t.extend&&t.isShowAll,expression:"extend && isShowAll"}],staticClass:"limit-btn",on:{click:function(e){t.isShowAll=!1}}},[t._v("\n        收起\n      ")]),t._v(" "),t.imageUrl?n("Thumb",{staticClass:"viewable",attrs:{"data-src":t.imageUrl,url:t.imageUrl,width:160,height:160,format:"jpg"}}):t._e(),t._v(" "),t.parentReply?n("div",{staticClass:"parent-wrapper"},[t.hasParentRemove?t._e():n("div",[t._v("“")]),t._v(" "),n("div",{staticClass:"parent-content",domProps:{innerHTML:t._s(t.parentReply)}}),t._v(" "),t.hasParentRemove?t._e():n("div",[t._v("”")])]):t._e(),t._v(" "),n("div",{staticClass:"action-box"},[n("div",{staticClass:"item dig-item",class:t.reply.user_interact.is_digg&&"active",on:{click:t.toggleLike}},[t.reply.user_interact.is_digg?n("LikeActiveIcon"):n("LikeIcon"),t._v("\n          "+t._s(t.reply.reply_info.digg_count||"点赞")+"\n        ")],1),t._v(" "),t.isHiddenReply?t._e():n("div",{staticClass:"item",class:t.isReplyFormVisible&&"active",on:{click:function(e){t.isReplyFormVisible=!t.isReplyFormVisible}}},[n("CommentIcon"),t._v("\n          "+t._s(t.isReplyFormVisible?"取消回复":t.replyCount||"回复")+"\n        ")],1)])],1),t._v(" "),t.isReplyFormVisible?n("CommentForm",{staticClass:"replyform",attrs:{subject:t.subject,"jj-helper-item-id":t.jjHelperItemId,"jj-helper-item-type":t.jjHelperItemType,parent:t.parent,comment:t.reply,replyList:t.replyList,autoFocus:t.isAutoFocus,placeholder:t.replyPlaceholder,mode:t.mode},on:{emptyBlur:t.onReplyFormEmptyBlur,submitted:t.onSubmitted,syncCommentNum:t.onSyncCommentNum}}):t._e()],1)],1)}),[],!1,null,"74f0bca7",null).exports,V=n(900),R=n.n(V),T={components:{SubComment:H,MoreIcon:R.a},props:["subject","parent","expanded","removable","user","mode","isHiddenReply","hiddenSubComment","jjHelperItemId","jjHelperItemType"],data:function(){return{list:[],cursor:"0",limit:20,count:0,has_more:!0,loading:!1,showAll:!1}},computed:{canFetchMore:function(){var t=this.parent.comment_info.reply_count;return!!this.list.length&&(t>2&&t<=10&&(this.showAll=!0),this.expanded?"0"===this.cursor?this.parent.comment_info.reply_count>this.list.length:this.has_more:this.list.length&&this.parent.comment_info.reply_count>this.list.length)}},watch:{parent:function(t){this.list=t.reply_infos}},methods:{getRouterParams:function(){return{name:{2:"column",4:"pin",12:"book"}[this.subject.item_type],params:{id:this.subject.item_id}}},refetch:function(){this.$emit("refetch")},fetchMore:function(){var t=this;!this.loading&&this.has_more&&(this.loading=!0,Object(_.f)({comment_id:this.parent.comment_info.comment_id,item_id:this.subject.item_id,item_type:this.subject.item_type,cursor:this.cursor,limit:this.limit}).then((function(e){var data=e.data,n=e.count,r=e.has_more,cursor=e.cursor;t.loading=!1,t.mergeList(data),t.count=n,t.has_more=r,t.cursor=cursor})).catch((function(e){t.loading=!1,console.error(e)})))},mergeList:function(t){var e,n=this.list.reduce((function(t,e){return t[e.reply_info.reply_id]=!0,t}),{}),r=t.filter((function(t){return!n[t.reply_info.reply_id]}));(e=this.list).push.apply(e,Object(o.a)(r))},onSyncCommentNum:function(t){this.$emit("syncCommentNum",t)}},created:function(){this.list=this.hiddenSubComment?[]:this.parent.reply_infos}},B=(n(947),Object(E.a)(T,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return t.list.length?n("div",{staticClass:"sub-comment-list"},[n("div",t._l(t.list,(function(e){return n("sub-comment",{key:e.reply_info.reply_id,staticClass:"sub-comment",attrs:{"data-jj-helper-comment-id":e.reply_info&&e.reply_info.reply_id,"data-jj-helper-item-id":t.jjHelperItemId,"data-jj-helper-item-type":t.jjHelperItemType,subject:t.subject,"jj-helper-item-id":t.jjHelperItemId,"jj-helper-item-type":t.jjHelperItemType,parent:t.parent,reply:e,replyList:t.list,removable:t.removable,user:t.user,mode:t.mode,isHiddenReply:t.isHiddenReply},on:{refetch:t.refetch,syncCommentNum:t.onSyncCommentNum}})})),1),t._v(" "),t.canFetchMore&&t.has_more?n("div",{staticClass:"fetch-more"},[t.expanded||t.showAll?t.loading?n("span",{staticClass:"fetch-more-comment"},[t._v("加载中...")]):n("span",{staticClass:"fetch-more-comment",on:{click:t.fetchMore}},[t._v("\n      查看更多回复\n      "),n("MoreIcon")],1):n("app-link",{staticClass:"fetch-more-comment",attrs:{to:t.getRouterParams(),blank:!0}},[t._v("\n      查看更多回复\n    ")])],1):t._e()]):t._e()}),[],!1,null,"681890ca",null).exports),M=n(7),$=n(948),D=n.n($),U=n(884),F=Object(M.b)({components:{VideoSingleIcon:D.a},props:{comment:{type:Object,default:function(){return{}}}},setup:function(t,e){var n=e.root,r=Object(M.a)((function(){return n.$userPosition(t.comment.user_info)}));return{isMobile:n.$device.isMobile,position:r,getVideoDetailRoute:function(t){return{name:U.e.singleDetailRoute,params:{id:t.parent_id,sectionId:t.item_id}}}}}}),N=(n(949),Object(E.a)(F,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"comment-more-info"},[!t.isMobile&&t.position?n("span",{staticClass:"divide"}):t._e(),t._v(" "),t.position?n("span",{staticClass:"position"},[t._v("\n    "+t._s(t.position)+"\n  ")]):t._e(),t._v(" "),!t.isMobile||t.isMobile&&t.position?n("span",{class:{divide:!t.isMobile,dot:t.isMobile}}):t._e(),t._v(" "),n("time",{staticClass:"time",attrs:{datetime:t._f("iso")(1e3*t.comment.comment_info.ctime),title:new Date(1e3*t.comment.comment_info.ctime)}},[t._v("\n    "+t._s(t._f("relative")(1e3*t.comment.comment_info.ctime))+"\n  ")]),t._v(" "),t.comment.root_item&&t.comment.root_item.item_id?n("span",{staticClass:"dot"}):t._e(),t._v(" "),t.comment.root_item&&t.comment.root_item.item_id?n("router-link",{staticClass:"extra-info",attrs:{to:t.getVideoDetailRoute(t.comment.root_item)}},[n("div",{staticClass:"video-title"},[t._v("来自分辑-"+t._s(t.comment.root_item.title))]),t._v(" "),n("VideoSingleIcon",{staticClass:"single-video-icon"})],1):t._e()],1)}),[],!1,null,"29d7f98b",null).exports),Z={components:{Avatar:f.a,Thumb:h.a,CommentForm:m.a,SubCommentList:B,UserPopover:y.default,LikeIcon:k.a,CommentIcon:L.a,LikeActiveIcon:S.a,CommentExtraInfo:N},props:["list","subject","comment","expanded","mode","isHiddenReply","hiddenSubComment","jjHelperItemId","jjHelperItemType"],data:function(){return{likeLock:Object(d.a)(),isReplyFormVisible:!1,isShowAll:!1,isLikeLoading:!1,parseUrlEmoji:j.b,extend:!1,replyCount:this.comment.comment_info.reply_count}},computed:{isMobile:function(){return this.$device.isMobile},isDelete:function(){var t;return null===(t=this.comment.user_info)||void 0===t?void 0:t.is_logout},currentUser:function(){var t=this.$store.getters;return"USER"in t?t.USER:null},isCurrentUsersSubject:function(){return this.currentUser&&this.currentUser.user_id===this.subject.user_id},isCurrentUsersComment:function(){return this.currentUser&&this.currentUser.user_id===this.comment.user_info.user_id},isAdmin:function(){return this.currentUser&&"admin"===this.currentUser.role},hasAuthorBadge:function(){return this.subject.user_id===this.comment.user_info.user_id},removable:function(){return this.isAdmin||this.isCurrentUsersSubject||this.isCurrentUsersComment},mobile:function(){return this.$device.isMobile},imageUrl:function(){return this.comment.comment_info.comment_pics[0]&&this.comment.comment_info.comment_pics[0].pic_url},replyPlaceholder:function(){return"回复".concat(this.comment.user_info.user_name,"...")},isAutoFocus:function(){return!this.currentUser||this.currentUser.isBindedPhone}},methods:{toggleLike:function(){var t=this;return this.currentUser?this.currentUser.isBindedPhone?void(this.isLikeLoading||this.$ensureAuthorized().then((function(){t.isLikeLoading=!0,t.comment.user_interact.is_digg?Object(w.c)({itemId:t.comment.comment_info.comment_id,type:5}).then((function(e){t.isLikeLoading=!1,0!==e.err_no?t.$error(e.err_msg):(t.comment.comment_info.digg_count--,t.comment.user_interact.is_digg=!t.comment.user_interact.is_digg)})):(Object(w.b)({itemId:t.comment.comment_info.comment_id,type:5}).then((function(e){t.isLikeLoading=!1,0!==e.err_no?t.$error(e.err_msg):(t.comment.comment_info.digg_count++,t.comment.user_interact.is_digg=!t.comment.user_interact.is_digg)})),t.$TEA("like_action",{like_comment_mode:t.mode}))}))):this.$requestBindPhoneNumber(I.b.interact):this.$requestLogin()},onReplyFormEmptyBlur:function(){var t=this;window.setTimeout((function(){t.isReplyFormVisible=!1}))},onSubmitted:function(){this.isReplyFormVisible=!1,this.$refs.subCommentList.onSubmitted()},refetch:function(){this.$emit("refetch")},deleteComment:function(t){var e=this;this.$ensureAuthorized("login").then((function(){window.confirm("确定删除这条评论吗？")&&Object(_.a)({comment_id:t.comment_info.comment_id}).then((function(){e.list.some((function(n,r){n.comment_info.comment_id===t.comment_info.comment_id&&e.list.splice(r,1)})),e.$alertMsg("删除成功"),e.$emit("syncCommentNum",{type:"sub",count:t.reply_infos.length})})).catch((function(){e.$alertMsg("删除失败，刷新后重试")}))}))},onSyncCommentNum:function(t){"add"===t.type&&(this.replyCount=this.replyCount+(t.count||1)),"sub"===t.type&&(this.replyCount=this.replyCount-(t.count||1)),this.$emit("syncCommentNum",t)}},mounted:function(){var t=this.$refs.content;if(t){var e=t.clientHeight;t.scrollHeight>e&&(this.extend=!0)}}},z=(n(950),Object(E.a)(Z,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"comment"},[n("UserPopover",{staticClass:"popover",attrs:{"user-id":t.comment.user_info.user_id,"enable-popover":Boolean(!t.isDelete),"show-jscore-level":!0}},[n("app-link",{staticClass:"user-link",attrs:{to:t.$userRoute(t.comment.user_info.user_id),blank:!0}},[n("Avatar",{staticClass:"avatar",attrs:{user:t.comment.user_info,alt:t.comment.user_info.user_name+"的头像"}})],1)],1),t._v(" "),n("div",{staticClass:"content-box"},[n("div",{staticClass:"comment-main"},[n("span",{staticClass:"delete",class:{removable:t.removable},on:{click:function(e){return t.deleteComment(t.comment)}}},[t._v("\n        删除\n      ")]),t._v(" "),n("div",{staticClass:"user-box"},[n("UserPopover",{attrs:{"user-id":t.comment.user_info.user_id,"enable-popover":Boolean(!t.isDelete),"show-jscore-level":!0}},[n("username",{staticClass:"username",attrs:{user:t.comment.user_info,universal:!0,"show-jscore-level":!0}})],1),t._v(" "),t.hasAuthorBadge&&!t.isMobile?n("span",{staticClass:"author-badge-text"},[t._v("\n          （作者）\n        ")]):t._e(),t._v(" "),t.isMobile?t._e():n("CommentExtraInfo",{attrs:{comment:t.comment}})],1),t._v(" "),t.isMobile?n("CommentExtraInfo",{attrs:{comment:t.comment}}):t._e(),t._v(" "),n("div",{ref:"content",staticClass:"content",class:{extend:t.extend&&t.isShowAll,hasimage:!!t.imageUrl},domProps:{innerHTML:t._s(t.parseUrlEmoji(t.comment.comment_info.comment_content))}}),t._v(" "),n("div",{directives:[{name:"show",rawName:"v-show",value:t.extend&&!t.isShowAll,expression:"extend && !isShowAll"}],staticClass:"limit-btn",on:{click:function(e){t.isShowAll=!0}}},[t._v("\n        展开\n      ")]),t._v(" "),n("div",{directives:[{name:"show",rawName:"v-show",value:t.extend&&t.isShowAll,expression:"extend && isShowAll"}],staticClass:"limit-btn",on:{click:function(e){t.isShowAll=!1}}},[t._v("\n        收起\n      ")]),t._v(" "),t.imageUrl?n("Thumb",{staticClass:"viewable",attrs:{"data-src":t.imageUrl,url:t.imageUrl,width:160,height:160,format:"jpg"}}):t._e(),t._v(" "),n("div",{staticClass:"action-box"},[n("div",{staticClass:"action-left"},[n("div",{staticClass:"item dig-item",class:t.comment.user_interact.is_digg&&"active",on:{click:t.toggleLike}},[t.comment.user_interact.is_digg?n("LikeActiveIcon"):n("LikeIcon"),t._v("\n            "+t._s(t.comment.comment_info.digg_count||"点赞")+"\n          ")],1),t._v(" "),t.isHiddenReply?t._e():n("div",{staticClass:"item",class:t.isReplyFormVisible&&"active",on:{click:function(e){t.isReplyFormVisible=!t.isReplyFormVisible}}},[n("CommentIcon"),t._v("\n            "+t._s(t.isReplyFormVisible?"取消回复":t.replyCount||"回复")+"\n          ")],1)])])],1),t._v(" "),n("div",{staticClass:"subcomment-wrapper"},[t.isReplyFormVisible?n("CommentForm",{staticClass:"comment-form",attrs:{subject:t.subject,"jj-helper-item-id":t.jjHelperItemId,"jj-helper-item-type":t.jjHelperItemType,comment:t.comment,"reply-list":t.comment.reply_infos,"auto-focus":t.isAutoFocus,placeholder:t.replyPlaceholder,mode:t.mode},on:{emptyBlur:t.onReplyFormEmptyBlur,submitted:t.onSubmitted,syncCommentNum:t.onSyncCommentNum}}):t._e(),t._v(" "),n("SubCommentList",{ref:"subCommentList",attrs:{"hidden-sub-comment":t.hiddenSubComment,subject:t.subject,"jj-helper-item-id":t.jjHelperItemId,"jj-helper-item-type":t.jjHelperItemType,parent:t.comment,expanded:t.expanded,removable:t.isAdmin||t.isCurrentUsersSubject,user:t.currentUser,mode:t.mode,"is-hidden-reply":t.isHiddenReply},on:{refetch:t.refetch,syncCommentNum:t.onSyncCommentNum}})],1)])],1)}),[],!1,null,"e1bd52a4",null).exports),W={components:{ImageViewer:l.a,Comment:z},props:["subject","list","expanded","mode","isHiddenReply","hiddenSubComment","jjHelperItemId","jjHelperItemType"],methods:{initImageViewer:function(){this.$refs.imageViewer.attachContainer(this.$el)},refetch:function(){this.$emit("refetch")},onSyncCommentNum:function(t){this.$emit("syncCommentNum",t)}},mounted:function(){this.initImageViewer()}},G=Object(E.a)(W,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"comment-list"},[n("ImageViewer",{ref:"imageViewer",attrs:{selector:".viewable"}}),t._v(" "),t._l(t.list,(function(e){return n("comment",{key:e.comment_id,staticClass:"comment",attrs:{"data-jj-helper-comment-id":e.comment_id,"data-jj-helper-item-id":t.jjHelperItemId,"data-jj-helper-item-type":t.jjHelperItemType,"data-jj-helper-comment-status":e.comment_info.comment_status,list:t.list,comment:e,subject:t.subject,"jj-helper-item-id":t.jjHelperItemId,"jj-helper-item-type":t.jjHelperItemType,expanded:t.expanded,"hidden-sub-comment":t.hiddenSubComment,isHiddenReply:t.isHiddenReply,mode:t.mode},on:{refetch:t.refetch,syncCommentNum:t.onSyncCommentNum}})}))],2)}),[],!1,null,null,null).exports,J=n(8),K=n(951),Q=n.n(K),Y=Object(J.d)({props:{subject:{type:Object,required:!0},jjHelperItemId:{type:String,default:""},jjHelperItemType:{type:String,default:""}},components:{HotIcon:Q.a,CommentComp:z,ImageViewer:l.a},setup:function(t){var e=Object(J.r)([]);Object(J.y)((function(){var n=t.subject,r=n.item_id,o=n.item_type;r&&o&&Object(_.e)({item_id:r,item_type:o}).then((function(t){return e.value=t}))}));var n=Object(J.a)((function(){return e.value.slice(0,5)})),r=Object(J.r)(),o=Object(J.r)();return Object(J.x)([r,o],(function(){r.value&&o.value&&r.value.attachContainer(o.value)})),{list:n,imageViewer:r,commentContainer:o}}}),X=(n(952),Object(E.a)(Y,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return t.list.length>0?n("div",{staticClass:"container"},[n("ImageViewer",{ref:"imageViewer",attrs:{selector:".viewable"}}),t._v(" "),n("div",{staticClass:"title"},[t._v("\n    热门评论\n    "),n("HotIcon")],1),t._v(" "),n("div",{ref:"commentContainer",staticClass:"list"},t._l(t.list,(function(e){return n("CommentComp",{key:e.comment_id,attrs:{"data-jj-helper-comment-id":e.comment_id,"data-jj-helper-item-id":t.jjHelperItemId,"data-jj-helper-item-type":t.jjHelperItemType,list:t.list,comment:e,subject:t.subject,"jj-helper-item-id":t.jjHelperItemId,"jj-helper-item-type":t.jjHelperItemType,expanded:!0,mode:"top"}})})),1)],1):t._e()}),[],!1,null,"00f8bb4c",null).exports),tt={components:{CommentForm:m.a,CommentList:G,HotCommentList:X,MoreIcon:R.a},props:["subject","expanded","sticky","forbidInput","small","hasSort","hasHot","threeSiftComment","isHiddenReply","isBestComment","hiddenSubComment","jjHelperItemId","jjHelperItemType"],data:function(){return{list:[],cursor:"0",limit:20,count:0,has_more:!0,loading:!1,listSize:0,sort:"new",hasLoadMore:!1}},watch:{"subject.item_id":{handler:function(t){t&&!this.$isServer&&this.fetchData()}},sortData:{handler:function(){this.$isServer||this.fetchData()}}},computed:{sortData:function(){return{new:0,hot:1}[this.sort]||0}},methods:{setSort:function(t){this.$TEA("comment_switch",{switch:t}),this.sort=t},getMore:function(){var t=this;if(!this.expanded){var e=this.$router.resolve({name:{2:"column",4:"pin",12:"book"}[this.subject.item_type],params:{id:this.subject.item_id},hash:"#comment"}).href;window.open(e,"_blank")}if(this.expanded&&!this.hasLoadMore){this.hasLoadMore=!0,this.fetchMoreIfConditionIsSatisfied();var n=this.$getBean("eventBus");n.onVmLife(this,n.eventType.ROOT_CONTAINER_SCROLL,(function(){t.fetchMoreIfConditionIsSatisfied()})),Object(c.l)(this.$el,(function(){t.fetchMoreIfConditionIsSatisfied()}))}},fetchMore:function(){var t=this;if(!this.loading&&this.has_more){this.loading=!0;var e=this.subject,n=e.item_id,r=e.item_type;Object(_.d)({item_id:n,item_type:r,cursor:this.cursor,limit:this.limit,sort:this.sortData}).then((function(e){var data=e.data,cursor=e.cursor,n=e.count,r=e.has_more;t.listSize=data.length,t.loading=!1,t.mergeList(data),t.count=n,t.cursor=cursor,t.has_more=r})).catch((function(e){t.loading=!1,console.error(e)}))}},mergeList:function(t){var e,n=this.list.reduce((function(t,e){return t[e.comment_id]=!0,t}),{}),r=t.filter((function(t){return!n[t.comment_id]}));(e=this.list).push.apply(e,Object(o.a)(r))},fetchMoreIfConditionIsSatisfied:function(){Object(c.b)(this.$el)>-200&&this.fetchMore()},onRefetch:function(){this.fetchData()},onSyncCommentNum:function(t){this.$emit("syncCommentNum",t)},handleBookCommentScroll:function(){var t=this,e=document.documentElement.clientHeight,n=document.body.scrollHeight;if(document.documentElement.scrollTop+e>=n&&this.has_more&&!this.threeSiftComment){var r=this.subject,c=r.item_id,l=r.item_type;this.limit=this.expanded?20:5,Object(_.d)({item_id:c,item_type:l,cursor:this.cursor,limit:this.limit,sort:this.sortData}).then((function(e){var data=e.data,cursor=e.cursor,n=e.count,r=e.has_more,c=data.filter((function(t){return 5===t.comment_info.comment_status}));t.list=[].concat(Object(o.a)(t.list),Object(o.a)(c)),t.cursor=cursor,t.count=n,t.has_more=r}))}},fetchData:function(){var t=this;return Object(r.a)(regeneratorRuntime.mark((function e(){var n,r,o,c,data,cursor,l,d;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=t.subject,r=n.item_id,o=n.item_type,!t.loading&&r){e.next=3;break}return e.abrupt("return");case 3:return t.loading=!0,t.limit=t.expanded?20:5,t.cursor="0",t.count=0,t.has_more=!0,e.prev=8,e.next=11,Object(_.d)({item_id:r,item_type:o,cursor:t.cursor,limit:t.limit,sort:t.sortData});case 11:c=e.sent,data=c.data,cursor=c.cursor,l=c.count,d=c.has_more,t.listSize=data.length,t.loading=!1,t.list=data,t.threeSiftComment&&data.length>3&&(t.list=t.list.filter((function(t){return 5===t.comment_info.comment_status})),t.list.length>3&&t.$emit("isListLenMore3"),t.list&&0!==t.list.length&&t.$emit("isShowCommentMode"),t.list=t.list.slice(0,3)),t.count=l,t.cursor=cursor,t.has_more=d,t.isBestComment&&(t.list=t.list.filter((function(t){return 5===t.comment_info.comment_status})),addEventListener("scroll",t.handleBookCommentScroll)),e.next=30;break;case 26:e.prev=26,e.t0=e.catch(8),t.loading=!1,console.error(e.t0);case 30:case"end":return e.stop()}}),e,null,[[8,26]])})))()}},mounted:function(){this.fetchData()},beforeDestroy:function(){removeEventListener("scroll",this.handleBookCommentScroll)}},et=(n(953),Object(E.a)(tt,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"container",class:t.small&&"small",attrs:{"data-jj-helper":"comment-container"}},[t.forbidInput?t._e():n("CommentForm",{staticClass:"comment-form",class:{hasborder:t.list&&t.list.length},attrs:{commentList:t.list,subject:t.subject,"jj-helper-item-id":t.jjHelperItemId,"jj-helper-item-type":t.jjHelperItemType,small:t.small},on:{syncCommentNum:t.onSyncCommentNum}}),t._v(" "),t.hasHot?n("HotCommentList",{staticClass:"hot-list hasborder",attrs:{subject:t.subject,"jj-helper-item-id":t.jjHelperItemId,"jj-helper-item-type":t.jjHelperItemType}}):t._e(),t._v(" "),t.list.length?n("div",{staticClass:"comment-list-wrapper"},[n("div",{staticClass:"title"},[t._v("\n      全部评论（"+t._s(t.subject.comment_count)+"）\n      "),t.hasSort?n("div",{staticClass:"sort"},[n("div",{staticClass:"item",class:"new"===t.sort&&"active",on:{click:function(e){return t.setSort("new")}}},[t._v("\n          最新\n        ")]),t._v(" "),n("div",{staticClass:"divide"}),t._v(" "),n("div",{staticClass:"item",class:"hot"===t.sort&&"active",on:{click:function(e){return t.setSort("hot")}}},[t._v("\n          最热\n        ")])]):t._e()]),t._v(" "),n("comment-list",{staticClass:"comment-list",attrs:{list:t.list,subject:t.subject,"jj-helper-item-id":t.jjHelperItemId,"jj-helper-item-type":t.jjHelperItemType,expanded:t.expanded,isHiddenReply:t.isHiddenReply,"hidden-sub-comment":t.hiddenSubComment,mode:t.sort},on:{refetch:t.onRefetch,syncCommentNum:t.onSyncCommentNum}}),t._v(" "),t.list.length<t.subject.comment_count&&t.has_more?n("p",{staticClass:"fetch-more-comment",on:{click:t.getMore}},[t._v("\n      "+t._s(t.hasLoadMore?"加载中...":"查看全部 "+t.subject.comment_count+" 条回复")+"\n      "),t.expanded&&!t.hasLoadMore?n("MoreIcon"):t._e()],1):t._e()],1):t._e()],1)}),[],!1,null,"76f63394",null));e.a=et.exports},942:function(t,e,n){"use strict";n.d(e,"a",(function(){return r})),n.d(e,"c",(function(){return o})),n.d(e,"b",(function(){return c}));n(45),n(119),n(83),n(23),n(24),n(6);function r(t,e){if(0===t)return 0;var n=function(t,e){var n,r,o=0,c=t.toString(),l=e.toString();try{o+=(null===(n=c.split(".")[1])||void 0===n?void 0:n.length)||0}catch(t){console.error(t)}try{o+=(null===(r=l.split(".")[1])||void 0===r?void 0:r.length)||0}catch(t){console.error(t)}c=Number(c.replace(".","")),l=Number(l.replace(".",""));var d=c*l/Math.pow(10,o),f=e>0?.01:0;return Math.max(f,d)}(t,isNaN(e)?1:e/10);return 0===n?0:n.toFixed(2)}function o(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{startTime:0,endTime:0},e=t.startTime,n=t.endTime,time=(new Date).getTime();return time>e&&time<n}function c(t){if(t<0||!t)return"0秒";if(0<=t&&t<60)return t+"秒";var e=Math.floor(t/60),s=Math.floor(t%60);return s>0?e+"分"+s+"秒":e+"分"}},946:function(t,e,n){"use strict";n(899)},947:function(t,e,n){"use strict";n(901)},948:function(t,e,n){n(16),n(15),n(11),n(6),n(14);var r=n(40),o=n(42);function c(object,t){var e=Object.keys(object);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(object);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(object,t).enumerable}))),e.push.apply(e,n)}return e}t.exports={functional:!0,render:function(t,e){var n=e._c,data=(e._v,e.data),l=e.children,d=void 0===l?[]:l,f=data.class,h=data.staticClass,style=data.style,m=data.staticStyle,v=data.attrs,y=void 0===v?{}:v,_=o(data,["class","staticClass","style","staticStyle","attrs"]);return n("svg",function(t){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?c(Object(source),!0).forEach((function(e){r(t,e,source[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(source)):c(Object(source)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(source,e))}))}return t}({class:[f,h],style:[style,m],attrs:Object.assign({width:"12",height:"12",viewBox:"0 0 12 12",fill:"none",xmlns:"http://www.w3.org/2000/svg"},y)},_),d.concat([n("path",{attrs:{d:"M8 6L4 9L4 3L8 6Z",fill:"#8A919F"}})]))}}},949:function(t,e,n){"use strict";n(902)},950:function(t,e,n){"use strict";n(903)},951:function(t,e,n){n(16),n(15),n(11),n(6),n(14);var r=n(40),o=n(42);function c(object,t){var e=Object.keys(object);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(object);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(object,t).enumerable}))),e.push.apply(e,n)}return e}t.exports={functional:!0,render:function(t,e){var n=e._c,data=(e._v,e.data),l=e.children,d=void 0===l?[]:l,f=data.class,h=data.staticClass,style=data.style,m=data.staticStyle,v=data.attrs,y=void 0===v?{}:v,_=o(data,["class","staticClass","style","staticStyle","attrs"]);return n("svg",function(t){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?c(Object(source),!0).forEach((function(e){r(t,e,source[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(source)):c(Object(source)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(source,e))}))}return t}({class:[f,h],style:[style,m],attrs:Object.assign({width:"16",height:"16",viewBox:"0 0 16 16",fill:"none",xmlns:"http://www.w3.org/2000/svg"},y)},_),d.concat([n("path",{attrs:{d:"M12.8 5.2C13.9532 6.46 14.8 8.2 14.8 10C14.7039 12.8937 12.6843 15.1706 9.97973 15.8159C10.359 12.3442 7.77588 9.35406 7.77588 9.35406C7.77588 9.35406 7.99512 13.7064 6.79514 15.8104C4.03715 15.1428 2 12.7806 2 9.8C2 7.776 2.9336 5.9728 4.4 4.8C5.8608 3.7056 6.8 1.9656 6.8 0C9.684 0.4368 11.894 2.9264 11.894 5.932C11.894 6.5012 11.746 7.0652 11.6 7.6C12.1264 6.9024 12.6184 6.0876 12.8 5.2Z",fill:"#F53F3F"}})]))}}},952:function(t,e,n){"use strict";n(904)},953:function(t,e,n){"use strict";n(905)},954:function(t,e,n){"use strict";n.d(e,"c",(function(){return _})),n.d(e,"a",(function(){return w})),n.d(e,"b",(function(){return j}));var r=n(1092),o=n.n(r),c=n(1093),l=n.n(c),d=n(1094),f=n.n(d),h=n(1095),m=n.n(h),v=n(1096),y=n.n(v),_=function(s){return s.attributes["*"].push("data*"),s},w=["arduino","bash","c","cpp","csharp","css","diff","go","ini","java","javascript","json","kotlin","less","lua","makefile","markdown","objectivec","perl","php","phpTemplate","plaintext","python","pythonRepl","r","ruby","rust","scss","shell","sql","swift","typescript","vbnet","xml","yaml","html","dart","scala","vbscript","erlang","matlab"],j={vbscript:o.a,erlang:l.a,matlab:f.a,dart:m.a,scala:y.a}},956:function(t,e,n){},957:function(t,e,n){},958:function(t,e,n){},959:function(t,e,n){},965:function(t,e,n){n(16),n(15),n(11),n(6),n(14);var r=n(40),o=n(42);function c(object,t){var e=Object.keys(object);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(object);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(object,t).enumerable}))),e.push.apply(e,n)}return e}t.exports={functional:!0,render:function(t,e){var n=e._c,data=(e._v,e.data),l=e.children,d=void 0===l?[]:l,f=data.class,h=data.staticClass,style=data.style,m=data.staticStyle,v=data.attrs,y=void 0===v?{}:v,_=o(data,["class","staticClass","style","staticStyle","attrs"]);return n("svg",function(t){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?c(Object(source),!0).forEach((function(e){r(t,e,source[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(source)):c(Object(source)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(source,e))}))}return t}({class:[f,h],style:[style,m],attrs:Object.assign({width:"16",height:"16",viewBox:"0 0 16 16",fill:"none",xmlns:"http://www.w3.org/2000/svg"},y)},_),d.concat([n("path",{attrs:{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M8.00002 0.666504C12.0501 0.666504 15.3334 3.94975 15.3334 7.99984C15.3334 12.0499 12.0501 15.3332 8.00002 15.3332C3.94993 15.3332 0.666687 12.0499 0.666687 7.99984C0.666687 3.94975 3.94993 0.666504 8.00002 0.666504ZM8 2C4.68629 2 2 4.68629 2 8C2 11.3137 4.68629 14 8 14C11.3137 14 14 11.3137 14 8C14 4.68629 11.3137 2 8 2ZM10.6667 5.66667V7.66667H9.33333V5.66667H10.6667ZM6.66667 5.66667V7.66667H5.33333V5.66667H6.66667ZM10.0767 9.33333H11.0495C11.1804 9.33333 11.2866 9.43951 11.2866 9.57048C11.2866 9.60754 11.2779 9.64409 11.2612 9.67718L11.244 9.71053C10.6294 10.8739 9.40726 11.6667 7.99998 11.6667C6.61523 11.6667 5.40977 10.8991 4.7859 9.76612L4.73786 9.67593C4.67845 9.56052 4.72385 9.4188 4.83926 9.35939C4.87253 9.34226 4.90941 9.33333 4.94683 9.33333H5.92347C6.02396 9.33332 6.11908 9.37865 6.18238 9.4567C6.26207 9.55496 6.32833 9.62955 6.38117 9.68046C6.80074 10.0847 7.37133 10.3333 7.99998 10.3333C8.63289 10.3333 9.20694 10.0814 9.62728 9.67224C9.67791 9.62296 9.74135 9.55121 9.8176 9.45698C9.88089 9.37877 9.97611 9.33333 10.0767 9.33333Z"}})]))}}},966:function(t,e,n){"use strict";n(908)},967:function(t,e,n){"use strict";n(909)},975:function(t,e,n){t.exports=n.p+"img/auditing-placeholder.1726838.png"},976:function(t,e,n){t.exports=n.p+"img/auditing-placeholder-mobile.7c24b8f.png"},977:function(t,e,n){t.exports=n.p+"img/loading-placeholder.9112506.png"},978:function(t,e){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAq4AAAMMAQMAAACokrcUAAAABlBMVEUTGiQYIS3+UMXuAAAAgElEQVR42uzMMQ0AAAwCsPnXTMJU8LUCel2IVqvVarVarVar1Wq1Wq1Wq9VqtVqtVqvVttqFHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAPDtwSEBAAAAgKD/r11hAwAAAAAAAGATjapzHPFOaqgAAAAASUVORK5CYII="},979:function(t,e,n){"use strict";n(913)}}]);